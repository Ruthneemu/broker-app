/*! For license information please see main.8c7b7e7a.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),s=Symbol.for("react.element"),o=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,o={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)i.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:s,type:e,key:u,ref:c,props:o,_owner:a.current}}t.Fragment=o,t.jsx=u,t.jsxs=u},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,g(w,v.prototype),w.isPureReactComponent=!0;var x=Array.isArray,k=Object.prototype.hasOwnProperty,S={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var s,o={},i=null,a=null;if(null!=t)for(s in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(i=""+t.key),t)k.call(t,s)&&!_.hasOwnProperty(s)&&(o[s]=t[s]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(s in l=e.defaultProps)void 0===o[s]&&(o[s]=l[s]);return{$$typeof:n,type:e,key:i,ref:a,props:o,_owner:S.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var j=/\/+/g;function L(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function P(e,t,s,o,i){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return i=i(l=e),e=""===o?"."+L(l,0):o,x(i)?(s="",null!=e&&(s=e.replace(j,"$&/")+"/"),P(i,t,s,"",function(e){return e})):null!=i&&(C(i)&&(i=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,s+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(j,"$&/")+"/")+e)),t.push(i)),1;if(l=0,o=""===o?".":o+":",x(e))for(var u=0;u<e.length;u++){var c=o+L(a=e[u],u);l+=P(a,t,s,c,i)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(a=e.next()).done;)l+=P(a=a.value,t,s,c=o+L(a,u++),i);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function O(e,t,n){if(null==e)return e;var r=[],s=0;return P(e,r,"","",function(e){return t.call(n,e,s++)}),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var M={current:null},T={transition:null},R={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:T,ReactCurrentOwner:S};function I(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:O,forEach:function(e,t,n){O(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return O(e,function(){t++}),t},toArray:function(e){return O(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=s,t.Profiler=i,t.PureComponent=b,t.StrictMode=o,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.act=I,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=g({},e.props),o=e.key,i=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,a=S.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)k.call(t,u)&&!_.hasOwnProperty(u)&&(s[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)s.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];s.children=l}return{$$typeof:n,type:e.type,key:o,ref:i,props:s,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=T.transition;T.transition={};try{e()}finally{T.transition=t}},t.unstable_act=I,t.useCallback=function(e,t){return M.current.useCallback(e,t)},t.useContext=function(e){return M.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return M.current.useDeferredValue(e)},t.useEffect=function(e,t){return M.current.useEffect(e,t)},t.useId=function(){return M.current.useId()},t.useImperativeHandle=function(e,t,n){return M.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return M.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return M.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return M.current.useMemo(e,t)},t.useReducer=function(e,t,n){return M.current.useReducer(e,t,n)},t.useRef=function(e){return M.current.useRef(e)},t.useState=function(e){return M.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return M.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return M.current.useTransition()},t.version="18.3.1"},210:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=r(n(829)),o=r(n(736));class i{constructor(e){let{headers:t={},schema:n,fetch:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=new Headers(t),this.schemaName=n,this.fetch=r}from(e){const t=new URL("".concat(this.url,"/").concat(e));return new s.default(t,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new i(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{head:n=!1,get:r=!1,count:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var i;let a;const l=new URL("".concat(this.url,"/rpc/").concat(e));let u;n||r?(a=n?"HEAD":"GET",Object.entries(t).filter(e=>{let[t,n]=e;return void 0!==n}).map(e=>{let[t,n]=e;return[t,Array.isArray(n)?"{".concat(n.join(","),"}"):"".concat(n)]}).forEach(e=>{let[t,n]=e;l.searchParams.append(t,n)})):(a="POST",u=t);const c=new Headers(this.headers);return s&&c.set("Prefer","count=".concat(s)),new o.default({method:a,url:l,headers:c,schema:this.schemaName,body:u,fetch:null!==(i=this.fetch)&&void 0!==i?i:fetch})}}t.default=i},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,s=e[r];if(!(0<o(s,t)))break e;e[r]=t,e[n]=s,n=r}}function r(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,s=e.length,i=s>>>1;r<i;){var a=2*(r+1)-1,l=e[a],u=a+1,c=e[u];if(0>o(l,n))u<s&&0>o(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[a]=n,r=a);else{if(!(u<s&&0>o(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],c=[],d=1,h=null,p=3,f=!1,g=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)s(c);else{if(!(t.startTime<=e))break;s(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function x(e){if(m=!1,w(e),!g)if(null!==r(u))g=!0,T(k);else{var t=r(c);null!==t&&R(x,t.startTime-e)}}function k(e,n){g=!1,m&&(m=!1,y(C),C=-1),f=!0;var o=p;try{for(w(n),h=r(u);null!==h&&(!(h.expirationTime>n)||e&&!P());){var i=h.callback;if("function"===typeof i){h.callback=null,p=h.priorityLevel;var a=i(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?h.callback=a:h===r(u)&&s(u),w(n)}else s(u);h=r(u)}if(null!==h)var l=!0;else{var d=r(c);null!==d&&R(x,d.startTime-n),l=!1}return l}finally{h=null,p=o,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,_=!1,E=null,C=-1,j=5,L=-1;function P(){return!(t.unstable_now()-L<j)}function O(){if(null!==E){var e=t.unstable_now();L=e;var n=!0;try{n=E(!0,e)}finally{n?S():(_=!1,E=null)}}else _=!1}if("function"===typeof b)S=function(){b(O)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,M=N.port2;N.port1.onmessage=O,S=function(){M.postMessage(null)}}else S=function(){v(O,0)};function T(e){E=e,_||(_=!0,S())}function R(e,n){C=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,T(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,s,o){var i=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?i+o:i:o=i,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:s,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>i?(e.sortIndex=o,n(c,e),null===r(u)&&e===r(c)&&(m?(y(C),C=-1):m=!0,R(x,o-i))):(e.sortIndex=a,n(u,e),g||f||(g=!0,T(k))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},286:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=r(n(630)),o=r(n(611));t.default=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=null!==(t=e.shouldThrowOnError)&&void 0!==t&&t,this.signal=e.signal,this.isMaybeSingle=null!==(n=e.isMaybeSingle)&&void 0!==n&&n,e.fetch?this.fetch=e.fetch:"undefined"===typeof fetch?this.fetch=s.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let n=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{var t,n,r,s;let i=null,a=null,l=null,u=e.status,c=e.statusText;if(e.ok){if("HEAD"!==this.method){const n=await e.text();""===n||(a="text/csv"===this.headers.get("Accept")||this.headers.get("Accept")&&(null===(t=this.headers.get("Accept"))||void 0===t?void 0:t.includes("application/vnd.pgrst.plan+text"))?n:JSON.parse(n))}const s=null===(n=this.headers.get("Prefer"))||void 0===n?void 0:n.match(/count=(exact|planned|estimated)/),o=null===(r=e.headers.get("content-range"))||void 0===r?void 0:r.split("/");s&&o&&o.length>1&&(l=parseInt(o[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(a)&&(a.length>1?(i={code:"PGRST116",details:"Results contain ".concat(a.length," rows, application/vnd.pgrst.object+json requires 1 row"),hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,l=null,u=406,c="Not Acceptable"):a=1===a.length?a[0]:null)}else{const t=await e.text();try{i=JSON.parse(t),Array.isArray(i)&&404===e.status&&(a=[],i=null,u=200,c="OK")}catch(d){404===e.status&&""===t?(u=204,c="No Content"):i={message:t}}if(i&&this.isMaybeSingle&&(null===(s=null===i||void 0===i?void 0:i.details)||void 0===s?void 0:s.includes("0 rows"))&&(i=null,u=200,c="OK"),i&&this.shouldThrowOnError)throw new o.default(i)}return{error:i,data:a,count:l,status:u,statusText:c}});return this.shouldThrowOnError||(n=n.catch(e=>{var t,n,r;return{error:{message:"".concat(null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:"FetchError",": ").concat(null===e||void 0===e?void 0:e.message),details:"".concat(null!==(n=null===e||void 0===e?void 0:e.stack)&&void 0!==n?n:""),hint:"",code:"".concat(null!==(r=null===e||void 0===e?void 0:e.code)&&void 0!==r?r:"")},data:null,count:null,status:0,statusText:""}})),n.then(e,t)}returns(){return this}overrideTypes(){return this}}},374:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=r(n(286));class o extends s.default{select(e){let t=!1;const n=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e){let{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:s=r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=s?"".concat(s,".order"):"order",i=this.url.searchParams.get(o);return this.url.searchParams.set(o,"".concat(i?"".concat(i,","):"").concat(e,".").concat(t?"asc":"desc").concat(void 0===n?"":n?".nullsfirst":".nullslast")),this}limit(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r="undefined"===typeof n?"limit":"".concat(n,".limit");return this.url.searchParams.set(r,"".concat(e)),this}range(e,t){let{foreignTable:n,referencedTable:r=n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s="undefined"===typeof r?"offset":"".concat(r,".offset"),o="undefined"===typeof r?"limit":"".concat(r,".limit");return this.url.searchParams.set(s,"".concat(e)),this.url.searchParams.set(o,"".concat(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return"GET"===this.method?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain(){let{analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:o="text"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var i;const a=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=null!==(i=this.headers.get("Accept"))&&void 0!==i?i:"application/json";return this.headers.set("Accept","application/vnd.pgrst.plan+".concat(o,'; for="').concat(l,'"; options=').concat(a,";")),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer","max-affected=".concat(e)),this}}t.default=o},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},611:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}t.default=n},630:(e,t,n)=>{n.r(t),n.d(t,{Headers:()=>i,Request:()=>a,Response:()=>l,default:()=>o,fetch:()=>s});var r=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("unable to locate global object")}();const s=r.fetch,o=r.fetch.bind(r),i=r.Headers,a=r.Request,l=r.Response},730:(e,t,n)=>{var r=n(43),s=n(853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,a={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(a[e]=t,e=0;e<t.length;e++)i.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function g(e,t,n,r,s,o,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){m[e]=new g(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){m[e]=new g(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){m[e]=new g(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){m[e]=new g(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){m[e]=new g(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var s=m.hasOwnProperty(t)?m[t]:null;(null!==s?0!==s.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,s,r)&&(n=null),r||null===s?function(e){return!!d.call(f,e)||!d.call(p,e)&&(h.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=null===n?3!==s.type&&"":n:(t=s.attributeName,r=s.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(s=s.type)||4===s&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)}),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)});var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),k=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),j=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),M=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var T=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function I(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var D,A=Object.assign;function U(e){if(void 0===D)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var z=!1;function B(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var s=u.stack.split("\n"),o=r.stack.split("\n"),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(1!==i||1!==a)do{if(i--,0>--a||s[i]!==o[a]){var l="\n"+s[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=a);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function F(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case k:return"Portal";case E:return"Profiler";case _:return"StrictMode";case P:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case j:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case L:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:W(e.type)||"Memo";case M:t=e._payload,e=e._init;try{return W(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return A({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Q(e,t){Y(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function X(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(r&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return A({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function oe(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ce(e,t)})}:ce);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),s=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}Object.keys(pe).forEach(function(e){fe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]})});var ve=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Se=null,_e=null;function Ee(e){if(e=bs(e)){if("function"!==typeof ke)throw Error(o(280));var t=e.stateNode;t&&(t=xs(t),ke(e.stateNode,e.type,t))}}function Ce(e){Se?_e?_e.push(e):_e=[e]:Se=e}function je(){if(Se){var e=Se,t=_e;if(_e=Se=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Le(e,t){return e(t)}function Pe(){}var Oe=!1;function Ne(e,t,n){if(Oe)return e(t,n);Oe=!0;try{return Le(e,t,n)}finally{Oe=!1,(null!==Se||null!==_e)&&(Pe(),je())}}function Me(e,t){var n=e.stateNode;if(null===n)return null;var r=xs(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Te=!1;if(c)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Te=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(ce){Te=!1}function Ie(e,t,n,r,s,o,i,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var De=!1,Ae=null,Ue=!1,ze=null,Be={onError:function(e){De=!0,Ae=e}};function Fe(e,t,n,r,s,o,i,a,l){De=!1,Ae=null,Ie.apply(Be,arguments)}function We(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(We(e)!==e)throw Error(o(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=We(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(null===s)break;var i=s.alternate;if(null===i){if(null!==(r=s.return)){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return He(s),e;if(i===r)return He(s),t;i=i.sibling}throw Error(o(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=s.unstable_scheduleCallback,$e=s.unstable_cancelCallback,Ze=s.unstable_shouldYield,Je=s.unstable_requestPaint,Ye=s.unstable_now,Qe=s.unstable_getCurrentPriorityLevel,Xe=s.unstable_ImmediatePriority,et=s.unstable_UserBlockingPriority,tt=s.unstable_NormalPriority,nt=s.unstable_LowPriority,rt=s.unstable_IdlePriority,st=null,ot=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,i=268435455&n;if(0!==i){var a=i&~s;0!==a?r=dt(a):0!==(o&=i)&&(r=dt(o))}else 0!==(i=n&~s)?r=dt(i):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&s)&&((s=r&-r)>=(o=t&-t)||16===s&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)s=1<<(n=31-it(t)),r|=e[n],t&=~s;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-it(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,kt,St,_t,Et,Ct=!1,jt=[],Lt=null,Pt=null,Ot=null,Nt=new Map,Mt=new Map,Tt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function It(e,t){switch(e){case"focusin":case"focusout":Lt=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mt.delete(t.pointerId)}}function Dt(e,t,n,r,s,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},null!==t&&(null!==(t=bs(t))&&kt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function At(e){var t=ys(e.target);if(null!==t){var n=We(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void Et(e.priority,function(){St(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bs(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function zt(e,t,n){Ut(e)&&n.delete(t)}function Bt(){Ct=!1,null!==Lt&&Ut(Lt)&&(Lt=null),null!==Pt&&Ut(Pt)&&(Pt=null),null!==Ot&&Ut(Ot)&&(Ot=null),Nt.forEach(zt),Mt.forEach(zt)}function Ft(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Bt)))}function Wt(e){function t(t){return Ft(t,e)}if(0<jt.length){Ft(jt[0],e);for(var n=1;n<jt.length;n++){var r=jt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Lt&&Ft(Lt,e),null!==Pt&&Ft(Pt,e),null!==Ot&&Ft(Ot,e),Nt.forEach(t),Mt.forEach(t),n=0;n<Tt.length;n++)(r=Tt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Tt.length&&null===(n=Tt[0]).blockedOn;)At(n),null===n.blockedOn&&Tt.shift()}var Vt=w.ReactCurrentBatchConfig,Ht=!0;function qt(e,t,n,r){var s=bt,o=Vt.transition;Vt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=s,Vt.transition=o}}function Kt(e,t,n,r){var s=bt,o=Vt.transition;Vt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=s,Vt.transition=o}}function Gt(e,t,n,r){if(Ht){var s=Zt(e,t,n,r);if(null===s)Hr(e,t,r,$t,n),It(e,r);else if(function(e,t,n,r,s){switch(t){case"focusin":return Lt=Dt(Lt,e,t,n,r,s),!0;case"dragenter":return Pt=Dt(Pt,e,t,n,r,s),!0;case"mouseover":return Ot=Dt(Ot,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return Nt.set(o,Dt(Nt.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,Mt.set(o,Dt(Mt.get(o)||null,e,t,n,r,s)),!0}return!1}(s,e,t,n,r))r.stopPropagation();else if(It(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==s;){var o=bs(s);if(null!==o&&xt(o),null===(o=Zt(e,t,n,r))&&Hr(e,t,r,$t,n),o===s)break;s=o}null!==s&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var $t=null;function Zt(e,t,n,r){if($t=null,null!==(e=ys(e=xe(r))))if(null===(t=We(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $t=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case Xe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Qt=null,Xt=null;function en(){if(Xt)return Xt;var e,t,n=Qt,r=n.length,s="value"in Yt?Yt.value:Yt.textContent,o=s.length;for(e=0;e<r&&n[e]===s[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===s[o-t];t++);return Xt=s.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,s,o){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(s):s[i]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return A(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,an,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=sn(un),dn=A({},un,{view:0,detail:0}),hn=sn(dn),pn=A({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),fn=sn(pn),gn=sn(A({},pn,{dataTransfer:0})),mn=sn(A({},dn,{relatedTarget:0})),vn=sn(A({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=A({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(yn),wn=sn(A({},un,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function En(){return _n}var Cn=A({},dn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),jn=sn(Cn),Ln=sn(A({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=sn(A({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),On=sn(A({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=A({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mn=sn(Nn),Tn=[9,13,27,32],Rn=c&&"CompositionEvent"in window,In=null;c&&"documentMode"in document&&(In=document.documentMode);var Dn=c&&"TextEvent"in window&&!In,An=c&&(!Rn||In&&8<In&&11>=In),Un=String.fromCharCode(32),zn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Tn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function qn(e,t,n,r){Ce(r),0<(t=Kr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function $n(e){Ur(e,0)}function Zn(e){if(G(ws(e)))return e}function Jn(e,t){if("change"===e)return t}var Yn=!1;if(c){var Qn;if(c){var Xn="oninput"in document;if(!Xn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Xn="function"===typeof er.oninput}Qn=Xn}else Qn=!1;Yn=Qn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Zn(Gn)){var t=[];qn(t,Gn,e,xe(e)),Ne($n,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Zn(Gn)}function or(e,t){if("click"===e)return Zn(t)}function ir(e,t){if("input"===e||"change"===e)return Zn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!d.call(t,s)||!ar(e[s],t[s]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=void 0===r.end?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=cr(n,o);var i=cr(n,r);s&&i&&(1!==e.rangeCount||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=c&&"documentMode"in document&&11>=document.documentMode,mr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==$(r)||("selectionStart"in(r=mr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Kr(vr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},Sr={},_r={};function Er(e){if(Sr[e])return Sr[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in _r)return Sr[e]=n[t];return e}c&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var Cr=Er("animationend"),jr=Er("animationiteration"),Lr=Er("animationstart"),Pr=Er("transitionend"),Or=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mr(e,t){Or.set(e,t),l(t,[e])}for(var Tr=0;Tr<Nr.length;Tr++){var Rr=Nr[Tr];Mr(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Mr(Cr,"onAnimationEnd"),Mr(jr,"onAnimationIteration"),Mr(Lr,"onAnimationStart"),Mr("dblclick","onDoubleClick"),Mr("focusin","onFocus"),Mr("focusout","onBlur"),Mr(Pr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ir));function Ar(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,s,i,a,l,u){if(Fe.apply(this,arguments),De){if(!De)throw Error(o(198));var c=Ae;De=!1,Ae=null,Ue||(Ue=!0,ze=c)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&s.isPropagationStopped())break e;Ar(s,a,u),o=l}else for(i=0;i<r.length;i++){if(l=(a=r[i]).instance,u=a.currentTarget,a=a.listener,l!==o&&s.isPropagationStopped())break e;Ar(s,a,u),o=l}}}if(Ue)throw e=ze,Ue=!1,ze=null,e}function zr(e,t){var n=t[gs];void 0===n&&(n=t[gs]=new Set);var r=e+"__bubble";n.has(r)||(Vr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),Vr(n,e,r,t)}var Fr="_reactListening"+Math.random().toString(36).slice(2);function Wr(e){if(!e[Fr]){e[Fr]=!0,i.forEach(function(t){"selectionchange"!==t&&(Dr.has(t)||Br(t,!1,e),Br(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Fr]||(t[Fr]=!0,Br("selectionchange",!1,t))}}function Vr(e,t,n,r){switch(Jt(t)){case 1:var s=qt;break;case 4:s=Kt;break;default:s=Gt}n=s.bind(null,t,n,e),s=void 0,!Te||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),r?void 0!==s?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):void 0!==s?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,s){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var a=r.stateNode.containerInfo;if(a===s||8===a.nodeType&&a.parentNode===s)break;if(4===i)for(i=r.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===s||8===l.nodeType&&l.parentNode===s))return;i=i.return}for(;null!==a;){if(null===(i=ys(a)))return;if(5===(l=i.tag)||6===l){r=o=i;continue e}a=a.parentNode}}r=r.return}Ne(function(){var r=o,s=xe(n),i=[];e:{var a=Or.get(e);if(void 0!==a){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=jn;break;case"focusin":u="focus",l=mn;break;case"focusout":u="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Pn;break;case Cr:case jr:case Lr:l=vn;break;case Pr:l=On;break;case"scroll":l=hn;break;case"wheel":l=Mn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Ln}var c=0!==(4&t),d=!c&&"scroll"===e,h=c?null!==a?a+"Capture":null:a;c=[];for(var p,f=r;null!==f;){var g=(p=f).stateNode;if(5===p.tag&&null!==g&&(p=g,null!==h&&(null!=(g=Me(f,h))&&c.push(qr(f,g,p)))),d)break;f=f.return}0<c.length&&(a=new l(a,u,null,n,s),i.push({event:a,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===we||!(u=n.relatedTarget||n.fromElement)||!ys(u)&&!u[fs])&&(l||a)&&(a=s.window===s?s:(a=s.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?ys(u):null)&&(u!==(d=We(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=fn,g="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(c=Ln,g="onPointerLeave",h="onPointerEnter",f="pointer"),d=null==l?a:ws(l),p=null==u?a:ws(u),(a=new c(g,f+"leave",l,n,s)).target=d,a.relatedTarget=p,g=null,ys(s)===r&&((c=new c(h,f+"enter",u,n,s)).target=p,c.relatedTarget=d,g=c),d=g,l&&u)e:{for(h=u,f=0,p=c=l;p;p=Gr(p))f++;for(p=0,g=h;g;g=Gr(g))p++;for(;0<f-p;)c=Gr(c),f--;for(;0<p-f;)h=Gr(h),p--;for(;f--;){if(c===h||null!==h&&c===h.alternate)break e;c=Gr(c),h=Gr(h)}c=null}else c=null;null!==l&&$r(i,a,l,c,!1),null!==u&&null!==d&&$r(i,d,u,c,!0)}if("select"===(l=(a=r?ws(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var m=Jn;else if(Hn(a))if(Yn)m=ir;else{m=sr;var v=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(m=or);switch(m&&(m=m(e,r))?qn(i,m,n,s):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?ws(r):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(mr=v,vr=r,yr=null);break;case"focusout":yr=vr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(i,n,s);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":wr(i,n,s)}var y;if(Rn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Wn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(An&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Wn&&(y=en()):(Qt="value"in(Yt=s)?Yt.value:Yt.textContent,Wn=!0)),0<(v=Kr(r,b)).length&&(b=new wn(b,e,null,n,s),i.push({event:b,listeners:v}),y?b.data=y:null!==(y=Fn(n))&&(b.data=y))),(y=Dn?function(e,t){switch(e){case"compositionend":return Fn(t);case"keypress":return 32!==t.which?null:(zn=!0,Un);case"textInput":return(e=t.data)===Un&&zn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Rn&&Bn(e,t)?(e=en(),Xt=Qt=Yt=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return An&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(s=new wn("onBeforeInput","beforeinput",null,n,s),i.push({event:s,listeners:r}),s.data=y))}Ur(i,t)})}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var s=e,o=s.stateNode;5===s.tag&&null!==o&&(s=o,null!=(o=Me(e,n))&&r.unshift(qr(e,o,s)),null!=(o=Me(e,t))&&r.push(qr(e,o,s))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function $r(e,t,n,r,s){for(var o=t._reactName,i=[];null!==n&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==u&&(a=u,s?null!=(l=Me(n,o))&&i.unshift(qr(n,l,a)):s||null!=(l=Me(n,o))&&i.push(qr(n,l,a))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var Zr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Zr,"\n").replace(Jr,"")}function Qr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(o(425))}function Xr(){}var es=null,ts=null;function ns(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var rs="function"===typeof setTimeout?setTimeout:void 0,ss="function"===typeof clearTimeout?clearTimeout:void 0,os="function"===typeof Promise?Promise:void 0,is="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof os?function(e){return os.resolve(null).then(e).catch(as)}:rs;function as(e){setTimeout(function(){throw e})}function ls(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0===r)return e.removeChild(s),void Wt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=s}while(n);Wt(t)}function us(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function cs(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ds=Math.random().toString(36).slice(2),hs="__reactFiber$"+ds,ps="__reactProps$"+ds,fs="__reactContainer$"+ds,gs="__reactEvents$"+ds,ms="__reactListeners$"+ds,vs="__reactHandles$"+ds;function ys(e){var t=e[hs];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fs]||n[hs]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=cs(e);null!==e;){if(n=e[hs])return n;e=cs(e)}return t}n=(e=n).parentNode}return null}function bs(e){return!(e=e[hs]||e[fs])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ws(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function xs(e){return e[ps]||null}var ks=[],Ss=-1;function _s(e){return{current:e}}function Es(e){0>Ss||(e.current=ks[Ss],ks[Ss]=null,Ss--)}function Cs(e,t){Ss++,ks[Ss]=e.current,e.current=t}var js={},Ls=_s(js),Ps=_s(!1),Os=js;function Ns(e,t){var n=e.type.contextTypes;if(!n)return js;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s,o={};for(s in n)o[s]=t[s];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ms(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ts(){Es(Ps),Es(Ls)}function Rs(e,t,n){if(Ls.current!==js)throw Error(o(168));Cs(Ls,t),Cs(Ps,n)}function Is(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var s in r=r.getChildContext())if(!(s in t))throw Error(o(108,V(e)||"Unknown",s));return A({},n,r)}function Ds(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||js,Os=Ls.current,Cs(Ls,e),Cs(Ps,Ps.current),!0}function As(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Is(e,t,Os),r.__reactInternalMemoizedMergedChildContext=e,Es(Ps),Es(Ls),Cs(Ls,e)):Es(Ps),Cs(Ps,n)}var Us=null,zs=!1,Bs=!1;function Fs(e){null===Us?Us=[e]:Us.push(e)}function Ws(){if(!Bs&&null!==Us){Bs=!0;var e=0,t=bt;try{var n=Us;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Us=null,zs=!1}catch(s){throw null!==Us&&(Us=Us.slice(e+1)),Ge(Xe,Ws),s}finally{bt=t,Bs=!1}}return null}var Vs=[],Hs=0,qs=null,Ks=0,Gs=[],$s=0,Zs=null,Js=1,Ys="";function Qs(e,t){Vs[Hs++]=Ks,Vs[Hs++]=qs,qs=e,Ks=t}function Xs(e,t,n){Gs[$s++]=Js,Gs[$s++]=Ys,Gs[$s++]=Zs,Zs=e;var r=Js;e=Ys;var s=32-it(r)-1;r&=~(1<<s),n+=1;var o=32-it(t)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,Js=1<<32-it(t)+s|n<<s|r,Ys=o+e}else Js=1<<o|n<<s|r,Ys=e}function eo(e){null!==e.return&&(Qs(e,1),Xs(e,1,0))}function to(e){for(;e===qs;)qs=Vs[--Hs],Vs[Hs]=null,Ks=Vs[--Hs],Vs[Hs]=null;for(;e===Zs;)Zs=Gs[--$s],Gs[$s]=null,Ys=Gs[--$s],Gs[$s]=null,Js=Gs[--$s],Gs[$s]=null}var no=null,ro=null,so=!1,oo=null;function io(e,t){var n=Nu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ao(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=us(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Zs?{id:Js,overflow:Ys}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function uo(e){if(so){var t=ro;if(t){var n=t;if(!ao(e,t)){if(lo(e))throw Error(o(418));t=us(n.nextSibling);var r=no;t&&ao(e,t)?io(r,n):(e.flags=-4097&e.flags|2,so=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,so=!1,no=e}}}function co(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!so)return co(e),so=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ns(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw po(),Error(o(418));for(;t;)io(e,t),t=us(t.nextSibling)}if(co(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=us(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?us(e.stateNode.nextSibling):null;return!0}function po(){for(var e=ro;e;)e=us(e.nextSibling)}function fo(){ro=no=null,so=!1}function go(e){null===oo?oo=[e]:oo.push(e)}var mo=w.ReactCurrentBatchConfig;function vo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var s=r,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=s.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function yo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bo(e){return(0,e._init)(e._payload)}function wo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function s(e,t){return(e=Tu(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Au(n,e.mode,r)).return=e,t):((t=s(t,n)).return=e,t)}function u(e,t,n,r){var o=n.type;return o===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===M&&bo(o)===t.type)?((r=s(t,n.props)).ref=vo(e,t,n),r.return=e,r):((r=Ru(n.type,n.key,n.props,null,e.mode,r)).ref=vo(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uu(n,e.mode,r)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Iu(n,e.mode,r,o)).return=e,t):((t=s(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Au(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Ru(t.type,t.key,t.props,null,e.mode,n)).ref=vo(e,null,t),n.return=e,n;case k:return(t=Uu(t,e.mode,n)).return=e,t;case M:return h(e,(0,t._init)(t._payload),n)}if(te(t)||I(t))return(t=Iu(t,e.mode,n,null)).return=e,t;yo(e,t)}return null}function p(e,t,n,r){var s=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==s?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===s?u(e,t,n,r):null;case k:return n.key===s?c(e,t,n,r):null;case M:return p(e,t,(s=n._init)(n._payload),r)}if(te(n)||I(n))return null!==s?null:d(e,t,n,r,null);yo(e,n)}return null}function f(e,t,n,r,s){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,s);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return u(t,e=e.get(null===r.key?n:r.key)||null,r,s);case k:return c(t,e=e.get(null===r.key?n:r.key)||null,r,s);case M:return f(e,t,n,(0,r._init)(r._payload),s)}if(te(r)||I(r))return d(t,e=e.get(n)||null,r,s,null);yo(t,r)}return null}function g(s,o,a,l){for(var u=null,c=null,d=o,g=o=0,m=null;null!==d&&g<a.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var v=p(s,d,a[g],l);if(null===v){null===d&&(d=m);break}e&&d&&null===v.alternate&&t(s,d),o=i(v,o,g),null===c?u=v:c.sibling=v,c=v,d=m}if(g===a.length)return n(s,d),so&&Qs(s,g),u;if(null===d){for(;g<a.length;g++)null!==(d=h(s,a[g],l))&&(o=i(d,o,g),null===c?u=d:c.sibling=d,c=d);return so&&Qs(s,g),u}for(d=r(s,d);g<a.length;g++)null!==(m=f(d,s,g,a[g],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?g:m.key),o=i(m,o,g),null===c?u=m:c.sibling=m,c=m);return e&&d.forEach(function(e){return t(s,e)}),so&&Qs(s,g),u}function m(s,a,l,u){var c=I(l);if("function"!==typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var d=c=null,g=a,m=a=0,v=null,y=l.next();null!==g&&!y.done;m++,y=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var b=p(s,g,y.value,u);if(null===b){null===g&&(g=v);break}e&&g&&null===b.alternate&&t(s,g),a=i(b,a,m),null===d?c=b:d.sibling=b,d=b,g=v}if(y.done)return n(s,g),so&&Qs(s,m),c;if(null===g){for(;!y.done;m++,y=l.next())null!==(y=h(s,y.value,u))&&(a=i(y,a,m),null===d?c=y:d.sibling=y,d=y);return so&&Qs(s,m),c}for(g=r(s,g);!y.done;m++,y=l.next())null!==(y=f(g,s,m,y.value,u))&&(e&&null!==y.alternate&&g.delete(null===y.key?m:y.key),a=i(y,a,m),null===d?c=y:d.sibling=y,d=y);return e&&g.forEach(function(e){return t(s,e)}),so&&Qs(s,m),c}return function e(r,o,i,l){if("object"===typeof i&&null!==i&&i.type===S&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case x:e:{for(var u=i.key,c=o;null!==c;){if(c.key===u){if((u=i.type)===S){if(7===c.tag){n(r,c.sibling),(o=s(c,i.props.children)).return=r,r=o;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===M&&bo(u)===c.type){n(r,c.sibling),(o=s(c,i.props)).ref=vo(r,c,i),o.return=r,r=o;break e}n(r,c);break}t(r,c),c=c.sibling}i.type===S?((o=Iu(i.props.children,r.mode,l,i.key)).return=r,r=o):((l=Ru(i.type,i.key,i.props,null,r.mode,l)).ref=vo(r,o,i),l.return=r,r=l)}return a(r);case k:e:{for(c=i.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===i.containerInfo&&o.stateNode.implementation===i.implementation){n(r,o.sibling),(o=s(o,i.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Uu(i,r.mode,l)).return=r,r=o}return a(r);case M:return e(r,o,(c=i._init)(i._payload),l)}if(te(i))return g(r,o,i,l);if(I(i))return m(r,o,i,l);yo(r,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==o&&6===o.tag?(n(r,o.sibling),(o=s(o,i)).return=r,r=o):(n(r,o),(o=Au(i,r.mode,l)).return=r,r=o),a(r)):n(r,o)}}var xo=wo(!0),ko=wo(!1),So=_s(null),_o=null,Eo=null,Co=null;function jo(){Co=Eo=_o=null}function Lo(e){var t=So.current;Es(So),e._currentValue=t}function Po(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Oo(e,t){_o=e,Co=Eo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ba=!0),e.firstContext=null)}function No(e){var t=e._currentValue;if(Co!==e)if(e={context:e,memoizedValue:t,next:null},null===Eo){if(null===_o)throw Error(o(308));Eo=e,_o.dependencies={lanes:0,firstContext:e}}else Eo=Eo.next=e;return t}var Mo=null;function To(e){null===Mo?Mo=[e]:Mo.push(e)}function Ro(e,t,n,r){var s=t.interleaved;return null===s?(n.next=n,To(t)):(n.next=s.next,s.next=n),t.interleaved=n,Io(e,r)}function Io(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Do=!1;function Ao(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Uo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ll)){var s=r.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Io(e,n)}return null===(s=r.interleaved)?(t.next=t,To(r)):(t.next=s.next,s.next=t),r.interleaved=t,Io(e,n)}function Fo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Wo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var s=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?s=o=i:o=o.next=i,n=n.next}while(null!==n);null===o?s=o=t:o=o.next=t}else s=o=t;return n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Vo(e,t,n,r){var s=e.updateQueue;Do=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(null!==a){s.shared.pending=null;var l=a,u=l.next;l.next=null,null===i?o=u:i.next=u,i=l;var c=e.alternate;null!==c&&((a=(c=c.updateQueue).lastBaseUpdate)!==i&&(null===a?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(null!==o){var d=s.baseState;for(i=0,c=u=l=null,a=o;;){var h=a.lane,p=a.eventTime;if((r&h)===h){null!==c&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var f=e,g=a;switch(h=t,p=n,g.tag){case 1:if("function"===typeof(f=g.payload)){d=f.call(p,d,h);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=g.payload)?f.call(p,d,h):f)||void 0===h)break e;d=A({},d,h);break e;case 2:Do=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=s.effects)?s.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(u=c=p,l=d):c=c.next=p,i|=h;if(null===(a=a.next)){if(null===(a=s.shared.pending))break;a=(h=a).next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}if(null===c&&(l=d),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,null!==(t=s.shared.interleaved)){s=t;do{i|=s.lane,s=s.next}while(s!==t)}else null===o&&(s.shared.lanes=0);Dl|=i,e.lanes=i,e.memoizedState=d}}function Ho(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(null!==s){if(r.callback=null,r=n,"function"!==typeof s)throw Error(o(191,s));s.call(r)}}}var qo={},Ko=_s(qo),Go=_s(qo),$o=_s(qo);function Zo(e){if(e===qo)throw Error(o(174));return e}function Jo(e,t){switch(Cs($o,t),Cs(Go,e),Cs(Ko,qo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Es(Ko),Cs(Ko,t)}function Yo(){Es(Ko),Es(Go),Es($o)}function Qo(e){Zo($o.current);var t=Zo(Ko.current),n=le(t,e.type);t!==n&&(Cs(Go,e),Cs(Ko,n))}function Xo(e){Go.current===e&&(Es(Ko),Es(Go))}var ei=_s(0);function ti(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ni=[];function ri(){for(var e=0;e<ni.length;e++)ni[e]._workInProgressVersionPrimary=null;ni.length=0}var si=w.ReactCurrentDispatcher,oi=w.ReactCurrentBatchConfig,ii=0,ai=null,li=null,ui=null,ci=!1,di=!1,hi=0,pi=0;function fi(){throw Error(o(321))}function gi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function mi(e,t,n,r,s,i){if(ii=i,ai=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,si.current=null===e||null===e.memoizedState?Xi:ea,e=n(r,s),di){i=0;do{if(di=!1,hi=0,25<=i)throw Error(o(301));i+=1,ui=li=null,t.updateQueue=null,si.current=ta,e=n(r,s)}while(di)}if(si.current=Qi,t=null!==li&&null!==li.next,ii=0,ui=li=ai=null,ci=!1,t)throw Error(o(300));return e}function vi(){var e=0!==hi;return hi=0,e}function yi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ui?ai.memoizedState=ui=e:ui=ui.next=e,ui}function bi(){if(null===li){var e=ai.alternate;e=null!==e?e.memoizedState:null}else e=li.next;var t=null===ui?ai.memoizedState:ui.next;if(null!==t)ui=t,li=e;else{if(null===e)throw Error(o(310));e={memoizedState:(li=e).memoizedState,baseState:li.baseState,baseQueue:li.baseQueue,queue:li.queue,next:null},null===ui?ai.memoizedState=ui=e:ui=ui.next=e}return ui}function wi(e,t){return"function"===typeof t?t(e):t}function xi(e){var t=bi(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=li,s=r.baseQueue,i=n.pending;if(null!==i){if(null!==s){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(null!==s){i=s.next,r=r.baseState;var l=a=null,u=null,c=i;do{var d=c.lane;if((ii&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=h,a=r):u=u.next=h,ai.lanes|=d,Dl|=d}c=c.next}while(null!==c&&c!==i);null===u?a=r:u.next=l,ar(r,t.memoizedState)||(ba=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){s=e;do{i=s.lane,ai.lanes|=i,Dl|=i,s=s.next}while(s!==e)}else null===s&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ki(e){var t=bi(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(null!==s){n.pending=null;var a=s=s.next;do{i=e(i,a.action),a=a.next}while(a!==s);ar(i,t.memoizedState)||(ba=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Si(){}function _i(e,t){var n=ai,r=bi(),s=t(),i=!ar(r.memoizedState,s);if(i&&(r.memoizedState=s,ba=!0),r=r.queue,Di(ji.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||null!==ui&&1&ui.memoizedState.tag){if(n.flags|=2048,Ni(9,Ci.bind(null,n,r,s,t),void 0,null),null===Pl)throw Error(o(349));0!==(30&ii)||Ei(n,t,s)}return s}function Ei(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ai.updateQueue)?(t={lastEffect:null,stores:null},ai.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ci(e,t,n,r){t.value=n,t.getSnapshot=r,Li(t)&&Pi(e)}function ji(e,t,n){return n(function(){Li(t)&&Pi(e)})}function Li(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Pi(e){var t=Io(e,1);null!==t&&nu(t,e,1,-1)}function Oi(e){var t=yi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:e},t.queue=e,e=e.dispatch=$i.bind(null,ai,e),[t.memoizedState,e]}function Ni(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ai.updateQueue)?(t={lastEffect:null,stores:null},ai.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Mi(){return bi().memoizedState}function Ti(e,t,n,r){var s=yi();ai.flags|=e,s.memoizedState=Ni(1|t,n,void 0,void 0===r?null:r)}function Ri(e,t,n,r){var s=bi();r=void 0===r?null:r;var o=void 0;if(null!==li){var i=li.memoizedState;if(o=i.destroy,null!==r&&gi(r,i.deps))return void(s.memoizedState=Ni(t,n,o,r))}ai.flags|=e,s.memoizedState=Ni(1|t,n,o,r)}function Ii(e,t){return Ti(8390656,8,e,t)}function Di(e,t){return Ri(2048,8,e,t)}function Ai(e,t){return Ri(4,2,e,t)}function Ui(e,t){return Ri(4,4,e,t)}function zi(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Bi(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ri(4,4,zi.bind(null,t,e),n)}function Fi(){}function Wi(e,t){var n=bi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&gi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Vi(e,t){var n=bi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&gi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Hi(e,t,n){return 0===(21&ii)?(e.baseState&&(e.baseState=!1,ba=!0),e.memoizedState=n):(ar(n,t)||(n=gt(),ai.lanes|=n,Dl|=n,e.baseState=!0),t)}function qi(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=oi.transition;oi.transition={};try{e(!1),t()}finally{bt=n,oi.transition=r}}function Ki(){return bi().memoizedState}function Gi(e,t,n){var r=tu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Zi(e))Ji(t,n);else if(null!==(n=Ro(e,t,n,r))){nu(n,e,r,eu()),Yi(n,t,r)}}function $i(e,t,n){var r=tu(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Zi(e))Ji(t,s);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var i=t.lastRenderedState,a=o(i,n);if(s.hasEagerState=!0,s.eagerState=a,ar(a,i)){var l=t.interleaved;return null===l?(s.next=s,To(t)):(s.next=l.next,l.next=s),void(t.interleaved=s)}}catch(u){}null!==(n=Ro(e,t,s,r))&&(nu(n,e,r,s=eu()),Yi(n,t,r))}}function Zi(e){var t=e.alternate;return e===ai||null!==t&&t===ai}function Ji(e,t){di=ci=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Yi(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Qi={readContext:No,useCallback:fi,useContext:fi,useEffect:fi,useImperativeHandle:fi,useInsertionEffect:fi,useLayoutEffect:fi,useMemo:fi,useReducer:fi,useRef:fi,useState:fi,useDebugValue:fi,useDeferredValue:fi,useTransition:fi,useMutableSource:fi,useSyncExternalStore:fi,useId:fi,unstable_isNewReconciler:!1},Xi={readContext:No,useCallback:function(e,t){return yi().memoizedState=[e,void 0===t?null:t],e},useContext:No,useEffect:Ii,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ti(4194308,4,zi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ti(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ti(4,2,e,t)},useMemo:function(e,t){var n=yi();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=yi();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Gi.bind(null,ai,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},yi().memoizedState=e},useState:Oi,useDebugValue:Fi,useDeferredValue:function(e){return yi().memoizedState=e},useTransition:function(){var e=Oi(!1),t=e[0];return e=qi.bind(null,e[1]),yi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ai,s=yi();if(so){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Pl)throw Error(o(349));0!==(30&ii)||Ei(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Ii(ji.bind(null,r,i,e),[e]),r.flags|=2048,Ni(9,Ci.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=yi(),t=Pl.identifierPrefix;if(so){var n=Ys;t=":"+t+"R"+(n=(Js&~(1<<32-it(Js)-1)).toString(32)+n),0<(n=hi++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=pi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:No,useCallback:Wi,useContext:No,useEffect:Di,useImperativeHandle:Bi,useInsertionEffect:Ai,useLayoutEffect:Ui,useMemo:Vi,useReducer:xi,useRef:Mi,useState:function(){return xi(wi)},useDebugValue:Fi,useDeferredValue:function(e){return Hi(bi(),li.memoizedState,e)},useTransition:function(){return[xi(wi)[0],bi().memoizedState]},useMutableSource:Si,useSyncExternalStore:_i,useId:Ki,unstable_isNewReconciler:!1},ta={readContext:No,useCallback:Wi,useContext:No,useEffect:Di,useImperativeHandle:Bi,useInsertionEffect:Ai,useLayoutEffect:Ui,useMemo:Vi,useReducer:ki,useRef:Mi,useState:function(){return ki(wi)},useDebugValue:Fi,useDeferredValue:function(e){var t=bi();return null===li?t.memoizedState=e:Hi(t,li.memoizedState,e)},useTransition:function(){return[ki(wi)[0],bi().memoizedState]},useMutableSource:Si,useSyncExternalStore:_i,useId:Ki,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=A({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:A({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var sa={isMounted:function(e){return!!(e=e._reactInternals)&&We(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eu(),s=tu(e),o=zo(r,s);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Bo(e,o,s))&&(nu(t,e,s,r),Fo(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eu(),s=tu(e),o=zo(r,s);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Bo(e,o,s))&&(nu(t,e,s,r),Fo(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),r=tu(e),s=zo(n,r);s.tag=2,void 0!==t&&null!==t&&(s.callback=t),null!==(t=Bo(e,s,r))&&(nu(t,e,r,n),Fo(t,e,r))}};function oa(e,t,n,r,s,o,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,i):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(s,o))}function ia(e,t,n){var r=!1,s=js,o=t.contextType;return"object"===typeof o&&null!==o?o=No(o):(s=Ms(t)?Os:Ls.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ns(e,s):js),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=sa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&sa.enqueueReplaceState(t,t.state,null)}function la(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Ao(e);var o=t.contextType;"object"===typeof o&&null!==o?s.context=No(o):(o=Ms(t)?Os:Ls.current,s.context=Ns(e,o)),s.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(ra(e,t,o,n),s.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(t=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),t!==s.state&&sa.enqueueReplaceState(s,s.state,null),Vo(e,n,s,r),s.state=e.memoizedState),"function"===typeof s.componentDidMount&&(e.flags|=4194308)}function ua(e,t){try{var n="",r=t;do{n+=F(r),r=r.return}while(r);var s=n}catch(o){s="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:s,digest:null}}function ca(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ha="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=zo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,ql=r),da(0,t)},n}function fa(e,t,n){(n=zo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){da(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){da(0,t),"function"!==typeof r&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ga(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ha;var s=new Set;r.set(t,s)}else void 0===(s=r.get(t))&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Eu.bind(null,e,t,n),t.then(e,e))}function ma(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function va(e,t,n,r,s){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=zo(-1,1)).tag=2,Bo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var ya=w.ReactCurrentOwner,ba=!1;function wa(e,t,n,r){t.child=null===e?ko(t,null,n,r):xo(t,e.child,n,r)}function xa(e,t,n,r,s){n=n.render;var o=t.ref;return Oo(t,s),r=mi(e,t,n,r,o,s),n=vi(),null===e||ba?(so&&n&&eo(t),t.flags|=1,wa(e,t,r,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ha(e,t,s))}function ka(e,t,n,r,s){if(null===e){var o=n.type;return"function"!==typeof o||Mu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ru(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Sa(e,t,o,r,s))}if(o=e.child,0===(e.lanes&s)){var i=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(i,r)&&e.ref===t.ref)return Ha(e,t,s)}return t.flags|=1,(e=Tu(o,r)).ref=t.ref,e.return=t,t.child=e}function Sa(e,t,n,r,s){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(ba=!1,t.pendingProps=r=o,0===(e.lanes&s))return t.lanes=e.lanes,Ha(e,t,s);0!==(131072&e.flags)&&(ba=!0)}}return Ca(e,t,n,r,s)}function _a(e,t,n){var r=t.pendingProps,s=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Cs(Tl,Ml),Ml|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Cs(Tl,Ml),Ml|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Cs(Tl,Ml),Ml|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Cs(Tl,Ml),Ml|=r;return wa(e,t,s,n),t.child}function Ea(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ca(e,t,n,r,s){var o=Ms(n)?Os:Ls.current;return o=Ns(t,o),Oo(t,s),n=mi(e,t,n,r,o,s),r=vi(),null===e||ba?(so&&r&&eo(t),t.flags|=1,wa(e,t,n,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ha(e,t,s))}function ja(e,t,n,r,s){if(Ms(n)){var o=!0;Ds(t)}else o=!1;if(Oo(t,s),null===t.stateNode)Va(e,t),ia(t,n,r),la(t,n,r,s),r=!0;else if(null===e){var i=t.stateNode,a=t.memoizedProps;i.props=a;var l=i.context,u=n.contextType;"object"===typeof u&&null!==u?u=No(u):u=Ns(t,u=Ms(n)?Os:Ls.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof i.getSnapshotBeforeUpdate;d||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(a!==r||l!==u)&&aa(t,i,r,u),Do=!1;var h=t.memoizedState;i.state=h,Vo(t,r,i,s),l=t.memoizedState,a!==r||h!==l||Ps.current||Do?("function"===typeof c&&(ra(t,n,c,r),l=t.memoizedState),(a=Do||oa(t,n,a,r,h,l,u))?(d||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=u,r=a):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Uo(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:na(t.type,a),i.props=u,d=t.pendingProps,h=i.context,"object"===typeof(l=n.contextType)&&null!==l?l=No(l):l=Ns(t,l=Ms(n)?Os:Ls.current);var p=n.getDerivedStateFromProps;(c="function"===typeof p||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(a!==d||h!==l)&&aa(t,i,r,l),Do=!1,h=t.memoizedState,i.state=h,Vo(t,r,i,s);var f=t.memoizedState;a!==d||h!==f||Ps.current||Do?("function"===typeof p&&(ra(t,n,p,r),f=t.memoizedState),(u=Do||oa(t,n,u,r,h,f,l)||!1)?(c||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,f,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),i.props=r,i.state=f,i.context=l,r=u):("function"!==typeof i.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return La(e,t,n,r,o,s)}function La(e,t,n,r,s,o){Ea(e,t);var i=0!==(128&t.flags);if(!r&&!i)return s&&As(t,n,!1),Ha(e,t,o);r=t.stateNode,ya.current=t;var a=i&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=xo(t,e.child,null,o),t.child=xo(t,null,a,o)):wa(e,t,a,o),t.memoizedState=r.state,s&&As(t,n,!0),t.child}function Pa(e){var t=e.stateNode;t.pendingContext?Rs(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Rs(0,t.context,!1),Jo(e,t.containerInfo)}function Oa(e,t,n,r,s){return fo(),go(s),t.flags|=256,wa(e,t,n,r),t.child}var Na,Ma,Ta,Ra,Ia={dehydrated:null,treeContext:null,retryLane:0};function Da(e){return{baseLanes:e,cachePool:null,transitions:null}}function Aa(e,t,n){var r,s=t.pendingProps,i=ei.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&i)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Cs(ei,1&i),null===e)return uo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=s.children,e=s.fallback,a?(s=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&s)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Du(l,s,0,null),e=Iu(e,s,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Da(n),t.memoizedState=Ia,e):Ua(t,l));if(null!==(i=e.memoizedState)&&null!==(r=i.dehydrated))return function(e,t,n,r,s,i,a){if(n)return 256&t.flags?(t.flags&=-257,za(e,t,a,r=ca(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Du({mode:"visible",children:r.children},s,0,null),(i=Iu(i,s,a,null)).flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,0!==(1&t.mode)&&xo(t,e.child,null,a),t.child.memoizedState=Da(a),t.memoizedState=Ia,i);if(0===(1&t.mode))return za(e,t,a,null);if("$!"===s.data){if(r=s.nextSibling&&s.nextSibling.dataset)var l=r.dgst;return r=l,za(e,t,a,r=ca(i=Error(o(419)),r,void 0))}if(l=0!==(a&e.childLanes),ba||l){if(null!==(r=Pl)){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(s=0!==(s&(r.suspendedLanes|a))?0:s)&&s!==i.retryLane&&(i.retryLane=s,Io(e,s),nu(r,e,s,-1))}return gu(),za(e,t,a,r=ca(Error(o(421))))}return"$?"===s.data?(t.flags|=128,t.child=e.child,t=ju.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,ro=us(s.nextSibling),no=t,so=!0,oo=null,null!==e&&(Gs[$s++]=Js,Gs[$s++]=Ys,Gs[$s++]=Zs,Js=e.id,Ys=e.overflow,Zs=t),t=Ua(t,r.children),t.flags|=4096,t)}(e,t,l,s,r,i,n);if(a){a=s.fallback,l=t.mode,r=(i=e.child).sibling;var u={mode:"hidden",children:s.children};return 0===(1&l)&&t.child!==i?((s=t.child).childLanes=0,s.pendingProps=u,t.deletions=null):(s=Tu(i,u)).subtreeFlags=14680064&i.subtreeFlags,null!==r?a=Tu(r,a):(a=Iu(a,l,n,null)).flags|=2,a.return=t,s.return=t,s.sibling=a,t.child=s,s=a,a=t.child,l=null===(l=e.child.memoizedState)?Da(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Ia,s}return e=(a=e.child).sibling,s=Tu(a,{mode:"visible",children:s.children}),0===(1&t.mode)&&(s.lanes=n),s.return=t,s.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Ua(e,t){return(t=Du({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function za(e,t,n,r){return null!==r&&go(r),xo(t,e.child,null,n),(e=Ua(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ba(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Po(e.return,t,n)}function Fa(e,t,n,r,s){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function Wa(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(wa(e,t,r.children,n),0!==(2&(r=ei.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ba(e,n,t);else if(19===e.tag)Ba(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Cs(ei,r),0===(1&t.mode))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===ti(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Fa(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===ti(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Fa(t,!0,n,null,o);break;case"together":Fa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Va(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ha(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Dl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Tu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Tu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qa(e,t){if(!so)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ka(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=14680064&s.subtreeFlags,r|=14680064&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ga(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ka(t),null;case 1:case 17:return Ms(t.type)&&Ts(),Ka(t),null;case 3:return r=t.stateNode,Yo(),Es(Ps),Es(Ls),ri(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(iu(oo),oo=null))),Ma(e,t),Ka(t),null;case 5:Xo(t);var s=Zo($o.current);if(n=t.type,null!==e&&null!=t.stateNode)Ta(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ka(t),null}if(e=Zo(Ko.current),ho(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[hs]=t,r[ps]=i,e=0!==(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(s=0;s<Ir.length;s++)zr(Ir[s],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":J(r,i),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},zr("invalid",r);break;case"textarea":se(r,i),zr("invalid",r)}for(var l in ye(n,i),s=null,i)if(i.hasOwnProperty(l)){var u=i[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==i.suppressHydrationWarning&&Qr(r.textContent,u,e),s=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==i.suppressHydrationWarning&&Qr(r.textContent,u,e),s=["children",""+u]):a.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&zr("scroll",r)}switch(n){case"input":K(r),X(r,i,!0);break;case"textarea":K(r),ie(r);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(r.onclick=Xr)}r=s,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===s.nodeType?s:s.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hs]=t,e[ps]=r,Na(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":zr("cancel",e),zr("close",e),s=r;break;case"iframe":case"object":case"embed":zr("load",e),s=r;break;case"video":case"audio":for(s=0;s<Ir.length;s++)zr(Ir[s],e);s=r;break;case"source":zr("error",e),s=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),s=r;break;case"details":zr("toggle",e),s=r;break;case"input":J(e,r),s=Z(e,r),zr("invalid",e);break;case"option":default:s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=A({},r,{value:void 0}),zr("invalid",e);break;case"textarea":se(e,r),s=re(e,r),zr("invalid",e)}for(i in ye(n,s),u=s)if(u.hasOwnProperty(i)){var c=u[i];"style"===i?me(e,c):"dangerouslySetInnerHTML"===i?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===i?"string"===typeof c?("textarea"!==n||""!==c)&&he(e,c):"number"===typeof c&&he(e,""+c):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(a.hasOwnProperty(i)?null!=c&&"onScroll"===i&&zr("scroll",e):null!=c&&b(e,i,c,l))}switch(n){case"input":K(e),X(e,r,!1);break;case"textarea":K(e),ie(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(i=r.value)?ne(e,!!r.multiple,i,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof s.onClick&&(e.onclick=Xr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ka(t),null;case 6:if(e&&null!=t.stateNode)Ra(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=Zo($o.current),Zo(Ko.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[hs]=t,(i=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Qr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qr(r.nodeValue,n,0!==(1&e.mode))}i&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hs]=t,t.stateNode=r}return Ka(t),null;case 13:if(Es(ei),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(so&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))po(),fo(),t.flags|=98560,i=!1;else if(i=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(o(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(o(317));i[hs]=t}else fo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ka(t),i=!1}else null!==oo&&(iu(oo),oo=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ei.current)?0===Rl&&(Rl=3):gu())),null!==t.updateQueue&&(t.flags|=4),Ka(t),null);case 4:return Yo(),Ma(e,t),null===e&&Wr(t.stateNode.containerInfo),Ka(t),null;case 10:return Lo(t.type._context),Ka(t),null;case 19:if(Es(ei),null===(i=t.memoizedState))return Ka(t),null;if(r=0!==(128&t.flags),null===(l=i.rendering))if(r)qa(i,!1);else{if(0!==Rl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ti(e))){for(t.flags|=128,qa(i,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(i=n).flags&=14680066,null===(l=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Cs(ei,1&ei.current|2),t.child}e=e.sibling}null!==i.tail&&Ye()>Wl&&(t.flags|=128,r=!0,qa(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ti(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qa(i,!0),null===i.tail&&"hidden"===i.tailMode&&!l.alternate&&!so)return Ka(t),null}else 2*Ye()-i.renderingStartTime>Wl&&1073741824!==n&&(t.flags|=128,r=!0,qa(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=i.last)?n.sibling=l:t.child=l,i.last=l)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ye(),t.sibling=null,n=ei.current,Cs(ei,r?1&n|2:1&n),t):(Ka(t),null);case 22:case 23:return du(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ml)&&(Ka(t),6&t.subtreeFlags&&(t.flags|=8192)):Ka(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function $a(e,t){switch(to(t),t.tag){case 1:return Ms(t.type)&&Ts(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Yo(),Es(Ps),Es(Ls),ri(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xo(t),null;case 13:if(Es(ei),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));fo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Es(ei),null;case 4:return Yo(),null;case 10:return Lo(t.type._context),null;case 22:case 23:return du(),null;default:return null}}Na=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ma=function(){},Ta=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Zo(Ko.current);var o,i=null;switch(n){case"input":s=Z(e,s),r=Z(e,r),i=[];break;case"select":s=A({},s,{value:void 0}),r=A({},r,{value:void 0}),i=[];break;case"textarea":s=re(e,s),r=re(e,r),i=[];break;default:"function"!==typeof s.onClick&&"function"===typeof r.onClick&&(e.onclick=Xr)}for(c in ye(n,r),n=null,s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&null!=s[c])if("style"===c){var l=s[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(a.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=s?s[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(i=i||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(i=i||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(a.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&zr("scroll",e),i||l===u||(i=[])):(i=i||[]).push(c,u))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}},Ra=function(e,t,n,r){n!==r&&(t.flags|=4)};var Za=!1,Ja=!1,Ya="function"===typeof WeakSet?WeakSet:Set,Qa=null;function Xa(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){_u(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){_u(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,void 0!==o&&el(t,n,o)}s=s.next}while(s!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hs],delete t[ps],delete t[gs],delete t[ms],delete t[vs])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function il(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||il(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var cl=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(st,n)}catch(a){}switch(n.tag){case 5:Ja||Xa(n,t);case 6:var r=cl,s=dl;cl=null,hl(e,t,n),dl=s,null!==(cl=r)&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?ls(e.parentNode,n):1===e.nodeType&&ls(e,n),Wt(e)):ls(cl,n.stateNode));break;case 4:r=cl,s=dl,cl=n.stateNode.containerInfo,dl=!0,hl(e,t,n),cl=r,dl=s;break;case 0:case 11:case 14:case 15:if(!Ja&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,void 0!==i&&(0!==(2&o)||0!==(4&o))&&el(n,t,i),s=s.next}while(s!==r)}hl(e,t,n);break;case 1:if(!Ja&&(Xa(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){_u(n,t,a)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Ja=(r=Ja)||null!==n.memoizedState,hl(e,t,n),Ja=r):hl(e,t,n);break;default:hl(e,t,n)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ya),t.forEach(function(t){var r=Lu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,dl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===cl)throw Error(o(160));pl(i,a,s),cl=null,dl=!1;var u=s.alternate;null!==u&&(u.return=null),s.return=null}catch(c){_u(s,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ml(t,e),t=t.sibling}function ml(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(m){_u(e,e.return,m)}try{nl(5,e,e.return)}catch(m){_u(e,e.return,m)}}break;case 1:gl(t,e),vl(e),512&r&&null!==n&&Xa(n,n.return);break;case 5:if(gl(t,e),vl(e),512&r&&null!==n&&Xa(n,n.return),32&e.flags){var s=e.stateNode;try{he(s,"")}catch(m){_u(e,e.return,m)}}if(4&r&&null!=(s=e.stateNode)){var i=e.memoizedProps,a=null!==n?n.memoizedProps:i,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===i.type&&null!=i.name&&Y(s,i),be(l,a);var c=be(l,i);for(a=0;a<u.length;a+=2){var d=u[a],h=u[a+1];"style"===d?me(s,h):"dangerouslySetInnerHTML"===d?de(s,h):"children"===d?he(s,h):b(s,d,h,c)}switch(l){case"input":Q(s,i);break;case"textarea":oe(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var f=i.value;null!=f?ne(s,!!i.multiple,f,!1):p!==!!i.multiple&&(null!=i.defaultValue?ne(s,!!i.multiple,i.defaultValue,!0):ne(s,!!i.multiple,i.multiple?[]:"",!1))}s[ps]=i}catch(m){_u(e,e.return,m)}}break;case 6:if(gl(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(o(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(m){_u(e,e.return,m)}}break;case 3:if(gl(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Wt(t.containerInfo)}catch(m){_u(e,e.return,m)}break;case 4:default:gl(t,e),vl(e);break;case 13:gl(t,e),vl(e),8192&(s=e.child).flags&&(i=null!==s.memoizedState,s.stateNode.isHidden=i,!i||null!==s.alternate&&null!==s.alternate.memoizedState||(Fl=Ye())),4&r&&fl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ja=(c=Ja)||d,gl(t,e),Ja=c):gl(t,e),vl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for(Qa=e,d=e.child;null!==d;){for(h=Qa=d;null!==Qa;){switch(f=(p=Qa).child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:Xa(p,p.return);var g=p.stateNode;if("function"===typeof g.componentWillUnmount){r=p,n=p.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){_u(r,n,m)}}break;case 5:Xa(p,p.return);break;case 22:if(null!==p.memoizedState){xl(h);continue}}null!==f?(f.return=p,Qa=f):xl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{s=h.stateNode,c?"function"===typeof(i=s.style).setProperty?i.setProperty("display","none","important"):i.display="none":(l=h.stateNode,a=void 0!==(u=h.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=ge("display",a))}catch(m){_u(e,e.return,m)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(m){_u(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gl(t,e),vl(e),4&r&&fl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(il(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var s=r.stateNode;32&r.flags&&(he(s,""),r.flags&=-33),ul(e,al(e),s);break;case 3:case 4:var i=r.stateNode.containerInfo;ll(e,al(e),i);break;default:throw Error(o(161))}}catch(a){_u(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Qa=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Qa;){var s=Qa,o=s.child;if(22===s.tag&&r){var i=null!==s.memoizedState||Za;if(!i){var a=s.alternate,l=null!==a&&null!==a.memoizedState||Ja;a=Za;var u=Ja;if(Za=i,(Ja=l)&&!u)for(Qa=s;null!==Qa;)l=(i=Qa).child,22===i.tag&&null!==i.memoizedState?kl(s):null!==l?(l.return=i,Qa=l):kl(s);for(;null!==o;)Qa=o,bl(o,t,n),o=o.sibling;Qa=s,Za=a,Ja=u}wl(e)}else 0!==(8772&s.subtreeFlags)&&null!==o?(o.return=s,Qa=o):wl(e)}}function wl(e){for(;null!==Qa;){var t=Qa;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ja||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ja)if(null===n)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Ho(t,i,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ho(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Wt(h)}}}break;default:throw Error(o(163))}Ja||512&t.flags&&sl(t)}catch(p){_u(t,t.return,p)}}if(t===e){Qa=null;break}if(null!==(n=t.sibling)){n.return=t.return,Qa=n;break}Qa=t.return}}function xl(e){for(;null!==Qa;){var t=Qa;if(t===e){Qa=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Qa=n;break}Qa=t.return}}function kl(e){for(;null!==Qa;){var t=Qa;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){_u(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var s=t.return;try{r.componentDidMount()}catch(l){_u(t,s,l)}}var o=t.return;try{sl(t)}catch(l){_u(t,o,l)}break;case 5:var i=t.return;try{sl(t)}catch(l){_u(t,i,l)}}}catch(l){_u(t,t.return,l)}if(t===e){Qa=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Qa=a;break}Qa=t.return}}var Sl,_l=Math.ceil,El=w.ReactCurrentDispatcher,Cl=w.ReactCurrentOwner,jl=w.ReactCurrentBatchConfig,Ll=0,Pl=null,Ol=null,Nl=0,Ml=0,Tl=_s(0),Rl=0,Il=null,Dl=0,Al=0,Ul=0,zl=null,Bl=null,Fl=0,Wl=1/0,Vl=null,Hl=!1,ql=null,Kl=null,Gl=!1,$l=null,Zl=0,Jl=0,Yl=null,Ql=-1,Xl=0;function eu(){return 0!==(6&Ll)?Ye():-1!==Ql?Ql:Ql=Ye()}function tu(e){return 0===(1&e.mode)?1:0!==(2&Ll)&&0!==Nl?Nl&-Nl:null!==mo.transition?(0===Xl&&(Xl=gt()),Xl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function nu(e,t,n,r){if(50<Jl)throw Jl=0,Yl=null,Error(o(185));vt(e,n,r),0!==(2&Ll)&&e===Pl||(e===Pl&&(0===(2&Ll)&&(Al|=n),4===Rl&&au(e,Nl)),ru(e,r),1===n&&0===Ll&&0===(1&t.mode)&&(Wl=Ye()+500,zs&&Ws()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-it(o),a=1<<i,l=s[i];-1===l?0!==(a&n)&&0===(a&r)||(s[i]=pt(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var r=ht(e,e===Pl?Nl:0);if(0===r)null!==n&&$e(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&$e(n),1===t)0===e.tag?function(e){zs=!0,Fs(e)}(lu.bind(null,e)):Fs(lu.bind(null,e)),is(function(){0===(6&Ll)&&Ws()}),n=null;else{switch(wt(r)){case 1:n=Xe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Pu(n,su.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function su(e,t){if(Ql=-1,Xl=0,0!==(6&Ll))throw Error(o(327));var n=e.callbackNode;if(ku()&&e.callbackNode!==n)return null;var r=ht(e,e===Pl?Nl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mu(e,r);else{t=r;var s=Ll;Ll|=2;var i=fu();for(Pl===e&&Nl===t||(Vl=null,Wl=Ye()+500,hu(e,t));;)try{yu();break}catch(l){pu(e,l)}jo(),El.current=i,Ll=s,null!==Ol?t=0:(Pl=null,Nl=0,t=Rl)}if(0!==t){if(2===t&&(0!==(s=ft(e))&&(r=s,t=ou(e,s))),1===t)throw n=Il,hu(e,0),au(e,r),ru(e,Ye()),n;if(6===t)au(e,r);else{if(s=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!ar(o(),s))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(s)&&(2===(t=mu(e,r))&&(0!==(i=ft(e))&&(r=i,t=ou(e,i))),1===t))throw n=Il,hu(e,0),au(e,r),ru(e,Ye()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:xu(e,Bl,Vl);break;case 3:if(au(e,r),(130023424&r)===r&&10<(t=Fl+500-Ye())){if(0!==ht(e,0))break;if(((s=e.suspendedLanes)&r)!==r){eu(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=rs(xu.bind(null,e,Bl,Vl),t);break}xu(e,Bl,Vl);break;case 4:if(au(e,r),(4194240&r)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-it(r);i=1<<a,(a=t[a])>s&&(s=a),r&=~i}if(r=s,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_l(r/1960))-r)){e.timeoutHandle=rs(xu.bind(null,e,Bl,Vl),r);break}xu(e,Bl,Vl);break;default:throw Error(o(329))}}}return ru(e,Ye()),e.callbackNode===n?su.bind(null,e):null}function ou(e,t){var n=zl;return e.current.memoizedState.isDehydrated&&(hu(e,t).flags|=256),2!==(e=mu(e,t))&&(t=Bl,Bl=n,null!==t&&iu(t)),e}function iu(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function au(e,t){for(t&=~Ul,t&=~Al,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),r=1<<n;e[n]=-1,t&=~r}}function lu(e){if(0!==(6&Ll))throw Error(o(327));ku();var t=ht(e,0);if(0===(1&t))return ru(e,Ye()),null;var n=mu(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=ou(e,r))}if(1===n)throw n=Il,hu(e,0),au(e,t),ru(e,Ye()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xu(e,Bl,Vl),ru(e,Ye()),null}function uu(e,t){var n=Ll;Ll|=1;try{return e(t)}finally{0===(Ll=n)&&(Wl=Ye()+500,zs&&Ws())}}function cu(e){null!==$l&&0===$l.tag&&0===(6&Ll)&&ku();var t=Ll;Ll|=1;var n=jl.transition,r=bt;try{if(jl.transition=null,bt=1,e)return e()}finally{bt=r,jl.transition=n,0===(6&(Ll=t))&&Ws()}}function du(){Ml=Tl.current,Es(Tl)}function hu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ss(n)),null!==Ol)for(n=Ol.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ts();break;case 3:Yo(),Es(Ps),Es(Ls),ri();break;case 5:Xo(r);break;case 4:Yo();break;case 13:case 19:Es(ei);break;case 10:Lo(r.type._context);break;case 22:case 23:du()}n=n.return}if(Pl=e,Ol=e=Tu(e.current,null),Nl=Ml=t,Rl=0,Il=null,Ul=Al=Dl=0,Bl=zl=null,null!==Mo){for(t=0;t<Mo.length;t++)if(null!==(r=(n=Mo[t]).interleaved)){n.interleaved=null;var s=r.next,o=n.pending;if(null!==o){var i=o.next;o.next=s,r.next=i}n.pending=r}Mo=null}return e}function pu(e,t){for(;;){var n=Ol;try{if(jo(),si.current=Qi,ci){for(var r=ai.memoizedState;null!==r;){var s=r.queue;null!==s&&(s.pending=null),r=r.next}ci=!1}if(ii=0,ui=li=ai=null,di=!1,hi=0,Cl.current=null,null===n||null===n.return){Rl=1,Il=t,Ol=null;break}e:{var i=e,a=n.return,l=n,u=t;if(t=Nl,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=ma(a);if(null!==f){f.flags&=-257,va(f,a,l,0,t),1&f.mode&&ga(i,c,t),u=c;var g=(t=f).updateQueue;if(null===g){var m=new Set;m.add(u),t.updateQueue=m}else g.add(u);break e}if(0===(1&t)){ga(i,c,t),gu();break e}u=Error(o(426))}else if(so&&1&l.mode){var v=ma(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),va(v,a,l,0,t),go(ua(u,l));break e}}i=u=ua(u,l),4!==Rl&&(Rl=2),null===zl?zl=[i]:zl.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Wo(i,pa(0,u,t));break e;case 1:l=u;var y=i.type,b=i.stateNode;if(0===(128&i.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Kl||!Kl.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t,Wo(i,fa(i,l,t));break e}}i=i.return}while(null!==i)}wu(n)}catch(w){t=w,Ol===n&&null!==n&&(Ol=n=n.return);continue}break}}function fu(){var e=El.current;return El.current=Qi,null===e?Qi:e}function gu(){0!==Rl&&3!==Rl&&2!==Rl||(Rl=4),null===Pl||0===(268435455&Dl)&&0===(268435455&Al)||au(Pl,Nl)}function mu(e,t){var n=Ll;Ll|=2;var r=fu();for(Pl===e&&Nl===t||(Vl=null,hu(e,t));;)try{vu();break}catch(s){pu(e,s)}if(jo(),Ll=n,El.current=r,null!==Ol)throw Error(o(261));return Pl=null,Nl=0,Rl}function vu(){for(;null!==Ol;)bu(Ol)}function yu(){for(;null!==Ol&&!Ze();)bu(Ol)}function bu(e){var t=Sl(e.alternate,e,Ml);e.memoizedProps=e.pendingProps,null===t?wu(e):Ol=t,Cl.current=null}function wu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ga(n,t,Ml)))return void(Ol=n)}else{if(null!==(n=$a(n,t)))return n.flags&=32767,void(Ol=n);if(null===e)return Rl=6,void(Ol=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ol=t);Ol=t=e}while(null!==t);0===Rl&&(Rl=5)}function xu(e,t,n){var r=bt,s=jl.transition;try{jl.transition=null,bt=1,function(e,t,n,r){do{ku()}while(null!==$l);if(0!==(6&Ll))throw Error(o(327));n=e.finishedWork;var s=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-it(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}(e,i),e===Pl&&(Ol=Pl=null,Nl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,Pu(tt,function(){return ku(),null})),i=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||i){i=jl.transition,jl.transition=null;var a=bt;bt=1;var l=Ll;Ll|=4,Cl.current=null,function(e,t){if(es=Ht,pr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(x){n=null;break e}var a=0,l=-1,u=-1,c=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==s&&3!==h.nodeType||(l=a+s),h!==i||0!==r&&3!==h.nodeType||(u=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++c===s&&(l=a),p===i&&++d===r&&(u=a),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ts={focusedElem:e,selectionRange:n},Ht=!1,Qa=t;null!==Qa;)if(e=(t=Qa).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Qa=e;else for(;null!==Qa;){t=Qa;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,v=g.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:na(t.type,m),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(x){_u(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Qa=e;break}Qa=t.return}g=tl,tl=!1}(e,n),ml(n,e),fr(ts),Ht=!!es,ts=es=null,e.current=n,yl(n,e,s),Je(),Ll=l,bt=a,jl.transition=i}else e.current=n;if(Gl&&(Gl=!1,$l=e,Zl=s),i=e.pendingLanes,0===i&&(Kl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(st,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ru(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Hl)throw Hl=!1,e=ql,ql=null,e;0!==(1&Zl)&&0!==e.tag&&ku(),i=e.pendingLanes,0!==(1&i)?e===Yl?Jl++:(Jl=0,Yl=e):Jl=0,Ws()}(e,t,n,r)}finally{jl.transition=s,bt=r}return null}function ku(){if(null!==$l){var e=wt(Zl),t=jl.transition,n=bt;try{if(jl.transition=null,bt=16>e?16:e,null===$l)var r=!1;else{if(e=$l,$l=null,Zl=0,0!==(6&Ll))throw Error(o(331));var s=Ll;for(Ll|=4,Qa=e.current;null!==Qa;){var i=Qa,a=i.child;if(0!==(16&Qa.flags)){var l=i.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Qa=c;null!==Qa;){var d=Qa;switch(d.tag){case 0:case 11:case 15:nl(8,d,i)}var h=d.child;if(null!==h)h.return=d,Qa=h;else for(;null!==Qa;){var p=(d=Qa).sibling,f=d.return;if(ol(d),d===c){Qa=null;break}if(null!==p){p.return=f,Qa=p;break}Qa=f}}}var g=i.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}Qa=i}}if(0!==(2064&i.subtreeFlags)&&null!==a)a.return=i,Qa=a;else e:for(;null!==Qa;){if(0!==(2048&(i=Qa).flags))switch(i.tag){case 0:case 11:case 15:nl(9,i,i.return)}var y=i.sibling;if(null!==y){y.return=i.return,Qa=y;break e}Qa=i.return}}var b=e.current;for(Qa=b;null!==Qa;){var w=(a=Qa).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,Qa=w;else e:for(a=b;null!==Qa;){if(0!==(2048&(l=Qa).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(k){_u(l,l.return,k)}if(l===a){Qa=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Qa=x;break e}Qa=l.return}}if(Ll=s,Ws(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(st,e)}catch(k){}r=!0}return r}finally{bt=n,jl.transition=t}}return!1}function Su(e,t,n){e=Bo(e,t=pa(0,t=ua(n,t),1),1),t=eu(),null!==e&&(vt(e,1,t),ru(e,t))}function _u(e,t,n){if(3===e.tag)Su(e,e,n);else for(;null!==t;){if(3===t.tag){Su(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Kl||!Kl.has(r))){t=Bo(t,e=fa(t,e=ua(n,e),1),1),e=eu(),null!==t&&(vt(t,1,e),ru(t,e));break}}t=t.return}}function Eu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,Pl===e&&(Nl&n)===n&&(4===Rl||3===Rl&&(130023424&Nl)===Nl&&500>Ye()-Fl?hu(e,0):Ul|=n),ru(e,t)}function Cu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=eu();null!==(e=Io(e,t))&&(vt(e,t,n),ru(e,n))}function ju(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cu(e,n)}function Lu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Cu(e,n)}function Pu(e,t){return Ge(e,t)}function Ou(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nu(e,t,n,r){return new Ou(e,t,n,r)}function Mu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Tu(e,t){var n=e.alternate;return null===n?((n=Nu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ru(e,t,n,r,s,i){var a=2;if(r=e,"function"===typeof e)Mu(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case S:return Iu(n.children,s,i,t);case _:a=8,s|=8;break;case E:return(e=Nu(12,n,t,2|s)).elementType=E,e.lanes=i,e;case P:return(e=Nu(13,n,t,s)).elementType=P,e.lanes=i,e;case O:return(e=Nu(19,n,t,s)).elementType=O,e.lanes=i,e;case T:return Du(n,s,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:a=10;break e;case j:a=9;break e;case L:a=11;break e;case N:a=14;break e;case M:a=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Nu(a,n,t,s)).elementType=e,t.type=r,t.lanes=i,t}function Iu(e,t,n,r){return(e=Nu(7,e,r,t)).lanes=n,e}function Du(e,t,n,r){return(e=Nu(22,e,r,t)).elementType=T,e.lanes=n,e.stateNode={isHidden:!1},e}function Au(e,t,n){return(e=Nu(6,e,null,t)).lanes=n,e}function Uu(e,t,n){return(t=Nu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zu(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Bu(e,t,n,r,s,o,i,a,l){return e=new zu(e,t,n,a,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Nu(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ao(o),e}function Fu(e){if(!e)return js;e:{if(We(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ms(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ms(n))return Is(e,n,t)}return t}function Wu(e,t,n,r,s,o,i,a,l){return(e=Bu(n,r,!0,e,0,o,0,a,l)).context=Fu(null),n=e.current,(o=zo(r=eu(),s=tu(n))).callback=void 0!==t&&null!==t?t:null,Bo(n,o,s),e.current.lanes=s,vt(e,s,r),ru(e,r),e}function Vu(e,t,n,r){var s=t.current,o=eu(),i=tu(s);return n=Fu(n),null===t.context?t.context=n:t.pendingContext=n,(t=zo(o,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Bo(s,t,i))&&(nu(e,s,i,o),Fo(e,s,i)),i}function Hu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Ku(e,t){qu(e,t),(e=e.alternate)&&qu(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ps.current)ba=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ba=!1,function(e,t,n){switch(t.tag){case 3:Pa(t),fo();break;case 5:Qo(t);break;case 1:Ms(t.type)&&Ds(t);break;case 4:Jo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Cs(So,r._currentValue),r._currentValue=s;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Cs(ei,1&ei.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Aa(e,t,n):(Cs(ei,1&ei.current),null!==(e=Ha(e,t,n))?e.sibling:null);Cs(ei,1&ei.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Wa(e,t,n);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),Cs(ei,ei.current),r)break;return null;case 22:case 23:return t.lanes=0,_a(e,t,n)}return Ha(e,t,n)}(e,t,n);ba=0!==(131072&e.flags)}else ba=!1,so&&0!==(1048576&t.flags)&&Xs(t,Ks,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Va(e,t),e=t.pendingProps;var s=Ns(t,Ls.current);Oo(t,n),s=mi(null,t,r,e,s,n);var i=vi();return t.flags|=1,"object"===typeof s&&null!==s&&"function"===typeof s.render&&void 0===s.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ms(r)?(i=!0,Ds(t)):i=!1,t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,Ao(t),s.updater=sa,t.stateNode=s,s._reactInternals=t,la(t,r,e,n),t=La(null,t,r,!0,i,n)):(t.tag=0,so&&i&&eo(t),wa(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Va(e,t),e=t.pendingProps,r=(s=r._init)(r._payload),t.type=r,s=t.tag=function(e){if("function"===typeof e)return Mu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===L)return 11;if(e===N)return 14}return 2}(r),e=na(r,e),s){case 0:t=Ca(null,t,r,e,n);break e;case 1:t=ja(null,t,r,e,n);break e;case 11:t=xa(null,t,r,e,n);break e;case 14:t=ka(null,t,r,na(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,Ca(e,t,r,s=t.elementType===r?s:na(r,s),n);case 1:return r=t.type,s=t.pendingProps,ja(e,t,r,s=t.elementType===r?s:na(r,s),n);case 3:e:{if(Pa(t),null===e)throw Error(o(387));r=t.pendingProps,s=(i=t.memoizedState).element,Uo(e,t),Vo(t,r,null,n);var a=t.memoizedState;if(r=a.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Oa(e,t,r,n,s=ua(Error(o(423)),t));break e}if(r!==s){t=Oa(e,t,r,n,s=ua(Error(o(424)),t));break e}for(ro=us(t.stateNode.containerInfo.firstChild),no=t,so=!0,oo=null,n=ko(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fo(),r===s){t=Ha(e,t,n);break e}wa(e,t,r,n)}t=t.child}return t;case 5:return Qo(t),null===e&&uo(t),r=t.type,s=t.pendingProps,i=null!==e?e.memoizedProps:null,a=s.children,ns(r,s)?a=null:null!==i&&ns(r,i)&&(t.flags|=32),Ea(e,t),wa(e,t,a,n),t.child;case 6:return null===e&&uo(t),null;case 13:return Aa(e,t,n);case 4:return Jo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xo(t,null,r,n):wa(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,xa(e,t,r,s=t.elementType===r?s:na(r,s),n);case 7:return wa(e,t,t.pendingProps,n),t.child;case 8:case 12:return wa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,Cs(So,r._currentValue),r._currentValue=a,null!==i)if(ar(i.value,a)){if(i.children===s.children&&!Ps.current){t=Ha(e,t,n);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var l=i.dependencies;if(null!==l){a=i.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===i.tag){(u=zo(-1,n&-n)).tag=2;var c=i.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=n,null!==(u=i.alternate)&&(u.lanes|=n),Po(i.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===i.tag)a=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(a=i.return))throw Error(o(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Po(a,n,t),a=i.sibling}else a=i.child;if(null!==a)a.return=i;else for(a=i;null!==a;){if(a===t){a=null;break}if(null!==(i=a.sibling)){i.return=a.return,a=i;break}a=a.return}i=a}wa(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Oo(t,n),r=r(s=No(s)),t.flags|=1,wa(e,t,r,n),t.child;case 14:return s=na(r=t.type,t.pendingProps),ka(e,t,r,s=na(r.type,s),n);case 15:return Sa(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:na(r,s),Va(e,t),t.tag=1,Ms(r)?(e=!0,Ds(t)):e=!1,Oo(t,n),ia(t,r,s),la(t,r,s,n),La(null,t,r,!0,e,n);case 19:return Wa(e,t,n);case 22:return _a(e,t,n)}throw Error(o(156,t.tag))};var Gu="function"===typeof reportError?reportError:function(e){console.error(e)};function $u(e){this._internalRoot=e}function Zu(e){this._internalRoot=e}function Ju(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Qu(){}function Xu(e,t,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if("function"===typeof s){var a=s;s=function(){var e=Hu(i);a.call(e)}}Vu(t,i,e,s)}else i=function(e,t,n,r,s){if(s){if("function"===typeof r){var o=r;r=function(){var e=Hu(i);o.call(e)}}var i=Wu(t,r,e,0,null,!1,0,"",Qu);return e._reactRootContainer=i,e[fs]=i.current,Wr(8===e.nodeType?e.parentNode:e),cu(),i}for(;s=e.lastChild;)e.removeChild(s);if("function"===typeof r){var a=r;r=function(){var e=Hu(l);a.call(e)}}var l=Bu(e,0,!1,null,0,!1,0,"",Qu);return e._reactRootContainer=l,e[fs]=l.current,Wr(8===e.nodeType?e.parentNode:e),cu(function(){Vu(t,l,n,r)}),l}(n,t,e,s,r);return Hu(i)}Zu.prototype.render=$u.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Vu(e,t,null,null)},Zu.prototype.unmount=$u.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cu(function(){Vu(null,e,null,null)}),t[fs]=null}},Zu.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Tt.length&&0!==t&&t<Tt[n].priority;n++);Tt.splice(n,0,e),0===n&&At(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),ru(t,Ye()),0===(6&Ll)&&(Wl=Ye()+500,Ws()))}break;case 13:cu(function(){var t=Io(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}}),Ku(e,1)}},kt=function(e){if(13===e.tag){var t=Io(e,134217728);if(null!==t)nu(t,e,134217728,eu());Ku(e,134217728)}},St=function(e){if(13===e.tag){var t=tu(e),n=Io(e,t);if(null!==n)nu(n,e,t,eu());Ku(e,t)}},_t=function(){return bt},Et=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},ke=function(e,t,n){switch(t){case"input":if(Q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=xs(r);if(!s)throw Error(o(90));G(r),Q(r,s)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Le=uu,Pe=cu;var ec={usingClientEntryPoint:!1,Events:[bs,ws,xs,Ce,je,uu]},tc={findFiberByHostInstance:ys,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{st=rc.inject(nc),ot=rc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ju(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Ju(e))throw Error(o(299));var n=!1,r="",s=Gu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),t=Bu(e,1,!1,null,0,n,0,r,s),e[fs]=t.current,Wr(8===e.nodeType?e.parentNode:e),new $u(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return cu(e)},t.hydrate=function(e,t,n){if(!Yu(t))throw Error(o(200));return Xu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Ju(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,s=!1,i="",a=Gu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(s=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Wu(t,null,e,1,null!=n?n:null,s,0,i,a),e[fs]=t.current,Wr(e),r)for(e=0;e<r.length;e++)s=(s=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Zu(t)},t.render=function(e,t,n){if(!Yu(t))throw Error(o(200));return Xu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yu(e))throw Error(o(40));return!!e._reactRootContainer&&(cu(function(){Xu(null,null,e,!1,function(){e._reactRootContainer=null,e[fs]=null})}),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yu(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Xu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},736:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=r(n(374));class o extends s.default{eq(e,t){return this.url.searchParams.append(e,"eq.".concat(t)),this}neq(e,t){return this.url.searchParams.append(e,"neq.".concat(t)),this}gt(e,t){return this.url.searchParams.append(e,"gt.".concat(t)),this}gte(e,t){return this.url.searchParams.append(e,"gte.".concat(t)),this}lt(e,t){return this.url.searchParams.append(e,"lt.".concat(t)),this}lte(e,t){return this.url.searchParams.append(e,"lte.".concat(t)),this}like(e,t){return this.url.searchParams.append(e,"like.".concat(t)),this}likeAllOf(e,t){return this.url.searchParams.append(e,"like(all).{".concat(t.join(","),"}")),this}likeAnyOf(e,t){return this.url.searchParams.append(e,"like(any).{".concat(t.join(","),"}")),this}ilike(e,t){return this.url.searchParams.append(e,"ilike.".concat(t)),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,"ilike(all).{".concat(t.join(","),"}")),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,"ilike(any).{".concat(t.join(","),"}")),this}is(e,t){return this.url.searchParams.append(e,"is.".concat(t)),this}in(e,t){const n=Array.from(new Set(t)).map(e=>"string"===typeof e&&new RegExp("[,()]").test(e)?'"'.concat(e,'"'):"".concat(e)).join(",");return this.url.searchParams.append(e,"in.(".concat(n,")")),this}contains(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cs.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cs.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cs.".concat(JSON.stringify(t))),this}containedBy(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cd.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cd.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cd.".concat(JSON.stringify(t))),this}rangeGt(e,t){return this.url.searchParams.append(e,"sr.".concat(t)),this}rangeGte(e,t){return this.url.searchParams.append(e,"nxl.".concat(t)),this}rangeLt(e,t){return this.url.searchParams.append(e,"sl.".concat(t)),this}rangeLte(e,t){return this.url.searchParams.append(e,"nxr.".concat(t)),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,"adj.".concat(t)),this}overlaps(e,t){return"string"===typeof t?this.url.searchParams.append(e,"ov.".concat(t)):this.url.searchParams.append(e,"ov.{".concat(t.join(","),"}")),this}textSearch(e,t){let{config:n,type:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s="";"plain"===r?s="pl":"phrase"===r?s="ph":"websearch"===r&&(s="w");const o=void 0===n?"":"(".concat(n,")");return this.url.searchParams.append(e,"".concat(s,"fts").concat(o,".").concat(t)),this}match(e){return Object.entries(e).forEach(e=>{let[t,n]=e;this.url.searchParams.append(t,"eq.".concat(n))}),this}not(e,t,n){return this.url.searchParams.append(e,"not.".concat(t,".").concat(n)),this}or(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n?"".concat(n,".or"):"or";return this.url.searchParams.append(r,"(".concat(e,")")),this}filter(e,t,n){return this.url.searchParams.append(e,"".concat(t,".").concat(n)),this}}t.default=o},829:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=r(n(736));t.default=class{constructor(e,t){let{headers:n={},schema:r,fetch:s}=t;this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=s}select(e){let{head:t=!1,count:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=t?"HEAD":"GET";let o=!1;const i=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!o?"":('"'===e&&(o=!o),e)).join("");return this.url.searchParams.set("select",i),n&&this.headers.append("Prefer","count=".concat(n)),new s.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e){let{count:t,defaultToNull:n=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;if(t&&this.headers.append("Prefer","count=".concat(t)),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));this.url.searchParams.set("columns",e.join(","))}}return new s.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(r=this.fetch)&&void 0!==r?r:fetch})}upsert(e){let{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:o=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var i;if(this.headers.append("Prefer","resolution=".concat(n?"ignore":"merge","-duplicates")),void 0!==t&&this.url.searchParams.set("on_conflict",t),r&&this.headers.append("Prefer","count=".concat(r)),o||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));this.url.searchParams.set("columns",e.join(","))}}return new s.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(i=this.fetch)&&void 0!==i?i:fetch})}update(e){let{count:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;return t&&this.headers.append("Prefer","count=".concat(t)),new s.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(n=this.fetch)&&void 0!==n?n:fetch})}delete(){let{count:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;return e&&this.headers.append("Prefer","count=".concat(e)),new s.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:null!==(t=this.fetch)&&void 0!==t?t:fetch})}}},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},980:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PostgrestError=t.PostgrestBuilder=t.PostgrestTransformBuilder=t.PostgrestFilterBuilder=t.PostgrestQueryBuilder=t.PostgrestClient=void 0;const s=r(n(210));t.PostgrestClient=s.default;const o=r(n(829));t.PostgrestQueryBuilder=o.default;const i=r(n(736));t.PostgrestFilterBuilder=i.default;const a=r(n(374));t.PostgrestTransformBuilder=a.default;const l=r(n(286));t.PostgrestBuilder=l.default;const u=r(n(611));t.PostgrestError=u.default,t.default={PostgrestClient:s.default,PostgrestQueryBuilder:o.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:l.default,PostgrestError:u.default}}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r=n(43),s=n(391);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}function a(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function c(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}const d=["sri"],h=["page"],p=["page","matches"],f=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],g=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],m=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var v="popstate";function y(){return E(function(e,t){let{pathname:n,search:r,hash:s}=e.location;return k("",{pathname:n,search:r,hash:s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:S(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function b(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function w(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function x(e,t){return{usr:e.state,key:e.key,idx:t}}function k(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return u(u({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?_(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function S(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function _(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function E(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:s=document.defaultView,v5Compat:o=!1}=r,i=s.history,a="POP",l=null,c=d();function d(){return(i.state||{idx:null}).idx}function h(){a="POP";let e=d(),t=null==e?null:e-c;c=e,l&&l({action:a,location:f.location,delta:t})}function p(e){return C(e)}null==c&&(c=0,i.replaceState(u(u({},i.state),{},{idx:c}),""));let f={get action(){return a},get location(){return e(s,i)},listen(e){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(v,h),l=e,()=>{s.removeEventListener(v,h),l=null}},createHref:e=>t(s,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){a="PUSH";let r=k(f.location,e,t);n&&n(r,e),c=d()+1;let u=x(r,c),h=f.createHref(r);try{i.pushState(u,"",h)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;s.location.assign(h)}o&&l&&l({action:a,location:f.location,delta:1})},replace:function(e,t){a="REPLACE";let r=k(f.location,e,t);n&&n(r,e),c=d();let s=x(r,c),u=f.createHref(r);i.replaceState(s,"",u),o&&l&&l({action:a,location:f.location,delta:0})},go:e=>i.go(e)};return f}function C(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),b(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:S(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function j(e,t){return L(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function L(e,t,n,r){let s=V(("string"===typeof t?_(t):t).pathname||"/",n);if(null==s)return null;let o=P(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(o);let i=null;for(let a=0;null==i&&a<o.length;++a){let e=W(s);i=z(o[a],e,r)}return i}function P(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=function(e,o){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s,a=arguments.length>3?arguments[3]:void 0,l={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:o,route:e};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(r)&&i)return;b(l.relativePath.startsWith(r),'Absolute route path "'.concat(l.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),l.relativePath=l.relativePath.slice(r.length)}let u=$([r,l.relativePath]),c=n.concat(l);e.children&&e.children.length>0&&(b(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(u,'".')),P(e.children,t,c,u,i)),(null!=e.path||e.index)&&t.push({path:u,score:U(u,e.index),routesMeta:c})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of O(e.path))o(e,t,!0,r);else o(e,t)}),t}function O(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return s?[o,""]:[o];let i=O(r.join("/")),a=[];return a.push(...i.map(e=>""===e?o:[o,e].join("/"))),s&&a.push(...i),a.map(t=>e.startsWith("/")&&""===t?"/":t)}var N=/^:[\w-]+$/,M=3,T=2,R=1,I=10,D=-2,A=e=>"*"===e;function U(e,t){let n=e.split("/"),r=n.length;return n.some(A)&&(r+=D),t&&(r+=T),n.filter(e=>!A(e)).reduce((e,t)=>e+(N.test(t)?M:""===t?R:I),r)}function z(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,s={},o="/",i=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,u="/"===o?t:t.slice(o.length)||"/",c=B({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},u),d=e.route;if(!c&&l&&n&&!r[r.length-1].route.index&&(c=B({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},u)),!c)return null;Object.assign(s,c.params),i.push({params:s,pathname:$([o,c.pathname]),pathnameBase:Z($([o,c.pathnameBase])),route:d}),"/"!==c.pathnameBase&&(o=$([o,c.pathnameBase]))}return i}function B(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=F(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:s}=t;if("*"===r){let e=a[n]||"";i=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=s&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:o,pathnameBase:i,pattern:e}}function F(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];w("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),s+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":""!==e&&"/"!==e&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function W(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return w(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function V(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function H(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function q(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function K(e){let t=q(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function G(e,t,n){let r,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=_(e):(r=u({},e),b(!r.pathname||!r.pathname.includes("?"),H("?","pathname","search",r)),b(!r.pathname||!r.pathname.includes("#"),H("#","pathname","hash",r)),b(!r.search||!r.search.includes("#"),H("#","search","hash",r)));let o,i=""===e||""===r.pathname,a=i?"/":r.pathname;if(null==a)o=n;else{let e=t.length-1;if(!s&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:s=""}="string"===typeof e?_(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:J(r),hash:Y(s)}}(r,o),c=a&&"/"!==a&&a.endsWith("/"),d=(i||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!d||(l.pathname+="/"),l}var $=e=>e.join("/").replace(/\/\/+/g,"/"),Z=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),J=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Y=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function Q(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var X=["POST","PUT","PATCH","DELETE"],ee=(new Set(X),["GET",...X]);new Set(ee),Symbol("ResetLoaderData");var te=r.createContext(null);te.displayName="DataRouter";var ne=r.createContext(null);ne.displayName="DataRouterState";var re=r.createContext(!1);var se=r.createContext({isTransitioning:!1});se.displayName="ViewTransition";var oe=r.createContext(new Map);oe.displayName="Fetchers";var ie=r.createContext(null);ie.displayName="Await";var ae=r.createContext(null);ae.displayName="Navigation";var le=r.createContext(null);le.displayName="Location";var ue=r.createContext({outlet:null,matches:[],isDataRoute:!1});ue.displayName="Route";var ce=r.createContext(null);ce.displayName="RouteError";function de(){return null!=r.useContext(le)}function he(){return b(de(),"useLocation() may be used only in the context of a <Router> component."),r.useContext(le).location}var pe="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function fe(e){r.useContext(ae).static||r.useLayoutEffect(e)}function ge(){let{isDataRoute:e}=r.useContext(ue);return e?function(){let{router:e}=_e("useNavigate"),t=Ce("useNavigate"),n=r.useRef(!1);fe(()=>{n.current=!0});let s=r.useCallback(async function(r){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};w(n.current,pe),n.current&&("number"===typeof r?e.navigate(r):await e.navigate(r,u({fromRouteId:t},s)))},[e,t]);return s}():function(){b(de(),"useNavigate() may be used only in the context of a <Router> component.");let e=r.useContext(te),{basename:t,navigator:n}=r.useContext(ae),{matches:s}=r.useContext(ue),{pathname:o}=he(),i=JSON.stringify(K(s)),a=r.useRef(!1);fe(()=>{a.current=!0});let l=r.useCallback(function(r){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(w(a.current,pe),!a.current)return;if("number"===typeof r)return void n.go(r);let l=G(r,JSON.parse(i),o,"path"===s.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:$([t,l.pathname])),(s.replace?n.replace:n.push)(l,s.state,s)},[t,n,i,o,e]);return l}()}r.createContext(null);function me(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=r.useContext(ue),{pathname:s}=he(),o=JSON.stringify(K(n));return r.useMemo(()=>G(e,JSON.parse(o),s,"path"===t),[e,o,s,t])}function ve(e,t,n,s,o){b(de(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=r.useContext(ae),{matches:a}=r.useContext(ue),l=a[a.length-1],c=l?l.params:{},d=l?l.pathname:"/",h=l?l.pathnameBase:"/",p=l&&l.route;{let e=p&&p.path||"";Pe(d,!p||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(d,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let f,g=he();if(t){var m;let e="string"===typeof t?_(t):t;b("/"===h||(null===(m=e.pathname)||void 0===m?void 0:m.startsWith(h)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(h,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),f=e}else f=g;let v=f.pathname||"/",y=v;if("/"!==h){let e=h.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let x=j(e,{pathname:y});w(p||null!=x,'No routes matched location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" ')),w(null==x||void 0!==x[x.length-1].route.element||void 0!==x[x.length-1].route.Component||void 0!==x[x.length-1].route.lazy,'Matched leaf route at location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let k=ke(x&&x.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:$([h,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:$([h,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),a,n,s,o);return t&&k?r.createElement(le.Provider,{value:{location:u({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:"POP"}},k):k}function ye(){let e=je(),t=Q(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},i={padding:"2px 4px",backgroundColor:s},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=r.createElement(r.Fragment,null,r.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",r.createElement("code",{style:i},"ErrorBoundary")," or"," ",r.createElement("code",{style:i},"errorElement")," prop on your route.")),r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:o},n):null,a)}var be=r.createElement(ye,null),we=class extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return void 0!==this.state.error?r.createElement(ue.Provider,{value:this.props.routeContext},r.createElement(ce.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function xe(e){let{routeContext:t,match:n,children:s}=e,o=r.useContext(te);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(ue.Provider,{value:t},s)}function ke(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let o=e,i=null===n||void 0===n?void 0:n.errors;if(null!=i){let e=o.findIndex(e=>e.route.id&&void 0!==(null===i||void 0===i?void 0:i[e.route.id]));b(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(i).join(","))),o=o.slice(0,Math.min(o.length,e+1))}let a=!1,l=-1;if(n)for(let r=0;r<o.length;r++){let e=o[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=r),e.route.id){let{loaderData:t,errors:r}=n,s=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!r||void 0===r[e.route.id]);if(e.route.lazy||s){a=!0,o=l>=0?o.slice(0,l+1):[o[0]];break}}}return o.reduceRight((e,u,c)=>{let d,h=!1,p=null,f=null;n&&(d=i&&u.route.id?i[u.route.id]:void 0,p=u.route.errorElement||be,a&&(l<0&&0===c?(Pe("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,f=null):l===c&&(h=!0,f=u.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,c+1)),m=()=>{let t;return t=d?p:h?f:u.route.Component?r.createElement(u.route.Component,null):u.route.element?u.route.element:e,r.createElement(xe,{match:u,routeContext:{outlet:e,matches:g,isDataRoute:null!=n},children:t})};return n&&(u.route.ErrorBoundary||u.route.errorElement||0===c)?r.createElement(we,{location:n.location,revalidation:n.revalidation,component:p,error:d,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0},unstable_onError:s}):m()},null)}function Se(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function _e(e){let t=r.useContext(te);return b(t,Se(e)),t}function Ee(e){let t=r.useContext(ne);return b(t,Se(e)),t}function Ce(e){let t=function(e){let t=r.useContext(ue);return b(t,Se(e)),t}(e),n=t.matches[t.matches.length-1];return b(n.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),n.route.id}function je(){var e;let t=r.useContext(ce),n=Ee("useRouteError"),s=Ce("useRouteError");return void 0!==t?t:null===(e=n.errors)||void 0===e?void 0:e[s]}var Le={};function Pe(e,t,n){t||Le[e]||(Le[e]=!0,w(!1,n))}var Oe={};function Ne(e,t){e||Oe[t]||(Oe[t]=!0,console.warn(t))}r.memo(function(e){let{routes:t,future:n,state:r,unstable_onError:s}=e;return ve(t,void 0,r,s,n)});function Me(e){b(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Te(e){let{basename:t="/",children:n=null,location:s,navigationType:o="POP",navigator:i,static:a=!1}=e;b(!de(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),u=r.useMemo(()=>({basename:l,navigator:i,static:a,future:{}}),[l,i,a]);"string"===typeof s&&(s=_(s));let{pathname:c="/",search:d="",hash:h="",state:p=null,key:f="default"}=s,g=r.useMemo(()=>{let e=V(c,l);return null==e?null:{location:{pathname:e,search:d,hash:h,state:p,key:f},navigationType:o}},[l,c,d,h,p,f,o]);return w(null!=g,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(c).concat(d).concat(h,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==g?null:r.createElement(ae.Provider,{value:u},r.createElement(le.Provider,{children:n,value:g}))}function Re(e){let{children:t,location:n}=e;return ve(Ie(t),n)}r.Component;function Ie(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return r.Children.forEach(e,(e,s)=>{if(!r.isValidElement(e))return;let o=[...t,s];if(e.type===r.Fragment)return void n.push.apply(n,Ie(e.props.children,o));b(e.type===Me,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),b(!e.props.index||!e.props.children,"An index route cannot have child routes.");let i={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=Ie(e.props.children,o)),n.push(i)}),n}var De="get",Ae="application/x-www-form-urlencoded";function Ue(e){return null!=e&&"string"===typeof e.tagName}var ze=null;var Be=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fe(e){return null==e||Be.has(e)?e:(w(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Ae,'"')),null)}function We(e,t){let n,r,s,o,i;if(Ue(a=e)&&"form"===a.tagName.toLowerCase()){let i=e.getAttribute("action");r=i?V(i,t):null,n=e.getAttribute("method")||De,s=Fe(e.getAttribute("enctype"))||Ae,o=new FormData(e)}else if(function(e){return Ue(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Ue(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let i=e.form;if(null==i)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let a=e.getAttribute("formaction")||i.getAttribute("action");if(r=a?V(a,t):null,n=e.getAttribute("formmethod")||i.getAttribute("method")||De,s=Fe(e.getAttribute("formenctype"))||Fe(i.getAttribute("enctype"))||Ae,o=new FormData(i,e),!function(){if(null===ze)try{new FormData(document.createElement("form"),0),ze=!1}catch(e){ze=!0}return ze}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";o.append("".concat(e,"x"),"0"),o.append("".concat(e,"y"),"0")}else t&&o.append(t,r)}}else{if(Ue(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=De,r=null,s=Ae,i=e}var a;return o&&"text/plain"===s&&(i=o,o=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:o,body:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function Ve(e){return{__html:e}}function He(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function qe(e,t,n){let r="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname="_root.".concat(n):t&&"/"===V(r.pathname,t)?r.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(n):r.pathname="".concat(r.pathname.replace(/\/$/,""),".").concat(n),r}async function Ke(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ge(e){return null!=e&&"string"===typeof e.page}function $e(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Ze(e,t,n,r,s,o){let i=(e,t)=>!n[t]||e.route.id!==n[t].route.id,a=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===o?t.filter((e,t)=>i(e,t)||a(e,t)):"data"===o?t.filter((t,o)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(i(t,o)||a(t,o))return!0;if(t.route.shouldRevalidate){var u;let r=t.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:(null===(u=n[0])||void 0===u?void 0:u.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0}):[]}function Je(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1),[...new Set(r)];var r}function Ye(e,t){let n=new Set,r=new Set(t);return e.reduce((e,s)=>{if(t&&!Ge(s)&&"script"===s.as&&s.href&&r.has(s.href))return e;let o=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(s));return n.has(o)||(n.add(o),e.push({key:o,link:s})),e},[])}function Qe(e,t){return"lazy"===e.mode&&!0===t}function Xe(){let e=r.useContext(te);return He(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function et(){let e=r.useContext(ne);return He(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var tt=r.createContext(void 0);function nt(){let e=r.useContext(tt);return He(e,"You must render this element inside a <HydratedRouter> element"),e}function rt(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function st(e,t,n){if(n&&!lt)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}tt.displayName="FrameworkContext";function ot(e){let{page:t}=e,n=c(e,h),{router:s}=Xe(),o=r.useMemo(()=>j(s.routes,t,s.basename),[s.routes,t,s.basename]);return o?r.createElement(at,u({page:t,matches:o},n)):null}function it(e){let{manifest:t,routeModules:n}=nt(),[s,o]=r.useState([]);return r.useEffect(()=>{let r=!1;return async function(e,t,n){return Ye((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await Ke(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter($e).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?u(u({},e),{},{rel:"prefetch",as:"style"}):u(u({},e),{},{rel:"prefetch"})))}(e,t,n).then(e=>{r||o(e)}),()=>{r=!0}},[e,t,n]),s}function at(e){let{page:t,matches:n}=e,s=c(e,p),o=he(),{manifest:i,routeModules:a}=nt(),{basename:l}=Xe(),{loaderData:d,matches:h}=et(),f=r.useMemo(()=>Ze(t,n,h,i,o,"data"),[t,n,h,i,o]),g=r.useMemo(()=>Ze(t,n,h,i,o,"assets"),[t,n,h,i,o]),m=r.useMemo(()=>{if(t===o.pathname+o.search+o.hash)return[];let e=new Set,r=!1;if(n.forEach(t=>{var n;let s=i.routes[t.route.id];s&&s.hasLoader&&(!f.some(e=>e.route.id===t.route.id)&&t.route.id in d&&null!==(n=a[t.route.id])&&void 0!==n&&n.shouldRevalidate||s.hasClientLoader?r=!0:e.add(t.route.id))}),0===e.size)return[];let s=qe(t,l,"data");return r&&e.size>0&&s.searchParams.set("_routes",n.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[s.pathname+s.search]},[l,d,o,i,f,n,t,a]),v=r.useMemo(()=>Je(g,i),[g,i]),y=it(g);return r.createElement(r.Fragment,null,m.map(e=>r.createElement("link",u({key:e,rel:"prefetch",as:"fetch",href:e},s))),v.map(e=>r.createElement("link",u({key:e,rel:"modulepreload",href:e},s))),y.map(e=>{let{key:t,link:n}=e;return r.createElement("link",u({key:t,nonce:s.nonce},n))}))}var lt=!1;function ut(e){let{manifest:t,serverHandoffString:n,isSpaMode:s,renderMeta:o,routeDiscovery:i,ssr:a}=nt(),{router:l,static:h,staticContext:p}=Xe(),{matches:f}=et(),g=r.useContext(re),m=Qe(i,a);o&&(o.didRenderScripts=!0);let v=st(f,null,s);r.useEffect(()=>{lt=!0},[]);let y=r.useMemo(()=>{var s;if(g)return null;let o=p?"window.__reactRouterContext = ".concat(n,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",i=h?"".concat(null!==(s=t.hmr)&&void 0!==s&&s.runtime?"import ".concat(JSON.stringify(t.hmr.runtime),";"):"").concat(m?"":"import ".concat(JSON.stringify(t.url)),";\n").concat(v.map((e,n)=>{let r="route".concat(n),s=t.routes[e.route.id];He(s,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:o,clientLoaderModule:i,clientMiddlewareModule:a,hydrateFallbackModule:l,module:u}=s,c=[...o?[{module:o,varName:"".concat(r,"_clientAction")}]:[],...i?[{module:i,varName:"".concat(r,"_clientLoader")}]:[],...a?[{module:a,varName:"".concat(r,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(r,"_HydrateFallback")}]:[],{module:u,varName:"".concat(r,"_main")}];return 1===c.length?"import * as ".concat(r," from ").concat(JSON.stringify(u),";"):[c.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(r," = {").concat(c.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(m?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,r=c(e,d),s=new Set(t.state.matches.map(e=>e.route.id)),o=t.state.location.pathname.split("/").filter(Boolean),i=["/"];for(o.pop();o.length>0;)i.push("/".concat(o.join("/"))),o.pop();i.forEach(e=>{let n=j(t.routes,e,t.basename);n&&n.forEach(e=>s.add(e.route.id))});let a=[...s].reduce((e,t)=>Object.assign(e,{[t]:r.routes[t]}),{});return u(u({},r),{},{routes:a,sri:!!n||void 0})}(t,l),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(v.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(t.entry.module),");"):" ";return r.createElement(r.Fragment,null,r.createElement("script",u(u({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:Ve(o),type:void 0})),r.createElement("script",u(u({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:Ve(i),type:"module",async:!0})))},[]),b=lt||g?[]:(w=t.entry.imports.concat(Je(v,t,{includeHydrateFallback:!0})),[...new Set(w)]);var w;let x="object"===typeof t.sri?t.sri:{};return Ne(!g,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),lt||g?null:r.createElement(r.Fragment,null,"object"===typeof t.sri?r.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:x})}}):null,m?null:r.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:x[t.url],suppressHydrationWarning:!0}),r.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:x[t.entry.module],suppressHydrationWarning:!0}),b.map(t=>r.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:x[t],suppressHydrationWarning:!0})),y)}function ct(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}r.Component;function dt(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let s,o=r.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(Q(t))return r.createElement(ht,{title:"Unhandled Thrown Response!"},r.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),o);if(t instanceof Error)s=t;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);s=new Error(e)}return r.createElement(ht,{title:"Application Error!",isOutsideRemixApp:n},r.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),r.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},s.stack),o)}function ht(e){var t;let{title:n,renderScripts:s,isOutsideRemixApp:o,children:i}=e,{routeModules:a}=nt();return null!==(t=a.root)&&void 0!==t&&t.Layout&&!o?i:r.createElement("html",{lang:"en"},r.createElement("head",null,r.createElement("meta",{charSet:"utf-8"}),r.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),r.createElement("title",null,n)),r.createElement("body",null,r.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},i,s?r.createElement(ut,null):null)))}var pt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{pt&&(window.__reactRouterVersion="7.8.2")}catch(Wa){}function ft(e){let{basename:t,children:n,window:s}=e,o=r.useRef();null==o.current&&(o.current=y({window:s,v5Compat:!0}));let i=o.current,[a,l]=r.useState({action:i.action,location:i.location}),u=r.useCallback(e=>{r.startTransition(()=>l(e))},[l]);return r.useLayoutEffect(()=>i.listen(u),[i,u]),r.createElement(Te,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:i})}var gt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mt=r.forwardRef(function(e,t){let n,{onClick:s,discover:o="render",prefetch:i="none",relative:a,reloadDocument:l,replace:d,state:h,target:p,to:g,preventScrollReset:m,viewTransition:v}=e,y=c(e,f),{basename:x}=r.useContext(ae),k="string"===typeof g&&gt.test(g),_=!1;if("string"===typeof g&&k&&(n=g,pt))try{let e=new URL(window.location.href),t=g.startsWith("//")?new URL(e.protocol+g):new URL(g),n=V(t.pathname,x);t.origin===e.origin&&null!=n?g=n+t.search+t.hash:_=!0}catch(Wa){w(!1,'<Link to="'.concat(g,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let E=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b(de(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=r.useContext(ae),{hash:o,pathname:i,search:a}=me(e,{relative:t}),l=i;return"/"!==n&&(l="/"===i?n:$([n,i])),s.createHref({pathname:l,search:a,hash:o})}(g,{relative:a}),[C,j,L]=function(e,t){let n=r.useContext(tt),[s,o]=r.useState(!1),[i,a]=r.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:c,onMouseLeave:d,onTouchStart:h}=t,p=r.useRef(null);r.useEffect(()=>{if("render"===e&&a(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{a(e.isIntersecting)})},{threshold:.5});return p.current&&e.observe(p.current),()=>{e.disconnect()}}},[e]),r.useEffect(()=>{if(s){let e=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(e)}}},[s]);let f=()=>{o(!0)},g=()=>{o(!1),a(!1)};return n?"intent"!==e?[i,p,{}]:[i,p,{onFocus:rt(l,f),onBlur:rt(u,g),onMouseEnter:rt(c,f),onMouseLeave:rt(d,g),onTouchStart:rt(h,f)}]:[!1,p,{}]}(i,y),P=function(e){let{target:t,replace:n,state:s,preventScrollReset:o,relative:i,viewTransition:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=ge(),u=he(),c=me(e,{relative:i});return r.useCallback(r=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(r,t)){r.preventDefault();let t=void 0!==n?n:S(u)===S(c);l(e,{replace:t,state:s,preventScrollReset:o,relative:i,viewTransition:a})}},[u,l,c,n,s,t,e,o,i,a])}(g,{replace:d,state:h,target:p,preventScrollReset:m,relative:a,viewTransition:v});let O=r.createElement("a",u(u(u({},y),L),{},{href:n||E,onClick:_||l?s:function(e){s&&s(e),e.defaultPrevented||P(e)},ref:ct(t,j),target:p,"data-discover":k||"render"!==o?void 0:"true"}));return C&&!k?r.createElement(r.Fragment,null,O,r.createElement(ot,{page:E})):O});mt.displayName="Link",r.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:s=!1,className:o="",end:i=!1,style:a,to:l,viewTransition:d,children:h}=e,p=c(e,g),f=me(l,{relative:p.relative}),m=he(),v=r.useContext(ne),{navigator:y,basename:w}=r.useContext(ae),x=null!=v&&function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.useContext(se);b(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=bt("useViewTransitionState"),o=me(e,{relative:t});if(!n.isTransitioning)return!1;let i=V(n.currentLocation.pathname,s)||n.currentLocation.pathname,a=V(n.nextLocation.pathname,s)||n.nextLocation.pathname;return null!=B(o.pathname,a)||null!=B(o.pathname,i)}(f)&&!0===d,k=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,S=m.pathname,_=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;s||(S=S.toLowerCase(),_=_?_.toLowerCase():null,k=k.toLowerCase()),_&&w&&(_=V(_,w)||_);const E="/"!==k&&k.endsWith("/")?k.length-1:k.length;let C,j=S===k||!i&&S.startsWith(k)&&"/"===S.charAt(E),L=null!=_&&(_===k||!i&&_.startsWith(k)&&"/"===_.charAt(k.length)),P={isActive:j,isPending:L,isTransitioning:x},O=j?n:void 0;C="function"===typeof o?o(P):[o,j?"active":null,L?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let N="function"===typeof a?a(P):a;return r.createElement(mt,u(u({},p),{},{"aria-current":O,className:C,ref:t,style:N,to:l,viewTransition:d}),"function"===typeof h?h(P):h)}).displayName="NavLink";var vt=r.forwardRef((e,t)=>{let{discover:n="render",fetcherKey:s,navigate:o,reloadDocument:i,replace:a,state:l,method:d=De,action:h,onSubmit:p,relative:f,preventScrollReset:g,viewTransition:v}=e,y=c(e,m),w=kt(),x=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=r.useContext(ae),s=r.useContext(ue);b(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),i=u({},me(e||".",{relative:t})),a=he();if(null==e){i.search=a.search;let e=new URLSearchParams(i.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();i.search=n?"?".concat(n):""}}e&&"."!==e||!o.route.index||(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(i.pathname="/"===i.pathname?n:$([n,i.pathname]));return S(i)}(h,{relative:f}),k="get"===d.toLowerCase()?"get":"post",_="string"===typeof h&&gt.test(h);return r.createElement("form",u(u({ref:t,method:k,action:x,onSubmit:i?p:e=>{if(p&&p(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||d;w(t||e.currentTarget,{fetcherKey:s,method:n,navigate:o,replace:a,state:l,relative:f,preventScrollReset:g,viewTransition:v})}},y),{},{"data-discover":_||"render"!==n?void 0:"true"}))});function yt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function bt(e){let t=r.useContext(te);return b(t,yt(e)),t}vt.displayName="Form";var wt=0,xt=()=>"__".concat(String(++wt),"__");function kt(){let{router:e}=bt("useSubmit"),{basename:t}=r.useContext(ae),n=Ce("useRouteId");return r.useCallback(async function(r){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:o,method:i,encType:a,formData:l,body:u}=We(r,t);if(!1===s.navigate){let t=s.fetcherKey||xt();await e.fetch(t,n,s.action||o,{preventScrollReset:s.preventScrollReset,formData:l,body:u,formMethod:s.method||i,formEncType:s.encType||a,flushSync:s.flushSync})}else await e.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:l,body:u,formMethod:s.method||i,formEncType:s.encType||a,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}var St,_t,Et=n(579),Ct=n(950);function jt(e){return jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jt(e)}function Lt(e){var t=function(e,t){if("object"!=jt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=jt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==jt(t)?t:t+""}function Pt(e,t,n){return(t=Lt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ot(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Nt=Ot(_t?St:(_t=1,St=function(e,t,n,r,s,o,i,a){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,s,o,i,a],c=0;(l=new Error(t.replace(/%s/g,function(){return u[c++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}})),Mt=(0,r.createContext)(null);function Tt(e,t,n,r){var s,o,i={};return s=e,o=(e,s)=>{var o=n[s];o!==t[s]&&(i[s]=o,e(r,o))},Object.keys(s).forEach(e=>o(s[e],e)),i}function Rt(e,t,n){var r,s,o,i=(r=n,s=function(n,r,s){return"function"===typeof e[s]&&n.push(google.maps.event.addListener(t,r,e[s])),n},o=[],Object.keys(r).reduce(function(e,t){return s(e,r[t],t)},o));return i}function It(e){google.maps.event.removeListener(e)}function Dt(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(It)}function At(e){var{updaterMap:t,eventMap:n,prevProps:r,nextProps:s,instance:o}=e,i=Rt(s,o,n);return Tt(t,r,s,o),i}var Ut={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},zt={extraMapTypes(e,t){t.forEach(function(t,n){e.mapTypes.set(String(n),t)})},center(e,t){e.setCenter(t)},clickableIcons(e,t){e.setClickableIcons(t)},heading(e,t){e.setHeading(t)},mapTypeId(e,t){e.setMapTypeId(t)},options(e,t){e.setOptions(t)},streetView(e,t){e.setStreetView(t)},tilt(e,t){e.setTilt(t)},zoom(e,t){e.setZoom(t)}};(0,r.memo)(function(e){var{children:t,options:n,id:s,mapContainerStyle:o,mapContainerClassName:i,center:a,onClick:l,onDblClick:u,onDrag:c,onDragEnd:d,onDragStart:h,onMouseMove:p,onMouseOut:f,onMouseOver:g,onMouseDown:m,onMouseUp:v,onRightClick:y,onCenterChanged:b,onLoad:w,onUnmount:x}=e,[k,S]=(0,r.useState)(null),_=(0,r.useRef)(null),[E,C]=(0,r.useState)(null),[j,L]=(0,r.useState)(null),[P,O]=(0,r.useState)(null),[N,M]=(0,r.useState)(null),[T,R]=(0,r.useState)(null),[I,D]=(0,r.useState)(null),[A,U]=(0,r.useState)(null),[z,B]=(0,r.useState)(null),[F,W]=(0,r.useState)(null),[V,H]=(0,r.useState)(null),[q,K]=(0,r.useState)(null),[G,$]=(0,r.useState)(null);return(0,r.useEffect)(()=>{n&&null!==k&&k.setOptions(n)},[k,n]),(0,r.useEffect)(()=>{null!==k&&"undefined"!==typeof a&&k.setCenter(a)},[k,a]),(0,r.useEffect)(()=>{k&&u&&(null!==j&&google.maps.event.removeListener(j),L(google.maps.event.addListener(k,"dblclick",u)))},[u]),(0,r.useEffect)(()=>{k&&d&&(null!==P&&google.maps.event.removeListener(P),O(google.maps.event.addListener(k,"dragend",d)))},[d]),(0,r.useEffect)(()=>{k&&h&&(null!==N&&google.maps.event.removeListener(N),M(google.maps.event.addListener(k,"dragstart",h)))},[h]),(0,r.useEffect)(()=>{k&&m&&(null!==T&&google.maps.event.removeListener(T),R(google.maps.event.addListener(k,"mousedown",m)))},[m]),(0,r.useEffect)(()=>{k&&p&&(null!==I&&google.maps.event.removeListener(I),D(google.maps.event.addListener(k,"mousemove",p)))},[p]),(0,r.useEffect)(()=>{k&&f&&(null!==A&&google.maps.event.removeListener(A),U(google.maps.event.addListener(k,"mouseout",f)))},[f]),(0,r.useEffect)(()=>{k&&g&&(null!==z&&google.maps.event.removeListener(z),B(google.maps.event.addListener(k,"mouseover",g)))},[g]),(0,r.useEffect)(()=>{k&&v&&(null!==F&&google.maps.event.removeListener(F),W(google.maps.event.addListener(k,"mouseup",v)))},[v]),(0,r.useEffect)(()=>{k&&y&&(null!==V&&google.maps.event.removeListener(V),H(google.maps.event.addListener(k,"rightclick",y)))},[y]),(0,r.useEffect)(()=>{k&&l&&(null!==q&&google.maps.event.removeListener(q),K(google.maps.event.addListener(k,"click",l)))},[l]),(0,r.useEffect)(()=>{k&&c&&(null!==G&&google.maps.event.removeListener(G),$(google.maps.event.addListener(k,"drag",c)))},[c]),(0,r.useEffect)(()=>{k&&b&&(null!==E&&google.maps.event.removeListener(E),C(google.maps.event.addListener(k,"center_changed",b)))},[l]),(0,r.useEffect)(()=>{var e=null===_.current?null:new google.maps.Map(_.current,n);return S(e),null!==e&&w&&w(e),()=>{null!==e&&x&&x(e)}},[]),(0,Et.jsx)("div",{id:s,ref:_,style:o,className:i,children:(0,Et.jsx)(Mt.Provider,{value:k,children:null!==k?t:null})})});class Bt extends r.PureComponent{constructor(){super(...arguments),Pt(this,"state",{map:null}),Pt(this,"registeredEvents",[]),Pt(this,"mapRef",null),Pt(this,"getInstance",()=>null===this.mapRef?null:new google.maps.Map(this.mapRef,this.props.options)),Pt(this,"panTo",e=>{var t=this.getInstance();t&&t.panTo(e)}),Pt(this,"setMapCallback",()=>{null!==this.state.map&&this.props.onLoad&&this.props.onLoad(this.state.map)}),Pt(this,"getRef",e=>{this.mapRef=e})}componentDidMount(){var e=this.getInstance();this.registeredEvents=At({updaterMap:zt,eventMap:Ut,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{map:e}},this.setMapCallback)}componentDidUpdate(e){null!==this.state.map&&(Dt(this.registeredEvents),this.registeredEvents=At({updaterMap:zt,eventMap:Ut,prevProps:e,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){null!==this.state.map&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),Dt(this.registeredEvents))}render(){return(0,Et.jsx)("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:(0,Et.jsx)(Mt.Provider,{value:this.state.map,children:null!==this.state.map?this.props.children:null})})}}function Ft(e,t,n,r,s,o,i){try{var a=e[o](i),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(r,s)}function Wt(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var o=e.apply(t,n);function i(e){Ft(o,r,s,i,a,"next",e)}function a(e){Ft(o,r,s,i,a,"throw",e)}i(void 0)})}}function Vt(e){var{googleMapsApiKey:t,googleMapsClientId:n,version:r="weekly",language:s,region:o,libraries:i,channel:a,mapIds:l,authReferrerPolicy:u,apiUrl:c="https://maps.googleapis.com"}=e,d=[];return Nt(t&&n||!(t&&n),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),t?d.push("key=".concat(t)):n&&d.push("client=".concat(n)),r&&d.push("v=".concat(r)),s&&d.push("language=".concat(s)),o&&d.push("region=".concat(o)),i&&i.length&&d.push("libraries=".concat(i.sort().join(","))),a&&d.push("channel=".concat(a)),l&&l.length&&d.push("map_ids=".concat(l.join(","))),u&&d.push("auth_referrer_policy=".concat(u)),d.push("loading=async"),d.push("callback=initMap"),"".concat(c,"/maps/api/js?").concat(d.join("&"))}var Ht="undefined"!==typeof document;function qt(e){var{url:t,id:n,nonce:r}=e;return Ht?new Promise(function(e,s){var o=document.getElementById(n),i=window;if(o){var a=o.getAttribute("data-state");if(o.src===t&&"error"!==a){if("ready"===a)return e(n);var l=i.initMap,u=o.onerror;return i.initMap=function(){l&&l(),e(n)},void(o.onerror=function(e){u&&u(e),s(e)})}o.remove()}var c=document.createElement("script");c.type="text/javascript",c.src=t,c.id=n,c.async=!0,c.nonce=r||"",c.onerror=function(e){c.setAttribute("data-state","error"),s(e)},i.initMap=function(){c.setAttribute("data-state","ready"),e(n)},document.head.appendChild(c)}).catch(e=>{throw console.error("injectScript error: ",e),e}):Promise.reject(new Error("document is undefined"))}function Kt(e){var t=e.href;return!(!t||0!==t.indexOf("https://fonts.googleapis.com/css?family=Roboto")&&0!==t.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text"))||("style"===e.tagName.toLowerCase()&&e.styleSheet&&e.styleSheet.cssText&&0===e.styleSheet.cssText.replace("\r\n","").indexOf(".gm-style")?(e.styleSheet.cssText="",!0):"style"===e.tagName.toLowerCase()&&e.innerHTML&&0===e.innerHTML.replace("\r\n","").indexOf(".gm-style")?(e.innerHTML="",!0):"style"===e.tagName.toLowerCase()&&!e.styleSheet&&!e.innerHTML)}function Gt(){var e=document.getElementsByTagName("head")[0];if(e){var t=e.insertBefore.bind(e);e.insertBefore=function(n,r){return Kt(n)||Reflect.apply(t,e,[n,r]),n};var n=e.appendChild.bind(e);e.appendChild=function(t){return Kt(t)||Reflect.apply(n,e,[t]),t}}}var $t=!1;function Zt(){return(0,Et.jsx)("div",{children:"Loading..."})}var Jt,Yt={id:"script-loader",version:"weekly"};class Qt extends r.PureComponent{constructor(){super(...arguments),Pt(this,"check",null),Pt(this,"state",{loaded:!1}),Pt(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),Pt(this,"isCleaningUp",Wt(function*(){return new Promise(function(e){if($t){if(Ht)var t=window.setInterval(function(){$t||(window.clearInterval(t),e())},1)}else e()})})),Pt(this,"cleanup",()=>{$t=!0;var e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(e){return"string"===typeof e.src&&e.src.includes("maps.googleapis")}).forEach(function(e){e.parentNode&&e.parentNode.removeChild(e)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(e){return"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"===e.href}).forEach(function(e){e.parentNode&&e.parentNode.removeChild(e)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(e){return void 0!==e.innerText&&e.innerText.length>0&&e.innerText.includes(".gm-")}).forEach(function(e){e.parentNode&&e.parentNode.removeChild(e)})}),Pt(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&Gt(),Nt(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id),qt({id:this.props.id,nonce:this.props.nonce,url:Vt(this.props)}).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(e=>{this.props.onError&&this.props.onError(e),console.error("\n          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (".concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",") to <LoadScript />\n          Otherwise it is a Network issue.\n        "))})}),Pt(this,"getRef",e=>{this.check=e})}componentDidMount(){if(Ht){if(window.google&&window.google.maps&&!$t)return void console.error("google api is already presented");this.isCleaningUp().then(this.injectScript).catch(function(e){console.error("Error at injecting script after cleaning up: ",e)})}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),Ht&&e.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(Ht){this.cleanup();window.setTimeout(()=>{this.check||(delete window.google,$t=!1)},1),this.props.onUnmount&&this.props.onUnmount()}}render(){return(0,Et.jsxs)(Et.Fragment,{children:[(0,Et.jsx)("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||(0,Et.jsx)(Zt,{})]})}}function Xt(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function en(e){var{id:t=Yt.id,version:n=Yt.version,nonce:s,googleMapsApiKey:o,googleMapsClientId:i,language:a,region:l,libraries:u,preventGoogleFontsLoading:c,channel:d,mapIds:h,authReferrerPolicy:p,apiUrl:f="https://maps.googleapis.com"}=e,g=(0,r.useRef)(!1),[m,v]=(0,r.useState)(!1),[y,b]=(0,r.useState)(void 0);(0,r.useEffect)(function(){return g.current=!0,()=>{g.current=!1}},[]),(0,r.useEffect)(function(){Ht&&c&&Gt()},[c]),(0,r.useEffect)(function(){m&&Nt(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[m]);var w=Vt({version:n,googleMapsApiKey:o,googleMapsClientId:i,language:a,region:l,libraries:u,channel:d,mapIds:h,authReferrerPolicy:p,apiUrl:f});(0,r.useEffect)(function(){function e(){g.current&&(v(!0),Jt=w)}Ht&&(window.google&&window.google.maps&&Jt===w?e():qt({id:t,url:w,nonce:s}).then(e).catch(function(e){g.current&&b(e),console.warn("\n        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (".concat(o||"-",") or Client ID (").concat(i||"-",")\n        Otherwise it is a Network issue.\n      ")),console.error(e)}))},[t,w,s]);var x=(0,r.useRef)(void 0);return(0,r.useEffect)(function(){x.current&&u!==x.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),x.current=u},[u]),{isLoaded:m,loadError:y,url:w}}Pt(Qt,"defaultProps",Yt);var tn=["loadingElement","onLoad","onError","onUnmount","children"],nn=(0,Et.jsx)(Zt,{});(0,r.memo)(function(e){var{loadingElement:t,onLoad:n,onError:s,onUnmount:o,children:i}=e,a=Xt(e,tn),{isLoaded:l,loadError:u}=en(a);return(0,r.useEffect)(function(){l&&"function"===typeof n&&n()},[l,n]),(0,r.useEffect)(function(){u&&"function"===typeof s&&s(u)},[u,s]),(0,r.useEffect)(function(){return()=>{o&&o()}},[o]),l?i:t||nn});"function"===typeof SuppressedError&&SuppressedError;var rn;!function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE"}(rn||(rn={}));function sn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function on(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sn(Object(n),!0).forEach(function(t){Pt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var an={},ln={options(e,t){e.setOptions(t)}};(0,r.memo)(function(e){var{options:t,onLoad:n,onUnmount:s}=e,o=(0,r.useContext)(Mt),[i,a]=(0,r.useState)(null);return(0,r.useEffect)(()=>{null!==i&&i.setMap(o)},[o]),(0,r.useEffect)(()=>{t&&null!==i&&i.setOptions(t)},[i,t]),(0,r.useEffect)(()=>{var e=new google.maps.TrafficLayer(on(on({},t),{},{map:o}));return a(e),n&&n(e),()=>{null!==i&&(s&&s(i),i.setMap(null))}},[]),null});class un extends r.PureComponent{constructor(){super(...arguments),Pt(this,"state",{trafficLayer:null}),Pt(this,"setTrafficLayerCallback",()=>{null!==this.state.trafficLayer&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),Pt(this,"registeredEvents",[])}componentDidMount(){var e=new google.maps.TrafficLayer(on(on({},this.props.options),{},{map:this.context}));this.registeredEvents=At({updaterMap:ln,eventMap:an,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{trafficLayer:e}},this.setTrafficLayerCallback)}componentDidUpdate(e){null!==this.state.trafficLayer&&(Dt(this.registeredEvents),this.registeredEvents=At({updaterMap:ln,eventMap:an,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){null!==this.state.trafficLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),Dt(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}Pt(un,"contextType",Mt);(0,r.memo)(function(e){var{onLoad:t,onUnmount:n}=e,s=(0,r.useContext)(Mt),[o,i]=(0,r.useState)(null);return(0,r.useEffect)(()=>{null!==o&&o.setMap(s)},[s]),(0,r.useEffect)(()=>{var e=new google.maps.BicyclingLayer;return i(e),e.setMap(s),t&&t(e),()=>{null!==e&&(n&&n(e),e.setMap(null))}},[]),null});class cn extends r.PureComponent{constructor(){super(...arguments),Pt(this,"state",{bicyclingLayer:null}),Pt(this,"setBicyclingLayerCallback",()=>{null!==this.state.bicyclingLayer&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var e=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:e}),this.setBicyclingLayerCallback)}componentWillUnmount(){null!==this.state.bicyclingLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}Pt(cn,"contextType",Mt);(0,r.memo)(function(e){var{onLoad:t,onUnmount:n}=e,s=(0,r.useContext)(Mt),[o,i]=(0,r.useState)(null);return(0,r.useEffect)(()=>{null!==o&&o.setMap(s)},[s]),(0,r.useEffect)(()=>{var e=new google.maps.TransitLayer;return i(e),e.setMap(s),t&&t(e),()=>{null!==o&&(n&&n(o),o.setMap(null))}},[]),null});class dn extends r.PureComponent{constructor(){super(...arguments),Pt(this,"state",{transitLayer:null}),Pt(this,"setTransitLayerCallback",()=>{null!==this.state.transitLayer&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var e=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:e}},this.setTransitLayerCallback)}componentWillUnmount(){null!==this.state.transitLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}function hn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function pn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hn(Object(n),!0).forEach(function(t){Pt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}Pt(dn,"contextType",Mt);var fn={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},gn={drawingMode(e,t){e.setDrawingMode(t)},options(e,t){e.setOptions(t)}};(0,r.memo)(function(e){var{options:t,drawingMode:n,onCircleComplete:s,onMarkerComplete:o,onOverlayComplete:i,onPolygonComplete:a,onPolylineComplete:l,onRectangleComplete:u,onLoad:c,onUnmount:d}=e,h=(0,r.useContext)(Mt),[p,f]=(0,r.useState)(null),[g,m]=(0,r.useState)(null),[v,y]=(0,r.useState)(null),[b,w]=(0,r.useState)(null),[x,k]=(0,r.useState)(null),[S,_]=(0,r.useState)(null),[E,C]=(0,r.useState)(null);return(0,r.useEffect)(()=>{null!==p&&p.setMap(h)},[h]),(0,r.useEffect)(()=>{t&&null!==p&&p.setOptions(t)},[p,t]),(0,r.useEffect)(()=>{null!==p&&p.setDrawingMode(null!==n&&void 0!==n?n:null)},[p,n]),(0,r.useEffect)(()=>{p&&s&&(null!==g&&google.maps.event.removeListener(g),m(google.maps.event.addListener(p,"circlecomplete",s)))},[p,s]),(0,r.useEffect)(()=>{p&&o&&(null!==v&&google.maps.event.removeListener(v),y(google.maps.event.addListener(p,"markercomplete",o)))},[p,o]),(0,r.useEffect)(()=>{p&&i&&(null!==b&&google.maps.event.removeListener(b),w(google.maps.event.addListener(p,"overlaycomplete",i)))},[p,i]),(0,r.useEffect)(()=>{p&&a&&(null!==x&&google.maps.event.removeListener(x),k(google.maps.event.addListener(p,"polygoncomplete",a)))},[p,a]),(0,r.useEffect)(()=>{p&&l&&(null!==S&&google.maps.event.removeListener(S),_(google.maps.event.addListener(p,"polylinecomplete",l)))},[p,l]),(0,r.useEffect)(()=>{p&&u&&(null!==E&&google.maps.event.removeListener(E),C(google.maps.event.addListener(p,"rectanglecomplete",u)))},[p,u]),(0,r.useEffect)(()=>{Nt(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var e=new google.maps.drawing.DrawingManager(pn(pn({},t),{},{map:h}));return n&&e.setDrawingMode(n),s&&m(google.maps.event.addListener(e,"circlecomplete",s)),o&&y(google.maps.event.addListener(e,"markercomplete",o)),i&&w(google.maps.event.addListener(e,"overlaycomplete",i)),a&&k(google.maps.event.addListener(e,"polygoncomplete",a)),l&&_(google.maps.event.addListener(e,"polylinecomplete",l)),u&&C(google.maps.event.addListener(e,"rectanglecomplete",u)),f(e),c&&c(e),()=>{null!==p&&(g&&google.maps.event.removeListener(g),v&&google.maps.event.removeListener(v),b&&google.maps.event.removeListener(b),x&&google.maps.event.removeListener(x),S&&google.maps.event.removeListener(S),E&&google.maps.event.removeListener(E),d&&d(p),p.setMap(null))}},[]),null});class mn extends r.PureComponent{constructor(e){super(e),Pt(this,"registeredEvents",[]),Pt(this,"state",{drawingManager:null}),Pt(this,"setDrawingManagerCallback",()=>{null!==this.state.drawingManager&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),Nt(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var e=new google.maps.drawing.DrawingManager(pn(pn({},this.props.options),{},{map:this.context}));this.registeredEvents=At({updaterMap:gn,eventMap:fn,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{drawingManager:e}},this.setDrawingManagerCallback)}componentDidUpdate(e){null!==this.state.drawingManager&&(Dt(this.registeredEvents),this.registeredEvents=At({updaterMap:gn,eventMap:fn,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){null!==this.state.drawingManager&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),Dt(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}function vn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function yn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vn(Object(n),!0).forEach(function(t){Pt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}Pt(mn,"contextType",Mt);var bn={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},wn={animation(e,t){e.setAnimation(t)},clickable(e,t){e.setClickable(t)},cursor(e,t){e.setCursor(t)},draggable(e,t){e.setDraggable(t)},icon(e,t){e.setIcon(t)},label(e,t){e.setLabel(t)},map(e,t){e.setMap(t)},opacity(e,t){e.setOpacity(t)},options(e,t){e.setOptions(t)},position(e,t){e.setPosition(t)},shape(e,t){e.setShape(t)},title(e,t){e.setTitle(t)},visible(e,t){e.setVisible(t)},zIndex(e,t){e.setZIndex(t)}},xn={};var kn=(0,r.memo)(function(e){var{position:t,options:n,clusterer:s,noClustererRedraw:o,children:i,draggable:a,visible:l,animation:u,clickable:c,cursor:d,icon:h,label:p,opacity:f,shape:g,title:m,zIndex:v,onClick:y,onDblClick:b,onDrag:w,onDragEnd:x,onDragStart:k,onMouseOut:S,onMouseOver:_,onMouseUp:E,onMouseDown:C,onRightClick:j,onClickableChanged:L,onCursorChanged:P,onAnimationChanged:O,onDraggableChanged:N,onFlatChanged:M,onIconChanged:T,onPositionChanged:R,onShapeChanged:I,onTitleChanged:D,onVisibleChanged:A,onZindexChanged:U,onLoad:z,onUnmount:B}=e,F=(0,r.useContext)(Mt),[W,V]=(0,r.useState)(null),[H,q]=(0,r.useState)(null),[K,G]=(0,r.useState)(null),[$,Z]=(0,r.useState)(null),[J,Y]=(0,r.useState)(null),[Q,X]=(0,r.useState)(null),[ee,te]=(0,r.useState)(null),[ne,re]=(0,r.useState)(null),[se,oe]=(0,r.useState)(null),[ie,ae]=(0,r.useState)(null),[le,ue]=(0,r.useState)(null),[ce,de]=(0,r.useState)(null),[he,pe]=(0,r.useState)(null),[fe,ge]=(0,r.useState)(null),[me,ve]=(0,r.useState)(null),[ye,be]=(0,r.useState)(null),[we,xe]=(0,r.useState)(null),[ke,Se]=(0,r.useState)(null),[_e,Ee]=(0,r.useState)(null),[Ce,je]=(0,r.useState)(null),[Le,Pe]=(0,r.useState)(null),[Oe,Ne]=(0,r.useState)(null);(0,r.useEffect)(()=>{null!==W&&W.setMap(F)},[F]),(0,r.useEffect)(()=>{"undefined"!==typeof n&&null!==W&&W.setOptions(n)},[W,n]),(0,r.useEffect)(()=>{"undefined"!==typeof a&&null!==W&&W.setDraggable(a)},[W,a]),(0,r.useEffect)(()=>{t&&null!==W&&W.setPosition(t)},[W,t]),(0,r.useEffect)(()=>{"undefined"!==typeof l&&null!==W&&W.setVisible(l)},[W,l]),(0,r.useEffect)(()=>{null===W||void 0===W||W.setAnimation(u)},[W,u]),(0,r.useEffect)(()=>{W&&void 0!==c&&W.setClickable(c)},[W,c]),(0,r.useEffect)(()=>{W&&void 0!==d&&W.setCursor(d)},[W,d]),(0,r.useEffect)(()=>{W&&void 0!==h&&W.setIcon(h)},[W,h]),(0,r.useEffect)(()=>{W&&void 0!==p&&W.setLabel(p)},[W,p]),(0,r.useEffect)(()=>{W&&void 0!==f&&W.setOpacity(f)},[W,f]),(0,r.useEffect)(()=>{W&&void 0!==g&&W.setShape(g)},[W,g]),(0,r.useEffect)(()=>{W&&void 0!==m&&W.setTitle(m)},[W,m]),(0,r.useEffect)(()=>{W&&void 0!==v&&W.setZIndex(v)},[W,v]),(0,r.useEffect)(()=>{W&&b&&(null!==H&&google.maps.event.removeListener(H),q(google.maps.event.addListener(W,"dblclick",b)))},[b]),(0,r.useEffect)(()=>{W&&x&&(null!==K&&google.maps.event.removeListener(K),G(google.maps.event.addListener(W,"dragend",x)))},[x]),(0,r.useEffect)(()=>{W&&k&&(null!==$&&google.maps.event.removeListener($),Z(google.maps.event.addListener(W,"dragstart",k)))},[k]),(0,r.useEffect)(()=>{W&&C&&(null!==J&&google.maps.event.removeListener(J),Y(google.maps.event.addListener(W,"mousedown",C)))},[C]),(0,r.useEffect)(()=>{W&&S&&(null!==Q&&google.maps.event.removeListener(Q),X(google.maps.event.addListener(W,"mouseout",S)))},[S]),(0,r.useEffect)(()=>{W&&_&&(null!==ee&&google.maps.event.removeListener(ee),te(google.maps.event.addListener(W,"mouseover",_)))},[_]),(0,r.useEffect)(()=>{W&&E&&(null!==ne&&google.maps.event.removeListener(ne),re(google.maps.event.addListener(W,"mouseup",E)))},[E]),(0,r.useEffect)(()=>{W&&j&&(null!==se&&google.maps.event.removeListener(se),oe(google.maps.event.addListener(W,"rightclick",j)))},[j]),(0,r.useEffect)(()=>{W&&y&&(null!==ie&&google.maps.event.removeListener(ie),ae(google.maps.event.addListener(W,"click",y)))},[y]),(0,r.useEffect)(()=>{W&&w&&(null!==le&&google.maps.event.removeListener(le),ue(google.maps.event.addListener(W,"drag",w)))},[w]),(0,r.useEffect)(()=>{W&&L&&(null!==ce&&google.maps.event.removeListener(ce),de(google.maps.event.addListener(W,"clickable_changed",L)))},[L]),(0,r.useEffect)(()=>{W&&P&&(null!==he&&google.maps.event.removeListener(he),pe(google.maps.event.addListener(W,"cursor_changed",P)))},[P]),(0,r.useEffect)(()=>{W&&O&&(null!==fe&&google.maps.event.removeListener(fe),ge(google.maps.event.addListener(W,"animation_changed",O)))},[O]),(0,r.useEffect)(()=>{W&&N&&(null!==me&&google.maps.event.removeListener(me),ve(google.maps.event.addListener(W,"draggable_changed",N)))},[N]),(0,r.useEffect)(()=>{W&&M&&(null!==ye&&google.maps.event.removeListener(ye),be(google.maps.event.addListener(W,"flat_changed",M)))},[M]),(0,r.useEffect)(()=>{W&&T&&(null!==we&&google.maps.event.removeListener(we),xe(google.maps.event.addListener(W,"icon_changed",T)))},[T]),(0,r.useEffect)(()=>{W&&R&&(null!==ke&&google.maps.event.removeListener(ke),Se(google.maps.event.addListener(W,"position_changed",R)))},[R]),(0,r.useEffect)(()=>{W&&I&&(null!==_e&&google.maps.event.removeListener(_e),Ee(google.maps.event.addListener(W,"shape_changed",I)))},[I]),(0,r.useEffect)(()=>{W&&D&&(null!==Ce&&google.maps.event.removeListener(Ce),je(google.maps.event.addListener(W,"title_changed",D)))},[D]),(0,r.useEffect)(()=>{W&&A&&(null!==Le&&google.maps.event.removeListener(Le),Pe(google.maps.event.addListener(W,"visible_changed",A)))},[A]),(0,r.useEffect)(()=>{W&&U&&(null!==Oe&&google.maps.event.removeListener(Oe),Ne(google.maps.event.addListener(W,"zindex_changed",U)))},[U]),(0,r.useEffect)(()=>{var e=yn(yn(yn({},n||xn),s?xn:{map:F}),{},{position:t}),r=new google.maps.Marker(e);return s?s.addMarker(r,!!o):r.setMap(F),t&&r.setPosition(t),"undefined"!==typeof l&&r.setVisible(l),"undefined"!==typeof a&&r.setDraggable(a),"undefined"!==typeof c&&r.setClickable(c),"string"===typeof d&&r.setCursor(d),h&&r.setIcon(h),"undefined"!==typeof p&&r.setLabel(p),"undefined"!==typeof f&&r.setOpacity(f),g&&r.setShape(g),"string"===typeof m&&r.setTitle(m),"number"===typeof v&&r.setZIndex(v),b&&q(google.maps.event.addListener(r,"dblclick",b)),x&&G(google.maps.event.addListener(r,"dragend",x)),k&&Z(google.maps.event.addListener(r,"dragstart",k)),C&&Y(google.maps.event.addListener(r,"mousedown",C)),S&&X(google.maps.event.addListener(r,"mouseout",S)),_&&te(google.maps.event.addListener(r,"mouseover",_)),E&&re(google.maps.event.addListener(r,"mouseup",E)),j&&oe(google.maps.event.addListener(r,"rightclick",j)),y&&ae(google.maps.event.addListener(r,"click",y)),w&&ue(google.maps.event.addListener(r,"drag",w)),L&&de(google.maps.event.addListener(r,"clickable_changed",L)),P&&pe(google.maps.event.addListener(r,"cursor_changed",P)),O&&ge(google.maps.event.addListener(r,"animation_changed",O)),N&&ve(google.maps.event.addListener(r,"draggable_changed",N)),M&&be(google.maps.event.addListener(r,"flat_changed",M)),T&&xe(google.maps.event.addListener(r,"icon_changed",T)),R&&Se(google.maps.event.addListener(r,"position_changed",R)),I&&Ee(google.maps.event.addListener(r,"shape_changed",I)),D&&je(google.maps.event.addListener(r,"title_changed",D)),A&&Pe(google.maps.event.addListener(r,"visible_changed",A)),U&&Ne(google.maps.event.addListener(r,"zindex_changed",U)),V(r),z&&z(r),()=>{null!==H&&google.maps.event.removeListener(H),null!==K&&google.maps.event.removeListener(K),null!==$&&google.maps.event.removeListener($),null!==J&&google.maps.event.removeListener(J),null!==Q&&google.maps.event.removeListener(Q),null!==ee&&google.maps.event.removeListener(ee),null!==ne&&google.maps.event.removeListener(ne),null!==se&&google.maps.event.removeListener(se),null!==ie&&google.maps.event.removeListener(ie),null!==ce&&google.maps.event.removeListener(ce),null!==he&&google.maps.event.removeListener(he),null!==fe&&google.maps.event.removeListener(fe),null!==me&&google.maps.event.removeListener(me),null!==ye&&google.maps.event.removeListener(ye),null!==we&&google.maps.event.removeListener(we),null!==ke&&google.maps.event.removeListener(ke),null!==Ce&&google.maps.event.removeListener(Ce),null!==Le&&google.maps.event.removeListener(Le),null!==Oe&&google.maps.event.removeListener(Oe),B&&B(r),s?s.removeMarker(r,!!o):r&&r.setMap(null)}},[]);var Me=(0,r.useMemo)(()=>i?r.Children.map(i,e=>{if(!(0,r.isValidElement)(e))return e;var t=e;return(0,r.cloneElement)(t,{anchor:W})}):null,[i,W]);return(0,Et.jsx)(Et.Fragment,{children:Me})||null});class Sn extends r.PureComponent{constructor(){super(...arguments),Pt(this,"registeredEvents",[])}componentDidMount(){var e=this;return Wt(function*(){var t=yn(yn(yn({},e.props.options||xn),e.props.clusterer?xn:{map:e.context}),{},{position:e.props.position});e.marker=new google.maps.Marker(t),e.props.clusterer?e.props.clusterer.addMarker(e.marker,!!e.props.noClustererRedraw):e.marker.setMap(e.context),e.registeredEvents=At({updaterMap:wn,eventMap:bn,prevProps:{},nextProps:e.props,instance:e.marker}),e.props.onLoad&&e.props.onLoad(e.marker)})()}componentDidUpdate(e){this.marker&&(Dt(this.registeredEvents),this.registeredEvents=At({updaterMap:wn,eventMap:bn,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),Dt(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){return(this.props.children?r.Children.map(this.props.children,e=>{if(!(0,r.isValidElement)(e))return e;var t=e;return(0,r.cloneElement)(t,{anchor:this.marker})}):null)||null}}Pt(Sn,"contextType",Mt);var _n=function(){function e(t,n){t.getClusterer().extend(e,google.maps.OverlayView),this.cluster=t,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(t.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return e.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},e.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},e.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var t=this.cluster.getClusterer();if(google.maps.event.trigger(t,"click",this.cluster),google.maps.event.trigger(t,"clusterclick",this.cluster),t.getZoomOnClick()){var n=t.getMaxZoom(),r=this.cluster.getBounds(),s=t.getMap();null!==s&&"fitBounds"in s&&s.fitBounds(r),this.timeOut=window.setTimeout(function(){var e=t.getMap();if(null!==e){"fitBounds"in e&&e.fitBounds(r);var s=e.getZoom()||0;null!==n&&s>n&&e.setZoom(n+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},e.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},e.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},e.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),null===(e=this.getPanes())||void 0===e||e.overlayMouseTarget.appendChild(this.div);var t=this.getMap();null!==t&&(this.boundsChangedListener=google.maps.event.addListener(t,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},e.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),null!==this.boundsChangedListener&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),null!==this.timeOut&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},e.prototype.draw=function(){if(this.visible&&null!==this.div&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=null!==e?"".concat(e.y,"px"):"0",this.div.style.left=null!==e?"".concat(e.x,"px"):"0"}},e.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},e.prototype.show=function(){var e,t,n,r,s,o;if(this.div&&this.center){var i=null===this.sums||"undefined"===typeof this.sums.title||""===this.sums.title?this.cluster.getClusterer().getTitle():this.sums.title,a=this.backgroundPosition.split(" "),l=parseInt((null===(e=a[0])||void 0===e?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),u=parseInt((null===(t=a[1])||void 0===t?void 0:t.replace(/^\s+|\s+$/g,""))||"0",10),c=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(null!==c?"".concat(c.y,"px"):"0","; left: ").concat(null!==c?"".concat(c.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var d=document.createElement("img");d.alt=i,d.src=this.url,d.width=this.width,d.height=this.height,d.setAttribute("style","position: absolute; top: ".concat(u,"px; left: ").concat(l,"px")),this.cluster.getClusterer().enableRetinaIcons||(d.style.clip="rect(-".concat(u,"px, -").concat(l+this.width,"px, -").concat(u+this.height,", -").concat(l,")"));var h=document.createElement("div");h.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),(null===(n=this.sums)||void 0===n?void 0:n.text)&&(h.innerText="".concat(null===(r=this.sums)||void 0===r?void 0:r.text)),(null===(s=this.sums)||void 0===s?void 0:s.html)&&(h.innerHTML="".concat(null===(o=this.sums)||void 0===o?void 0:o.html)),this.div.innerHTML="",this.div.appendChild(d),this.div.appendChild(h),this.div.title=i,this.div.style.display=""}this.visible=!0},e.prototype.useStyle=function(e){this.sums=e;var t=this.cluster.getClusterer().getStyles(),n=t[Math.min(t.length-1,Math.max(0,e.index-1))];n&&(this.url=n.url,this.height=n.height,this.width=n.width,n.className&&(this.className="".concat(this.clusterClassName," ").concat(n.className)),this.anchorText=n.anchorText||[0,0],this.anchorIcon=n.anchorIcon||[this.height/2,this.width/2],this.textColor=n.textColor||"black",this.textSize=n.textSize||11,this.textDecoration=n.textDecoration||"none",this.fontWeight=n.fontWeight||"bold",this.fontStyle=n.fontStyle||"normal",this.fontFamily=n.fontFamily||"Arial,sans-serif",this.backgroundPosition=n.backgroundPosition||"0 0")},e.prototype.setCenter=function(e){this.center=e},e.prototype.getPosFromLatLng=function(e){var t=this.getProjection().fromLatLngToDivPixel(e);return null!==t&&(t.x-=this.anchorIcon[1],t.y-=this.anchorIcon[0]),t},e}(),En=function(){function e(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new _n(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return e.prototype.getSize=function(){return this.markers.length},e.prototype.getMarkers=function(){return this.markers},e.prototype.getCenter=function(){return this.center},e.prototype.getMap=function(){return this.map},e.prototype.getClusterer=function(){return this.markerClusterer},e.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),t=0,n=this.getMarkers();t<n.length;t++){var r=n[t].getPosition();r&&e.extend(r)}return e},e.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},e.prototype.addMarker=function(e){var t,n;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter&&(n=e.getPosition())){var r=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(r-1)+n.lat())/r,(this.center.lng()*(r-1)+n.lng())/r),this.calculateBounds()}}else(n=e.getPosition())&&(this.center=n,this.calculateBounds());e.isAdded=!0,this.markers.push(e);var s=this.markers.length,o=this.markerClusterer.getMaxZoom(),i=null===(t=this.map)||void 0===t?void 0:t.getZoom();if(null!==o&&"undefined"!==typeof i&&i>o)e.getMap()!==this.map&&e.setMap(this.map);else if(s<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(s===this.minClusterSize)for(var a=0,l=this.markers;a<l.length;a++){l[a].setMap(null)}else e.setMap(null);return!0},e.prototype.isMarkerInClusterBounds=function(e){if(null!==this.bounds){var t=e.getPosition();if(t)return this.bounds.contains(t)}return!1},e.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},e.prototype.updateIcon=function(){var e,t=this.markers.length,n=this.markerClusterer.getMaxZoom(),r=null===(e=this.map)||void 0===e?void 0:e.getZoom();null!==n&&"undefined"!==typeof r&&r>n||t<this.minClusterSize?this.clusterIcon.hide():(this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show())},e.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var t=0;t<this.markers.length;t++)if(e===this.markers[t])return!0;return!1},e}();function Cn(e,t){var n=e.length,r=n.toString().length,s=Math.min(r,t);return{text:n.toString(),index:s,title:""}}var jn=[53,56,66,78,90],Ln=function(){function e(t,n,r){void 0===n&&(n=[]),void 0===r&&(r={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(e,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=r.gridSize||60,this.minClusterSize=r.minimumClusterSize||2,this.maxZoom=r.maxZoom||null,this.styles=r.styles||[],this.title=r.title||"",this.zoomOnClick=!0,void 0!==r.zoomOnClick&&(this.zoomOnClick=r.zoomOnClick),this.averageCenter=!1,void 0!==r.averageCenter&&(this.averageCenter=r.averageCenter),this.ignoreHidden=!1,void 0!==r.ignoreHidden&&(this.ignoreHidden=r.ignoreHidden),this.enableRetinaIcons=!1,void 0!==r.enableRetinaIcons&&(this.enableRetinaIcons=r.enableRetinaIcons),this.imagePath=r.imagePath||"https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",this.imageExtension=r.imageExtension||"png",this.imageSizes=r.imageSizes||jn,this.calculator=r.calculator||Cn,this.batchSize=r.batchSize||2e3,this.batchSizeIE=r.batchSizeIE||500,this.clusterClass=r.clusterClass||"cluster",-1!==navigator.userAgent.toLowerCase().indexOf("msie")&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(t)}return e.prototype.onZoomChanged=function(){var e,t;this.resetViewport(!1),(null===(e=this.getMap())||void 0===e?void 0:e.getZoom())!==(this.get("minZoom")||0)&&(null===(t=this.getMap())||void 0===t?void 0:t.getZoom())!==this.get("maxZoom")||google.maps.event.trigger(this,"idle")},e.prototype.onIdle=function(){this.redraw()},e.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),null!==e&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},e.prototype.onRemove=function(){for(var e=0,t=this.markers;e<t.length;e++){var n=t[e];n.getMap()!==this.activeMap&&n.setMap(this.activeMap)}for(var r=0,s=this.clusters;r<s.length;r++){s[r].remove()}this.clusters=[];for(var o=0,i=this.listeners;o<i.length;o++){var a=i[o];google.maps.event.removeListener(a)}this.listeners=[],this.activeMap=null,this.ready=!1},e.prototype.draw=function(){},e.prototype.getMap=function(){return null},e.prototype.getPanes=function(){return null},e.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},e.prototype.setMap=function(){},e.prototype.addListener=function(){return{remove:function(){}}},e.prototype.bindTo=function(){},e.prototype.get=function(){},e.prototype.notify=function(){},e.prototype.set=function(){},e.prototype.setValues=function(){},e.prototype.unbind=function(){},e.prototype.unbindAll=function(){},e.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},e.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),t=new google.maps.LatLngBounds,n=0,r=e;n<r.length;n++){var s=r[n].getPosition();s&&t.extend(s)}var o=this.getMap();null!==o&&"fitBounds"in o&&o.fitBounds(t)},e.prototype.getGridSize=function(){return this.gridSize},e.prototype.setGridSize=function(e){this.gridSize=e},e.prototype.getMinimumClusterSize=function(){return this.minClusterSize},e.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},e.prototype.getMaxZoom=function(){return this.maxZoom},e.prototype.setMaxZoom=function(e){this.maxZoom=e},e.prototype.getStyles=function(){return this.styles},e.prototype.setStyles=function(e){this.styles=e},e.prototype.getTitle=function(){return this.title},e.prototype.setTitle=function(e){this.title=e},e.prototype.getZoomOnClick=function(){return this.zoomOnClick},e.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},e.prototype.getAverageCenter=function(){return this.averageCenter},e.prototype.setAverageCenter=function(e){this.averageCenter=e},e.prototype.getIgnoreHidden=function(){return this.ignoreHidden},e.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},e.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},e.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},e.prototype.getImageExtension=function(){return this.imageExtension},e.prototype.setImageExtension=function(e){this.imageExtension=e},e.prototype.getImagePath=function(){return this.imagePath},e.prototype.setImagePath=function(e){this.imagePath=e},e.prototype.getImageSizes=function(){return this.imageSizes},e.prototype.setImageSizes=function(e){this.imageSizes=e},e.prototype.getCalculator=function(){return this.calculator},e.prototype.setCalculator=function(e){this.calculator=e},e.prototype.getBatchSizeIE=function(){return this.batchSizeIE},e.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},e.prototype.getClusterClass=function(){return this.clusterClass},e.prototype.setClusterClass=function(e){this.clusterClass=e},e.prototype.getMarkers=function(){return this.markers},e.prototype.getTotalMarkers=function(){return this.markers.length},e.prototype.getClusters=function(){return this.clusters},e.prototype.getTotalClusters=function(){return this.clusters.length},e.prototype.addMarker=function(e,t){this.pushMarkerTo(e),t||this.redraw()},e.prototype.addMarkers=function(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=e[n];r&&this.pushMarkerTo(r)}t||this.redraw()},e.prototype.pushMarkerTo=function(e){var t=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){t.ready&&(e.isAdded=!1,t.repaint())}),e.isAdded=!1,this.markers.push(e)},e.prototype.removeMarker_=function(e){var t=-1;if(this.markers.indexOf)t=this.markers.indexOf(e);else for(var n=0;n<this.markers.length;n++)if(e===this.markers[n]){t=n;break}return-1!==t&&(e.setMap(null),this.markers.splice(t,1),!0)},e.prototype.removeMarker=function(e,t){var n=this.removeMarker_(e);return!t&&n&&this.repaint(),n},e.prototype.removeMarkers=function(e,t){for(var n=!1,r=0,s=e;r<s.length;r++){var o=s[r];n=n||this.removeMarker_(o)}return!t&&n&&this.repaint(),n},e.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},e.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var t=0,n=e;t<n.length;t++){n[t].remove()}},0)},e.prototype.getExtendedBounds=function(e){var t=this.getProjection(),n=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));null!==n&&(n.x+=this.gridSize,n.y-=this.gridSize);var r=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(null!==r&&(r.x-=this.gridSize,r.y+=this.gridSize),null!==n){var s=t.fromDivPixelToLatLng(n);null!==s&&e.extend(s)}if(null!==r){var o=t.fromDivPixelToLatLng(r);null!==o&&e.extend(o)}return e},e.prototype.redraw=function(){this.createClusters(0)},e.prototype.resetViewport=function(e){for(var t=0,n=this.clusters;t<n.length;t++){n[t].remove()}this.clusters=[];for(var r=0,s=this.markers;r<s.length;r++){var o=s[r];o.isAdded=!1,e&&o.setMap(null)}},e.prototype.distanceBetweenPoints=function(e,t){var n=(t.lat()-e.lat())*Math.PI/180,r=(t.lng()-e.lng())*Math.PI/180,s=Math.sin(n/2)*Math.sin(n/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(t.lat()*Math.PI/180)*Math.sin(r/2)*Math.sin(r/2);return 2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s))*6371},e.prototype.isMarkerInBounds=function(e,t){var n=e.getPosition();return!!n&&t.contains(n)},e.prototype.addToClosestCluster=function(e){for(var t,n=4e4,r=null,s=0,o=this.clusters;s<o.length;s++){var i=(t=o[s]).getCenter(),a=e.getPosition();if(i&&a){var l=this.distanceBetweenPoints(i,a);l<n&&(n=l,r=t)}}r&&r.isMarkerInClusterBounds(e)?r.addMarker(e):((t=new En(this)).addMarker(e),this.clusters.push(t))},e.prototype.createClusters=function(e){var t=this;if(this.ready){0===e&&(google.maps.event.trigger(this,"clusteringbegin",this),null!==this.timerRefStatic&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var n=this.getMap(),r=(null!==n&&"getBounds"in n?n.getBounds():null),s=((null===n||void 0===n?void 0:n.getZoom())||0)>3?new google.maps.LatLngBounds(null===r||void 0===r?void 0:r.getSouthWest(),null===r||void 0===r?void 0:r.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),o=this.getExtendedBounds(s),i=Math.min(e+this.batchSize,this.markers.length),a=e;a<i;a++){var l=this.markers[a];l&&!l.isAdded&&this.isMarkerInBounds(l,o)&&(!this.ignoreHidden||this.ignoreHidden&&l.getVisible())&&this.addToClosestCluster(l)}if(i<this.markers.length)this.timerRefStatic=window.setTimeout(function(){t.createClusters(i)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var u=0,c=this.clusters;u<c.length;u++){c[u].updateIcon()}}}},e.prototype.extend=function(e,t){return function(e){for(var t in e.prototype){var n=t;this.prototype[n]=e.prototype[n]}return this}.apply(e,[t])},e}();function Pn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var On={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},Nn={averageCenter(e,t){e.setAverageCenter(t)},batchSizeIE(e,t){e.setBatchSizeIE(t)},calculator(e,t){e.setCalculator(t)},clusterClass(e,t){e.setClusterClass(t)},enableRetinaIcons(e,t){e.setEnableRetinaIcons(t)},gridSize(e,t){e.setGridSize(t)},ignoreHidden(e,t){e.setIgnoreHidden(t)},imageExtension(e,t){e.setImageExtension(t)},imagePath(e,t){e.setImagePath(t)},imageSizes(e,t){e.setImageSizes(t)},maxZoom(e,t){e.setMaxZoom(t)},minimumClusterSize(e,t){e.setMinimumClusterSize(t)},styles(e,t){e.setStyles(t)},title(e,t){e.setTitle(t)},zoomOnClick(e,t){e.setZoomOnClick(t)}},Mn={};(0,r.memo)(function(e){var{children:t,options:n,averageCenter:s,batchSizeIE:o,calculator:i,clusterClass:a,enableRetinaIcons:l,gridSize:u,ignoreHidden:c,imageExtension:d,imagePath:h,imageSizes:p,maxZoom:f,minimumClusterSize:g,styles:m,title:v,zoomOnClick:y,onClick:b,onClusteringBegin:w,onClusteringEnd:x,onMouseOver:k,onMouseOut:S,onLoad:_,onUnmount:E}=e,[C,j]=(0,r.useState)(null),L=(0,r.useContext)(Mt),[P,O]=(0,r.useState)(null),[N,M]=(0,r.useState)(null),[T,R]=(0,r.useState)(null),[I,D]=(0,r.useState)(null),[A,U]=(0,r.useState)(null);return(0,r.useEffect)(()=>{C&&S&&(null!==I&&google.maps.event.removeListener(I),D(google.maps.event.addListener(C,On.onMouseOut,S)))},[S]),(0,r.useEffect)(()=>{C&&k&&(null!==A&&google.maps.event.removeListener(A),U(google.maps.event.addListener(C,On.onMouseOver,k)))},[k]),(0,r.useEffect)(()=>{C&&b&&(null!==P&&google.maps.event.removeListener(P),O(google.maps.event.addListener(C,On.onClick,b)))},[b]),(0,r.useEffect)(()=>{C&&w&&(null!==N&&google.maps.event.removeListener(N),M(google.maps.event.addListener(C,On.onClusteringBegin,w)))},[w]),(0,r.useEffect)(()=>{C&&x&&(null!==T&&google.maps.event.removeListener(T),M(google.maps.event.addListener(C,On.onClusteringEnd,x)))},[x]),(0,r.useEffect)(()=>{"undefined"!==typeof s&&null!==C&&Nn.averageCenter(C,s)},[C,s]),(0,r.useEffect)(()=>{"undefined"!==typeof o&&null!==C&&Nn.batchSizeIE(C,o)},[C,o]),(0,r.useEffect)(()=>{"undefined"!==typeof i&&null!==C&&Nn.calculator(C,i)},[C,i]),(0,r.useEffect)(()=>{"undefined"!==typeof a&&null!==C&&Nn.clusterClass(C,a)},[C,a]),(0,r.useEffect)(()=>{"undefined"!==typeof l&&null!==C&&Nn.enableRetinaIcons(C,l)},[C,l]),(0,r.useEffect)(()=>{"undefined"!==typeof u&&null!==C&&Nn.gridSize(C,u)},[C,u]),(0,r.useEffect)(()=>{"undefined"!==typeof c&&null!==C&&Nn.ignoreHidden(C,c)},[C,c]),(0,r.useEffect)(()=>{"undefined"!==typeof d&&null!==C&&Nn.imageExtension(C,d)},[C,d]),(0,r.useEffect)(()=>{"undefined"!==typeof h&&null!==C&&Nn.imagePath(C,h)},[C,h]),(0,r.useEffect)(()=>{"undefined"!==typeof p&&null!==C&&Nn.imageSizes(C,p)},[C,p]),(0,r.useEffect)(()=>{"undefined"!==typeof f&&null!==C&&Nn.maxZoom(C,f)},[C,f]),(0,r.useEffect)(()=>{"undefined"!==typeof g&&null!==C&&Nn.minimumClusterSize(C,g)},[C,g]),(0,r.useEffect)(()=>{"undefined"!==typeof m&&null!==C&&Nn.styles(C,m)},[C,m]),(0,r.useEffect)(()=>{"undefined"!==typeof v&&null!==C&&Nn.title(C,v)},[C,v]),(0,r.useEffect)(()=>{"undefined"!==typeof y&&null!==C&&Nn.zoomOnClick(C,y)},[C,y]),(0,r.useEffect)(()=>{if(L){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pn(Object(n),!0).forEach(function(t){Pt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},n||Mn),t=new Ln(L,[],e);return s&&Nn.averageCenter(t,s),o&&Nn.batchSizeIE(t,o),i&&Nn.calculator(t,i),a&&Nn.clusterClass(t,a),l&&Nn.enableRetinaIcons(t,l),u&&Nn.gridSize(t,u),c&&Nn.ignoreHidden(t,c),d&&Nn.imageExtension(t,d),h&&Nn.imagePath(t,h),p&&Nn.imageSizes(t,p),f&&Nn.maxZoom(t,f),g&&Nn.minimumClusterSize(t,g),m&&Nn.styles(t,m),v&&Nn.title(t,v),y&&Nn.zoomOnClick(t,y),S&&D(google.maps.event.addListener(t,On.onMouseOut,S)),k&&U(google.maps.event.addListener(t,On.onMouseOver,k)),b&&O(google.maps.event.addListener(t,On.onClick,b)),w&&M(google.maps.event.addListener(t,On.onClusteringBegin,w)),x&&R(google.maps.event.addListener(t,On.onClusteringEnd,x)),j(t),_&&_(t),()=>{null!==I&&google.maps.event.removeListener(I),null!==A&&google.maps.event.removeListener(A),null!==P&&google.maps.event.removeListener(P),null!==N&&google.maps.event.removeListener(N),null!==T&&google.maps.event.removeListener(T),E&&E(t)}}},[]),null!==C&&t(C)||null});class Tn extends r.PureComponent{constructor(){super(...arguments),Pt(this,"registeredEvents",[]),Pt(this,"state",{markerClusterer:null}),Pt(this,"setClustererCallback",()=>{null!==this.state.markerClusterer&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var e=new Ln(this.context,[],this.props.options);this.registeredEvents=At({updaterMap:Nn,eventMap:On,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({markerClusterer:e}),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&(Dt(this.registeredEvents),this.registeredEvents=At({updaterMap:Nn,eventMap:On,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){null!==this.state.markerClusterer&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),Dt(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return null!==this.state.markerClusterer?this.props.children(this.state.markerClusterer):null}}function Rn(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}Pt(Tn,"contextType",Mt);var In=function(){function e(t){void 0===t&&(t={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(e,google.maps.OverlayView),this.content=t.content||"",this.disableAutoPan=t.disableAutoPan||!1,this.maxWidth=t.maxWidth||0,this.pixelOffset=t.pixelOffset||new google.maps.Size(0,0),this.position=t.position||new google.maps.LatLng(0,0),this.zIndex=t.zIndex||null,this.boxClass=t.boxClass||"infoBox",this.boxStyle=t.boxStyle||{},this.closeBoxMargin=t.closeBoxMargin||"2px",this.closeBoxURL=t.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",""===t.closeBoxURL&&(this.closeBoxURL=""),this.infoBoxClearance=t.infoBoxClearance||new google.maps.Size(1,1),"undefined"===typeof t.visible&&("undefined"===typeof t.isHidden?t.visible=!0:t.visible=!t.isHidden),this.isHidden=!t.visible,this.alignBottom=t.alignBottom||!1,this.pane=t.pane||"floatPane",this.enableEventPropagation=t.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return e.prototype.createInfoBoxDiv=function(){var e=this;if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),"string"===typeof this.content?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var t=this.getPanes();if(null!==t&&t[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(0!==this.maxWidth&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var n=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-n.left-n.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var r=0,s=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"];r<s.length;r++){var o=s[r];this.eventListeners.push(google.maps.event.addListener(this.div,o,Rn))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",function(t){t.returnValue=!1,t.preventDefault&&t.preventDefault(),e.enableEventPropagation||Rn(t)}),google.maps.event.trigger(this,"domready")}},e.prototype.getCloseBoxImg=function(){var e="";return""!==this.closeBoxURL&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},e.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&""!==this.closeBoxURL?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},e.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},e.prototype.getCloseClickHandler=function(){return this.closeClickHandler},e.prototype.panBox=function(e){if(this.div&&!e){var t=this.getMap();if(t instanceof google.maps.Map){var n=0,r=0,s=t.getBounds();s&&!s.contains(this.position)&&t.setCenter(this.position);var o=t.getDiv(),i=o.offsetWidth,a=o.offsetHeight,l=this.pixelOffset.width,u=this.pixelOffset.height,c=this.div.offsetWidth,d=this.div.offsetHeight,h=this.infoBoxClearance.width,p=this.infoBoxClearance.height,f=this.getProjection().fromLatLngToContainerPixel(this.position);null!==f&&(f.x<-l+h?n=f.x+l-h:f.x+c+l+h>i&&(n=f.x+c+l+h-i),this.alignBottom?f.y<-u+p+d?r=f.y+u-p-d:f.y+u+p>a&&(r=f.y+u+p-a):f.y<-u+p?r=f.y+u-p:f.y+d+u+p>a&&(r=f.y+d+u+p-a)),0===n&&0===r||t.panBy(n,r)}}},e.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(this.div.style[t]=e[t]);if(this.div.style.webkitTransform="translateZ(0)","undefined"!==typeof this.div.style.opacity&&""!==this.div.style.opacity){var n=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+100*n+')"',this.div.style.filter="alpha(opacity="+100*n+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",null!==this.zIndex&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},e.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var t=this.div.ownerDocument,n=t&&t.defaultView?t.defaultView.getComputedStyle(this.div,""):null;n&&(e.top=parseInt(n.borderTopWidth||"",10)||0,e.bottom=parseInt(n.borderBottomWidth||"",10)||0,e.left=parseInt(n.borderLeftWidth||"",10)||0,e.right=parseInt(n.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var r=this.div.currentStyle;r&&(e.top=parseInt(r.borderTopWidth||"",10)||0,e.bottom=parseInt(r.borderBottomWidth||"",10)||0,e.left=parseInt(r.borderLeftWidth||"",10)||0,e.right=parseInt(r.borderRightWidth||"",10)||0)}return e},e.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},e.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection().fromLatLngToDivPixel(this.position);null!==e&&(this.div.style.left=e.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(e.y+this.pixelOffset.height)+"px":this.div.style.top=e.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},e.prototype.setOptions=function(e){void 0===e&&(e={}),"undefined"!==typeof e.boxClass&&(this.boxClass=e.boxClass,this.setBoxStyle()),"undefined"!==typeof e.boxStyle&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),"undefined"!==typeof e.content&&this.setContent(e.content),"undefined"!==typeof e.disableAutoPan&&(this.disableAutoPan=e.disableAutoPan),"undefined"!==typeof e.maxWidth&&(this.maxWidth=e.maxWidth),"undefined"!==typeof e.pixelOffset&&(this.pixelOffset=e.pixelOffset),"undefined"!==typeof e.alignBottom&&(this.alignBottom=e.alignBottom),"undefined"!==typeof e.position&&this.setPosition(e.position),"undefined"!==typeof e.zIndex&&this.setZIndex(e.zIndex),"undefined"!==typeof e.closeBoxMargin&&(this.closeBoxMargin=e.closeBoxMargin),"undefined"!==typeof e.closeBoxURL&&(this.closeBoxURL=e.closeBoxURL),"undefined"!==typeof e.infoBoxClearance&&(this.infoBoxClearance=e.infoBoxClearance),"undefined"!==typeof e.isHidden&&(this.isHidden=e.isHidden),"undefined"!==typeof e.visible&&(this.isHidden=!e.visible),"undefined"!==typeof e.enableEventPropagation&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},e.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),"string"===typeof e?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px","string"===typeof e?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},e.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},e.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},e.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},e.prototype.getContent=function(){return this.content},e.prototype.getPosition=function(){return this.position},e.prototype.getZIndex=function(){return this.zIndex},e.prototype.getVisible=function(){var e=this.getMap();return"undefined"!==typeof e&&null!==e&&!this.isHidden},e.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},e.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},e.prototype.open=function(e,t){var n=this;t&&(this.position=t.getPosition(),this.moveListener=google.maps.event.addListener(t,"position_changed",function(){var e=t.getPosition();n.setPosition(e)}),this.mapListener=google.maps.event.addListener(t,"map_changed",function(){n.setMap(t.map)})),this.setMap(e),this.div&&this.panBox()},e.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,t=this.eventListeners;e<t.length;e++){var n=t[e];google.maps.event.removeListener(n)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},e.prototype.extend=function(e,t){return function(e){for(var t in e.prototype)Object.prototype.hasOwnProperty.call(this,t)||(this.prototype[t]=e.prototype[t]);return this}.apply(e,[t])},e}(),Dn=["position"],An=["position"];function Un(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function zn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Un(Object(n),!0).forEach(function(t){Pt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Un(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Bn={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},Fn={options(e,t){e.setOptions(t)},position(e,t){t instanceof google.maps.LatLng?e.setPosition(t):e.setPosition(new google.maps.LatLng(t.lat,t.lng))},visible(e,t){e.setVisible(t)},zIndex(e,t){e.setZIndex(t)}},Wn={};var Vn,Hn;(0,r.memo)(function(e){var{children:t,anchor:n,options:s,position:o,zIndex:i,onCloseClick:a,onDomReady:l,onContentChanged:u,onPositionChanged:c,onZindexChanged:d,onLoad:h,onUnmount:p}=e,f=(0,r.useContext)(Mt),[g,m]=(0,r.useState)(null),[v,y]=(0,r.useState)(null),[b,w]=(0,r.useState)(null),[x,k]=(0,r.useState)(null),[S,_]=(0,r.useState)(null),[E,C]=(0,r.useState)(null),j=(0,r.useRef)(null);return(0,r.useEffect)(()=>{f&&null!==g&&(g.close(),n?g.open(f,n):g.getPosition()&&g.open(f))},[f,g,n]),(0,r.useEffect)(()=>{s&&null!==g&&g.setOptions(s)},[g,s]),(0,r.useEffect)(()=>{if(o&&null!==g){var e=o instanceof google.maps.LatLng?o:new google.maps.LatLng(o.lat,o.lng);g.setPosition(e)}},[o]),(0,r.useEffect)(()=>{"number"===typeof i&&null!==g&&g.setZIndex(i)},[i]),(0,r.useEffect)(()=>{g&&a&&(null!==v&&google.maps.event.removeListener(v),y(google.maps.event.addListener(g,"closeclick",a)))},[a]),(0,r.useEffect)(()=>{g&&l&&(null!==b&&google.maps.event.removeListener(b),w(google.maps.event.addListener(g,"domready",l)))},[l]),(0,r.useEffect)(()=>{g&&u&&(null!==x&&google.maps.event.removeListener(x),k(google.maps.event.addListener(g,"content_changed",u)))},[u]),(0,r.useEffect)(()=>{g&&c&&(null!==S&&google.maps.event.removeListener(S),_(google.maps.event.addListener(g,"position_changed",c)))},[c]),(0,r.useEffect)(()=>{g&&d&&(null!==E&&google.maps.event.removeListener(E),C(google.maps.event.addListener(g,"zindex_changed",d)))},[d]),(0,r.useEffect)(()=>{if(f){var e,t=s||Wn,{position:r}=t,o=Xt(t,Dn);!r||r instanceof google.maps.LatLng||(e=new google.maps.LatLng(r.lat,r.lng));var i=new In(zn(zn({},o),e?{position:e}:{}));j.current=document.createElement("div"),m(i),a&&y(google.maps.event.addListener(i,"closeclick",a)),l&&w(google.maps.event.addListener(i,"domready",l)),u&&k(google.maps.event.addListener(i,"content_changed",u)),c&&_(google.maps.event.addListener(i,"position_changed",c)),d&&C(google.maps.event.addListener(i,"zindex_changed",d)),i.setContent(j.current),n?i.open(f,n):i.getPosition()?i.open(f):Nt(!1,"You must provide either an anchor or a position prop for <InfoBox>."),h&&h(i)}return()=>{null!==g&&(v&&google.maps.event.removeListener(v),x&&google.maps.event.removeListener(x),b&&google.maps.event.removeListener(b),S&&google.maps.event.removeListener(S),E&&google.maps.event.removeListener(E),p&&p(g),g.close())}},[]),j.current?(0,Ct.createPortal)(r.Children.only(t),j.current):null});class qn extends r.PureComponent{constructor(){super(...arguments),Pt(this,"registeredEvents",[]),Pt(this,"containerElement",null),Pt(this,"state",{infoBox:null}),Pt(this,"open",(e,t)=>{t?null!==this.context&&e.open(this.context,t):e.getPosition()?null!==this.context&&e.open(this.context):Nt(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),Pt(this,"setInfoBoxCallback",()=>{null!==this.state.infoBox&&null!==this.containerElement&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var e,t=this.props.options||{},{position:n}=t,r=Xt(t,An);!n||n instanceof google.maps.LatLng||(e=new google.maps.LatLng(n.lat,n.lng));var s=new In(zn(zn({},r),e?{position:e}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=At({updaterMap:Fn,eventMap:Bn,prevProps:{},nextProps:this.props,instance:s}),this.setState({infoBox:s},this.setInfoBoxCallback)}componentDidUpdate(e){var{infoBox:t}=this.state;null!==t&&(Dt(this.registeredEvents),this.registeredEvents=At({updaterMap:Fn,eventMap:Bn,prevProps:e,nextProps:this.props,instance:t}))}componentWillUnmount(){var{onUnmount:e}=this.props,{infoBox:t}=this.state;null!==t&&(e&&e(t),Dt(this.registeredEvents),t.close())}render(){return this.containerElement?(0,Ct.createPortal)(r.Children.only(this.props.children),this.containerElement):null}}Pt(qn,"contextType",Mt);var Kn=(Hn||(Hn=1,Vn=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,s,o;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(s=r;0!==s--;)if(!e(t[s],n[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(s=r;0!==s--;)if(!Object.prototype.hasOwnProperty.call(n,o[s]))return!1;for(s=r;0!==s--;){var i=o[s];if(!e(t[i],n[i]))return!1}return!0}return t!==t&&n!==n}),Vn),Gn=Ot(Kn),$n=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class Zn{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[t,n]=new Uint8Array(e,0,2);if(219!==t)throw new Error("Data does not appear to be in a KDBush format.");var r=n>>4;if(1!==r)throw new Error("Got v".concat(r," data when expected v").concat(1,"."));var s=$n[15&n];if(!s)throw new Error("Unrecognized array type.");var[o]=new Uint16Array(e,2,1),[i]=new Uint32Array(e,4,1);return new Zn(i,o,s,e)}constructor(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Float64Array,r=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+t,2),65535),this.ArrayType=n,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;var s=$n.indexOf(this.ArrayType),o=2*e*this.ArrayType.BYTES_PER_ELEMENT,i=e*this.IndexArrayType.BYTES_PER_ELEMENT,a=(8-i%8)%8;if(s<0)throw new Error("Unexpected typed array class: ".concat(n,"."));r&&r instanceof ArrayBuffer?(this.data=r,this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+i+a,2*e),this._pos=2*e,this._finished=!0):(this.data=new ArrayBuffer(8+o+i+a),this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+i+a,2*e),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+s]),new Uint16Array(this.data,2,1)[0]=t,new Uint32Array(this.data,4,1)[0]=e)}add(e,t){var n=this._pos>>1;return this.ids[n]=n,this.coords[this._pos++]=e,this.coords[this._pos++]=t,n}finish(){var e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return Jn(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,t,n,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:s,coords:o,nodeSize:i}=this,a=[0,s.length-1,0],l=[];a.length;){var u=a.pop()||0,c=a.pop()||0,d=a.pop()||0;if(c-d<=i)for(var h=d;h<=c;h++){var p=o[2*h],f=o[2*h+1];p>=e&&p<=n&&f>=t&&f<=r&&l.push(s[h])}else{var g=d+c>>1,m=o[2*g],v=o[2*g+1];m>=e&&m<=n&&v>=t&&v<=r&&l.push(s[g]),(0===u?e<=m:t<=v)&&(a.push(d),a.push(g-1),a.push(1-u)),(0===u?n>=m:r>=v)&&(a.push(g+1),a.push(c),a.push(1-u))}}return l}within(e,t,n){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:r,coords:s,nodeSize:o}=this,i=[0,r.length-1,0],a=[],l=n*n;i.length;){var u=i.pop()||0,c=i.pop()||0,d=i.pop()||0;if(c-d<=o)for(var h=d;h<=c;h++)er(s[2*h],s[2*h+1],e,t)<=l&&a.push(r[h]);else{var p=d+c>>1,f=s[2*p],g=s[2*p+1];er(f,g,e,t)<=l&&a.push(r[p]),(0===u?e-n<=f:t-n<=g)&&(i.push(d),i.push(p-1),i.push(1-u)),(0===u?e+n>=f:t+n>=g)&&(i.push(p+1),i.push(c),i.push(1-u))}}return a}}function Jn(e,t,n,r,s,o){if(!(s-r<=n)){var i=r+s>>1;Yn(e,t,i,r,s,o),Jn(e,t,n,r,i-1,1-o),Jn(e,t,n,i+1,s,1-o)}}function Yn(e,t,n,r,s,o){for(;s>r;){if(s-r>600){var i=s-r+1,a=n-r+1,l=Math.log(i),u=.5*Math.exp(2*l/3),c=.5*Math.sqrt(l*u*(i-u)/i)*(a-i/2<0?-1:1);Yn(e,t,n,Math.max(r,Math.floor(n-a*u/i+c)),Math.min(s,Math.floor(n+(i-a)*u/i+c)),o)}var d=t[2*n+o],h=r,p=s;for(Qn(e,t,r,n),t[2*s+o]>d&&Qn(e,t,r,s);h<p;){for(Qn(e,t,h,p),h++,p--;t[2*h+o]<d;)h++;for(;t[2*p+o]>d;)p--}t[2*r+o]===d?Qn(e,t,r,p):Qn(e,t,++p,s),p<=n&&(r=p+1),n<=p&&(s=p-1)}}function Qn(e,t,n,r){Xn(e,n,r),Xn(t,2*n,2*r),Xn(t,2*n+1,2*r+1)}function Xn(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function er(e,t,n,r){var s=e-n,o=t-r;return s*s+o*o}var tr,nr={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},rr=Math.fround||(tr=new Float32Array(1),e=>(tr[0]=+e,tr[0]));class sr{constructor(e){this.options=Object.assign(Object.create(nr),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){var{log:t,minZoom:n,maxZoom:r}=this.options;t&&console.time("total time");var s="prepare ".concat(e.length," points");t&&console.time(s),this.points=e;for(var o=[],i=0;i<e.length;i++){var a=e[i];if(a.geometry){var[l,u]=a.geometry.coordinates,c=rr(ar(l)),d=rr(lr(u));o.push(c,d,1/0,i,-1,1),this.options.reduce&&o.push(0)}}var h=this.trees[r+1]=this._createTree(o);t&&console.timeEnd(s);for(var p=r;p>=n;p--){var f=+Date.now();h=this.trees[p]=this._createTree(this._cluster(h,p)),t&&console.log("z%d: %d clusters in %dms",p,h.numItems,+Date.now()-f)}return t&&console.timeEnd("total time"),this}getClusters(e,t){var n=((e[0]+180)%360+360)%360-180,r=Math.max(-90,Math.min(90,e[1])),s=180===e[2]?180:((e[2]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)n=-180,s=180;else if(n>s){var i=this.getClusters([n,r,180,o],t),a=this.getClusters([-180,r,s,o],t);return i.concat(a)}var l=this.trees[this._limitZoom(t)],u=l.range(ar(n),lr(o),ar(s),lr(r)),c=l.data,d=[];for(var h of u){var p=this.stride*h;d.push(c[p+5]>1?or(c,p,this.clusterProps):this.points[c[p+3]])}return d}getChildren(e){var t=this._getOriginId(e),n=this._getOriginZoom(e),r="No cluster with the specified id.",s=this.trees[n];if(!s)throw new Error(r);var o=s.data;if(t*this.stride>=o.length)throw new Error(r);var i=this.options.radius/(this.options.extent*Math.pow(2,n-1)),a=o[t*this.stride],l=o[t*this.stride+1],u=s.within(a,l,i),c=[];for(var d of u){var h=d*this.stride;o[h+4]===e&&c.push(o[h+5]>1?or(o,h,this.clusterProps):this.points[o[h+3]])}if(0===c.length)throw new Error(r);return c}getLeaves(e,t,n){t=t||10,n=n||0;var r=[];return this._appendLeaves(r,e,t,n,0),r}getTile(e,t,n){var r=this.trees[this._limitZoom(e)],s=Math.pow(2,e),{extent:o,radius:i}=this.options,a=i/o,l=(n-a)/s,u=(n+1+a)/s,c={features:[]};return this._addTileFeatures(r.range((t-a)/s,l,(t+1+a)/s,u),r.data,t,n,s,c),0===t&&this._addTileFeatures(r.range(1-a/s,l,1,u),r.data,s,n,s,c),t===s-1&&this._addTileFeatures(r.range(0,l,a/s,u),r.data,-1,n,s,c),c.features.length?c:null}getClusterExpansionZoom(e){for(var t=this._getOriginZoom(e)-1;t<=this.options.maxZoom;){var n=this.getChildren(e);if(t++,1!==n.length)break;e=n[0].properties.cluster_id}return t}_appendLeaves(e,t,n,r,s){var o=this.getChildren(t);for(var i of o){var a=i.properties;if(a&&a.cluster?s+a.point_count<=r?s+=a.point_count:s=this._appendLeaves(e,a.cluster_id,n,r,s):s<r?s++:e.push(i),e.length===n)break}return s}_createTree(e){for(var t=new Zn(e.length/this.stride|0,this.options.nodeSize,Float32Array),n=0;n<e.length;n+=this.stride)t.add(e[n],e[n+1]);return t.finish(),t.data=e,t}_addTileFeatures(e,t,n,r,s,o){for(var i of e){var a=i*this.stride,l=t[a+5]>1,u=void 0,c=void 0,d=void 0;if(l)u=ir(t,a,this.clusterProps),c=t[a],d=t[a+1];else{var h=this.points[t[a+3]];u=h.properties;var[p,f]=h.geometry.coordinates;c=ar(p),d=lr(f)}var g={type:1,geometry:[[Math.round(this.options.extent*(c*s-n)),Math.round(this.options.extent*(d*s-r))]],tags:u},m=void 0;void 0!==(m=l||this.options.generateId?t[a+3]:this.points[t[a+3]].id)&&(g.id=m),o.features.push(g)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,t){for(var{radius:n,extent:r,reduce:s,minPoints:o}=this.options,i=n/(r*Math.pow(2,t)),a=e.data,l=[],u=this.stride,c=0;c<a.length;c+=u)if(!(a[c+2]<=t)){a[c+2]=t;var d=a[c],h=a[c+1],p=e.within(a[c],a[c+1],i),f=a[c+5],g=f;for(var m of p){var v=m*u;a[v+2]>t&&(g+=a[v+5])}if(g>f&&g>=o){var y=d*f,b=h*f,w=void 0,x=-1,k=(c/u<<5)+(t+1)+this.points.length;for(var S of p){var _=S*u;if(!(a[_+2]<=t)){a[_+2]=t;var E=a[_+5];y+=a[_]*E,b+=a[_+1]*E,a[_+4]=k,s&&(w||(w=this._map(a,c,!0),x=this.clusterProps.length,this.clusterProps.push(w)),s(w,this._map(a,_)))}}a[c+4]=k,l.push(y/g,b/g,1/0,k,-1,g),s&&l.push(x)}else{for(var C=0;C<u;C++)l.push(a[c+C]);if(g>1)for(var j of p){var L=j*u;if(!(a[L+2]<=t)){a[L+2]=t;for(var P=0;P<u;P++)l.push(a[L+P])}}}}return l}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,t,n){if(e[t+5]>1){var r=this.clusterProps[e[t+6]];return n?Object.assign({},r):r}var s=this.points[e[t+3]].properties,o=this.options.map(s);return n&&o===s?Object.assign({},o):o}}function or(e,t,n){return{type:"Feature",id:e[t+3],properties:ir(e,t,n),geometry:{type:"Point",coordinates:[ur(e[t]),cr(e[t+1])]}}}function ir(e,t,n){var r=e[t+5],s=r>=1e4?"".concat(Math.round(r/1e3),"k"):r>=1e3?"".concat(Math.round(r/100)/10,"k"):r,o=e[t+6],i=-1===o?{}:Object.assign({},n[o]);return Object.assign(i,{cluster:!0,cluster_id:e[t+3],point_count:r,point_count_abbreviated:s})}function ar(e){return e/360+.5}function lr(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function ur(e){return 360*(e-.5)}function cr(e){var t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function dr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n}class hr{static isAdvancedMarkerAvailable(e){return google.maps.marker&&!0===e.getMapCapabilities().isAdvancedMarkersAvailable}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,t){this.isAdvancedMarker(e)?e.map=t:e.setMap(t)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return!!this.isAdvancedMarker(e)||e.getVisible()}}class pr{constructor(e){var{markers:t,position:n}=e;this.markers=t,n&&(n instanceof google.maps.LatLng?this._position=n:this._position=new google.maps.LatLng(n))}get bounds(){if(0!==this.markers.length||this._position){var e=new google.maps.LatLngBounds(this._position,this._position);for(var t of this.markers)e.extend(hr.getPosition(t));return e}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>hr.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(hr.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class fr{constructor(e){var{maxZoom:t=16}=e;this.maxZoom=t}noop(e){var{markers:t}=e;return mr(t)}}var gr,mr=e=>e.map(e=>new pr({position:hr.getPosition(e),markers:[e]}));class vr extends fr{constructor(e){var{maxZoom:t,radius:n=60}=e,r=dr(e,["maxZoom","radius"]);super({maxZoom:t}),this.state={zoom:-1},this.superCluster=new sr(Object.assign({maxZoom:this.maxZoom,radius:n},r))}calculate(e){var t=!1,n={zoom:e.map.getZoom()};if(!Gn(e.markers,this.markers)){t=!0,this.markers=[...e.markers];var r=this.markers.map(e=>{var t=hr.getPosition(e);return{type:"Feature",geometry:{type:"Point",coordinates:[t.lng(),t.lat()]},properties:{marker:e}}});this.superCluster.load(r)}return t||(this.state.zoom<=this.maxZoom||n.zoom<=this.maxZoom)&&(t=!Gn(this.state,n)),this.state=n,t&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:t}}cluster(e){var{map:t}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(t.getZoom())).map(e=>this.transformCluster(e))}transformCluster(e){var{geometry:{coordinates:[t,n]},properties:r}=e;if(r.cluster)return new pr({markers:this.superCluster.getLeaves(r.cluster_id,1/0).map(e=>e.properties.marker),position:{lat:n,lng:t}});var s=r.marker;return new pr({markers:[s],position:hr.getPosition(s)})}}class yr{constructor(e,t){this.markers={sum:e.length};var n=t.map(e=>e.count),r=n.reduce((e,t)=>e+t,0);this.clusters={count:t.length,markers:{mean:r/t.length,sum:r,min:Math.min(...n),max:Math.max(...n)}}}}class br{render(e,t,n){var{count:r,position:s}=e,o=r>Math.max(10,t.clusters.markers.mean)?"#ff0000":"#0000ff",i='<svg fill="'.concat(o,'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">\n<circle cx="120" cy="120" opacity=".6" r="70" />\n<circle cx="120" cy="120" opacity=".3" r="90" />\n<circle cx="120" cy="120" opacity=".2" r="110" />\n<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">').concat(r,"</text>\n</svg>"),a="Cluster of ".concat(r," markers"),l=Number(google.maps.Marker.MAX_ZINDEX)+r;if(hr.isAdvancedMarkerAvailable(n)){var u=(new DOMParser).parseFromString(i,"image/svg+xml").documentElement;u.setAttribute("transform","translate(0 25)");var c={map:n,position:s,zIndex:l,title:a,content:u};return new google.maps.marker.AdvancedMarkerElement(c)}var d={position:s,zIndex:l,title:a,icon:{url:"data:image/svg+xml;base64,".concat(btoa(i)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(d)}}class wr{constructor(){!function(e,t){for(var n in t.prototype)e.prototype[n]=t.prototype[n]}(wr,google.maps.OverlayView)}}!function(e){e.CLUSTERING_BEGIN="clusteringbegin",e.CLUSTERING_END="clusteringend",e.CLUSTER_CLICK="click"}(gr||(gr={}));var xr=(e,t,n)=>{n.fitBounds(t.bounds)};class kr extends wr{constructor(e){var{map:t,markers:n=[],algorithmOptions:r={},algorithm:s=new vr(r),renderer:o=new br,onClusterClick:i=xr}=e;super(),this.markers=[...n],this.clusters=[],this.algorithm=s,this.renderer=o,this.onClusterClick=i,t&&this.setMap(t)}addMarker(e,t){this.markers.includes(e)||(this.markers.push(e),t||this.render())}addMarkers(e,t){e.forEach(e=>{this.addMarker(e,!0)}),t||this.render()}removeMarker(e,t){var n=this.markers.indexOf(e);return-1!==n&&(hr.setMap(e,null),this.markers.splice(n,1),t||this.render(),!0)}removeMarkers(e,t){var n=!1;return e.forEach(e=>{n=this.removeMarker(e,!0)||n}),n&&!t&&this.render(),n}clearMarkers(e){this.markers.length=0,e||this.render()}render(){var e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,gr.CLUSTERING_BEGIN,this);var{clusters:t,changed:n}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(n||void 0==n){var r=new Set;for(var s of t)1==s.markers.length&&r.add(s.markers[0]);var o=[];for(var i of this.clusters)null!=i.marker&&(1==i.markers.length?r.has(i.marker)||hr.setMap(i.marker,null):o.push(i.marker));this.clusters=t,this.renderClusters(),requestAnimationFrame(()=>o.forEach(e=>hr.setMap(e,null)))}google.maps.event.trigger(this,gr.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>hr.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){var e=new yr(this.markers,this.clusters),t=this.getMap();this.clusters.forEach(n=>{1===n.markers.length?n.marker=n.markers[0]:(n.marker=this.renderer.render(n,e,t),n.markers.forEach(e=>hr.setMap(e,null)),this.onClusterClick&&n.marker.addListener("click",e=>{google.maps.event.trigger(this,gr.CLUSTER_CLICK,n),this.onClusterClick(e,n,t)})),hr.setMap(n.marker,t)})}}function Sr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sr(Object(n),!0).forEach(function(t){Pt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Er(e){var t=function(){Nt(!!r.useContext,"useGoogleMap is React hook and requires React version 16.8+");var e=(0,r.useContext)(Mt);return Nt(!!e,"useGoogleMap needs a GoogleMap available up in the tree"),e}(),[n,s]=(0,r.useState)(null);return(0,r.useEffect)(()=>{if(t&&null===n){var r=new kr(_r(_r({},e),{},{map:t}));s(r)}},[t]),n}(0,r.memo)(function(e){var{children:t,options:n}=e,r=Er(n);return null!==r?t(r):null});var Cr={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},jr={options(e,t){e.setOptions(t)},position(e,t){e.setPosition(t)},zIndex(e,t){e.setZIndex(t)}};(0,r.memo)(function(e){var{children:t,anchor:n,options:s,position:o,zIndex:i,onCloseClick:a,onDomReady:l,onContentChanged:u,onPositionChanged:c,onZindexChanged:d,onLoad:h,onUnmount:p}=e,f=(0,r.useContext)(Mt),[g,m]=(0,r.useState)(null),[v,y]=(0,r.useState)(null),[b,w]=(0,r.useState)(null),[x,k]=(0,r.useState)(null),[S,_]=(0,r.useState)(null),[E,C]=(0,r.useState)(null),j=(0,r.useRef)(null);return(0,r.useEffect)(()=>{null!==g&&(g.close(),n?g.open(f,n):g.getPosition()&&g.open(f))},[f,g,n]),(0,r.useEffect)(()=>{s&&null!==g&&g.setOptions(s)},[g,s]),(0,r.useEffect)(()=>{o&&null!==g&&g.setPosition(o)},[o]),(0,r.useEffect)(()=>{"number"===typeof i&&null!==g&&g.setZIndex(i)},[i]),(0,r.useEffect)(()=>{g&&a&&(null!==v&&google.maps.event.removeListener(v),y(google.maps.event.addListener(g,"closeclick",a)))},[a]),(0,r.useEffect)(()=>{g&&l&&(null!==b&&google.maps.event.removeListener(b),w(google.maps.event.addListener(g,"domready",l)))},[l]),(0,r.useEffect)(()=>{g&&u&&(null!==x&&google.maps.event.removeListener(x),k(google.maps.event.addListener(g,"content_changed",u)))},[u]),(0,r.useEffect)(()=>{g&&c&&(null!==S&&google.maps.event.removeListener(S),_(google.maps.event.addListener(g,"position_changed",c)))},[c]),(0,r.useEffect)(()=>{g&&d&&(null!==E&&google.maps.event.removeListener(E),C(google.maps.event.addListener(g,"zindex_changed",d)))},[d]),(0,r.useEffect)(()=>{var e=new google.maps.InfoWindow(s);return m(e),j.current=document.createElement("div"),a&&y(google.maps.event.addListener(e,"closeclick",a)),l&&w(google.maps.event.addListener(e,"domready",l)),u&&k(google.maps.event.addListener(e,"content_changed",u)),c&&_(google.maps.event.addListener(e,"position_changed",c)),d&&C(google.maps.event.addListener(e,"zindex_changed",d)),e.setContent(j.current),o&&e.setPosition(o),i&&e.setZIndex(i),n?e.open(f,n):e.getPosition()?e.open(f):Nt(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),h&&h(e),()=>{v&&google.maps.event.removeListener(v),x&&google.maps.event.removeListener(x),b&&google.maps.event.removeListener(b),S&&google.maps.event.removeListener(S),E&&google.maps.event.removeListener(E),p&&p(e),e.close()}},[]),j.current?(0,Ct.createPortal)(r.Children.only(t),j.current):null});class Lr extends r.PureComponent{constructor(){super(...arguments),Pt(this,"registeredEvents",[]),Pt(this,"containerElement",null),Pt(this,"state",{infoWindow:null}),Pt(this,"open",(e,t)=>{t?e.open(this.context,t):e.getPosition()?e.open(this.context):Nt(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),Pt(this,"setInfoWindowCallback",()=>{null!==this.state.infoWindow&&null!==this.containerElement&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var e=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=At({updaterMap:jr,eventMap:Cr,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({infoWindow:e}),this.setInfoWindowCallback)}componentDidUpdate(e){null!==this.state.infoWindow&&(Dt(this.registeredEvents),this.registeredEvents=At({updaterMap:jr,eventMap:Cr,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){null!==this.state.infoWindow&&(Dt(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?(0,Ct.createPortal)(r.Children.only(this.props.children),this.containerElement):null}}function Pr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Or(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pr(Object(n),!0).forEach(function(t){Pt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}Pt(Lr,"contextType",Mt);var Nr={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Mr={draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},path(e,t){e.setPath(t)},visible(e,t){e.setVisible(t)}},Tr={};(0,r.memo)(function(e){var{options:t,draggable:n,editable:s,visible:o,path:i,onDblClick:a,onDragEnd:l,onDragStart:u,onMouseDown:c,onMouseMove:d,onMouseOut:h,onMouseOver:p,onMouseUp:f,onRightClick:g,onClick:m,onDrag:v,onLoad:y,onUnmount:b}=e,w=(0,r.useContext)(Mt),[x,k]=(0,r.useState)(null),[S,_]=(0,r.useState)(null),[E,C]=(0,r.useState)(null),[j,L]=(0,r.useState)(null),[P,O]=(0,r.useState)(null),[N,M]=(0,r.useState)(null),[T,R]=(0,r.useState)(null),[I,D]=(0,r.useState)(null),[A,U]=(0,r.useState)(null),[z,B]=(0,r.useState)(null),[F,W]=(0,r.useState)(null),[V,H]=(0,r.useState)(null);return(0,r.useEffect)(()=>{null!==x&&x.setMap(w)},[w]),(0,r.useEffect)(()=>{"undefined"!==typeof t&&null!==x&&x.setOptions(t)},[x,t]),(0,r.useEffect)(()=>{"undefined"!==typeof n&&null!==x&&x.setDraggable(n)},[x,n]),(0,r.useEffect)(()=>{"undefined"!==typeof s&&null!==x&&x.setEditable(s)},[x,s]),(0,r.useEffect)(()=>{"undefined"!==typeof o&&null!==x&&x.setVisible(o)},[x,o]),(0,r.useEffect)(()=>{"undefined"!==typeof i&&null!==x&&x.setPath(i)},[x,i]),(0,r.useEffect)(()=>{x&&a&&(null!==S&&google.maps.event.removeListener(S),_(google.maps.event.addListener(x,"dblclick",a)))},[a]),(0,r.useEffect)(()=>{x&&l&&(null!==E&&google.maps.event.removeListener(E),C(google.maps.event.addListener(x,"dragend",l)))},[l]),(0,r.useEffect)(()=>{x&&u&&(null!==j&&google.maps.event.removeListener(j),L(google.maps.event.addListener(x,"dragstart",u)))},[u]),(0,r.useEffect)(()=>{x&&c&&(null!==P&&google.maps.event.removeListener(P),O(google.maps.event.addListener(x,"mousedown",c)))},[c]),(0,r.useEffect)(()=>{x&&d&&(null!==N&&google.maps.event.removeListener(N),M(google.maps.event.addListener(x,"mousemove",d)))},[d]),(0,r.useEffect)(()=>{x&&h&&(null!==T&&google.maps.event.removeListener(T),R(google.maps.event.addListener(x,"mouseout",h)))},[h]),(0,r.useEffect)(()=>{x&&p&&(null!==I&&google.maps.event.removeListener(I),D(google.maps.event.addListener(x,"mouseover",p)))},[p]),(0,r.useEffect)(()=>{x&&f&&(null!==A&&google.maps.event.removeListener(A),U(google.maps.event.addListener(x,"mouseup",f)))},[f]),(0,r.useEffect)(()=>{x&&g&&(null!==z&&google.maps.event.removeListener(z),B(google.maps.event.addListener(x,"rightclick",g)))},[g]),(0,r.useEffect)(()=>{x&&m&&(null!==F&&google.maps.event.removeListener(F),W(google.maps.event.addListener(x,"click",m)))},[m]),(0,r.useEffect)(()=>{x&&v&&(null!==V&&google.maps.event.removeListener(V),H(google.maps.event.addListener(x,"drag",v)))},[v]),(0,r.useEffect)(()=>{var e=new google.maps.Polyline(Or(Or({},t||Tr),{},{map:w}));return i&&e.setPath(i),"undefined"!==typeof o&&e.setVisible(o),"undefined"!==typeof s&&e.setEditable(s),"undefined"!==typeof n&&e.setDraggable(n),a&&_(google.maps.event.addListener(e,"dblclick",a)),l&&C(google.maps.event.addListener(e,"dragend",l)),u&&L(google.maps.event.addListener(e,"dragstart",u)),c&&O(google.maps.event.addListener(e,"mousedown",c)),d&&M(google.maps.event.addListener(e,"mousemove",d)),h&&R(google.maps.event.addListener(e,"mouseout",h)),p&&D(google.maps.event.addListener(e,"mouseover",p)),f&&U(google.maps.event.addListener(e,"mouseup",f)),g&&B(google.maps.event.addListener(e,"rightclick",g)),m&&W(google.maps.event.addListener(e,"click",m)),v&&H(google.maps.event.addListener(e,"drag",v)),k(e),y&&y(e),()=>{null!==S&&google.maps.event.removeListener(S),null!==E&&google.maps.event.removeListener(E),null!==j&&google.maps.event.removeListener(j),null!==P&&google.maps.event.removeListener(P),null!==N&&google.maps.event.removeListener(N),null!==T&&google.maps.event.removeListener(T),null!==I&&google.maps.event.removeListener(I),null!==A&&google.maps.event.removeListener(A),null!==z&&google.maps.event.removeListener(z),null!==F&&google.maps.event.removeListener(F),b&&b(e),e.setMap(null)}},[]),null});class Rr extends r.PureComponent{constructor(){super(...arguments),Pt(this,"registeredEvents",[]),Pt(this,"state",{polyline:null}),Pt(this,"setPolylineCallback",()=>{null!==this.state.polyline&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var e=new google.maps.Polyline(Or(Or({},this.props.options),{},{map:this.context}));this.registeredEvents=At({updaterMap:Mr,eventMap:Nr,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{polyline:e}},this.setPolylineCallback)}componentDidUpdate(e){null!==this.state.polyline&&(Dt(this.registeredEvents),this.registeredEvents=At({updaterMap:Mr,eventMap:Nr,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){null!==this.state.polyline&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),Dt(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}function Ir(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Dr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ir(Object(n),!0).forEach(function(t){Pt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ir(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}Pt(Rr,"contextType",Mt);var Ar={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Ur={draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},path(e,t){e.setPath(t)},paths(e,t){e.setPaths(t)},visible(e,t){e.setVisible(t)}};(0,r.memo)(function(e){var{options:t,draggable:n,editable:s,visible:o,path:i,paths:a,onDblClick:l,onDragEnd:u,onDragStart:c,onMouseDown:d,onMouseMove:h,onMouseOut:p,onMouseOver:f,onMouseUp:g,onRightClick:m,onClick:v,onDrag:y,onLoad:b,onUnmount:w,onEdit:x}=e,k=(0,r.useContext)(Mt),[S,_]=(0,r.useState)(null),[E,C]=(0,r.useState)(null),[j,L]=(0,r.useState)(null),[P,O]=(0,r.useState)(null),[N,M]=(0,r.useState)(null),[T,R]=(0,r.useState)(null),[I,D]=(0,r.useState)(null),[A,U]=(0,r.useState)(null),[z,B]=(0,r.useState)(null),[F,W]=(0,r.useState)(null),[V,H]=(0,r.useState)(null),[q,K]=(0,r.useState)(null);return(0,r.useEffect)(()=>{null!==S&&S.setMap(k)},[k]),(0,r.useEffect)(()=>{"undefined"!==typeof t&&null!==S&&S.setOptions(t)},[S,t]),(0,r.useEffect)(()=>{"undefined"!==typeof n&&null!==S&&S.setDraggable(n)},[S,n]),(0,r.useEffect)(()=>{"undefined"!==typeof s&&null!==S&&S.setEditable(s)},[S,s]),(0,r.useEffect)(()=>{"undefined"!==typeof o&&null!==S&&S.setVisible(o)},[S,o]),(0,r.useEffect)(()=>{"undefined"!==typeof i&&null!==S&&S.setPath(i)},[S,i]),(0,r.useEffect)(()=>{"undefined"!==typeof a&&null!==S&&S.setPaths(a)},[S,a]),(0,r.useEffect)(()=>{S&&"function"===typeof l&&(null!==E&&google.maps.event.removeListener(E),C(google.maps.event.addListener(S,"dblclick",l)))},[l]),(0,r.useEffect)(()=>{S&&(google.maps.event.addListener(S.getPath(),"insert_at",()=>{null===x||void 0===x||x(S)}),google.maps.event.addListener(S.getPath(),"set_at",()=>{null===x||void 0===x||x(S)}),google.maps.event.addListener(S.getPath(),"remove_at",()=>{null===x||void 0===x||x(S)}))},[S,x]),(0,r.useEffect)(()=>{S&&"function"===typeof u&&(null!==j&&google.maps.event.removeListener(j),L(google.maps.event.addListener(S,"dragend",u)))},[u]),(0,r.useEffect)(()=>{S&&"function"===typeof c&&(null!==P&&google.maps.event.removeListener(P),O(google.maps.event.addListener(S,"dragstart",c)))},[c]),(0,r.useEffect)(()=>{S&&"function"===typeof d&&(null!==N&&google.maps.event.removeListener(N),M(google.maps.event.addListener(S,"mousedown",d)))},[d]),(0,r.useEffect)(()=>{S&&"function"===typeof h&&(null!==T&&google.maps.event.removeListener(T),R(google.maps.event.addListener(S,"mousemove",h)))},[h]),(0,r.useEffect)(()=>{S&&"function"===typeof p&&(null!==I&&google.maps.event.removeListener(I),D(google.maps.event.addListener(S,"mouseout",p)))},[p]),(0,r.useEffect)(()=>{S&&"function"===typeof f&&(null!==A&&google.maps.event.removeListener(A),U(google.maps.event.addListener(S,"mouseover",f)))},[f]),(0,r.useEffect)(()=>{S&&"function"===typeof g&&(null!==z&&google.maps.event.removeListener(z),B(google.maps.event.addListener(S,"mouseup",g)))},[g]),(0,r.useEffect)(()=>{S&&"function"===typeof m&&(null!==F&&google.maps.event.removeListener(F),W(google.maps.event.addListener(S,"rightclick",m)))},[m]),(0,r.useEffect)(()=>{S&&"function"===typeof v&&(null!==V&&google.maps.event.removeListener(V),H(google.maps.event.addListener(S,"click",v)))},[v]),(0,r.useEffect)(()=>{S&&"function"===typeof y&&(null!==q&&google.maps.event.removeListener(q),K(google.maps.event.addListener(S,"drag",y)))},[y]),(0,r.useEffect)(()=>{var e=new google.maps.Polygon(Dr(Dr({},t),{},{map:k}));return i&&e.setPath(i),a&&e.setPaths(a),"undefined"!==typeof o&&e.setVisible(o),"undefined"!==typeof s&&e.setEditable(s),"undefined"!==typeof n&&e.setDraggable(n),l&&C(google.maps.event.addListener(e,"dblclick",l)),u&&L(google.maps.event.addListener(e,"dragend",u)),c&&O(google.maps.event.addListener(e,"dragstart",c)),d&&M(google.maps.event.addListener(e,"mousedown",d)),h&&R(google.maps.event.addListener(e,"mousemove",h)),p&&D(google.maps.event.addListener(e,"mouseout",p)),f&&U(google.maps.event.addListener(e,"mouseover",f)),g&&B(google.maps.event.addListener(e,"mouseup",g)),m&&W(google.maps.event.addListener(e,"rightclick",m)),v&&H(google.maps.event.addListener(e,"click",v)),y&&K(google.maps.event.addListener(e,"drag",y)),_(e),b&&b(e),()=>{null!==E&&google.maps.event.removeListener(E),null!==j&&google.maps.event.removeListener(j),null!==P&&google.maps.event.removeListener(P),null!==N&&google.maps.event.removeListener(N),null!==T&&google.maps.event.removeListener(T),null!==I&&google.maps.event.removeListener(I),null!==A&&google.maps.event.removeListener(A),null!==z&&google.maps.event.removeListener(z),null!==F&&google.maps.event.removeListener(F),null!==V&&google.maps.event.removeListener(V),w&&w(e),e.setMap(null)}},[]),null});class zr extends r.PureComponent{constructor(){super(...arguments),Pt(this,"registeredEvents",[])}componentDidMount(){var e=this.props.options||{};this.polygon=new google.maps.Polygon(e),this.polygon.setMap(this.context),this.registeredEvents=At({updaterMap:Ur,eventMap:Ar,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(e){this.polygon&&(Dt(this.registeredEvents),this.registeredEvents=At({updaterMap:Ur,eventMap:Ar,prevProps:e,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),Dt(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}function Br(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Fr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Br(Object(n),!0).forEach(function(t){Pt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Br(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}Pt(zr,"contextType",Mt);var Wr={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Vr={bounds(e,t){e.setBounds(t)},draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},visible(e,t){e.setVisible(t)}};(0,r.memo)(function(e){var{options:t,bounds:n,draggable:s,editable:o,visible:i,onDblClick:a,onDragEnd:l,onDragStart:u,onMouseDown:c,onMouseMove:d,onMouseOut:h,onMouseOver:p,onMouseUp:f,onRightClick:g,onClick:m,onDrag:v,onBoundsChanged:y,onLoad:b,onUnmount:w}=e,x=(0,r.useContext)(Mt),[k,S]=(0,r.useState)(null),[_,E]=(0,r.useState)(null),[C,j]=(0,r.useState)(null),[L,P]=(0,r.useState)(null),[O,N]=(0,r.useState)(null),[M,T]=(0,r.useState)(null),[R,I]=(0,r.useState)(null),[D,A]=(0,r.useState)(null),[U,z]=(0,r.useState)(null),[B,F]=(0,r.useState)(null),[W,V]=(0,r.useState)(null),[H,q]=(0,r.useState)(null),[K,G]=(0,r.useState)(null);return(0,r.useEffect)(()=>{null!==k&&k.setMap(x)},[x]),(0,r.useEffect)(()=>{"undefined"!==typeof t&&null!==k&&k.setOptions(t)},[k,t]),(0,r.useEffect)(()=>{"undefined"!==typeof s&&null!==k&&k.setDraggable(s)},[k,s]),(0,r.useEffect)(()=>{"undefined"!==typeof o&&null!==k&&k.setEditable(o)},[k,o]),(0,r.useEffect)(()=>{"undefined"!==typeof i&&null!==k&&k.setVisible(i)},[k,i]),(0,r.useEffect)(()=>{"undefined"!==typeof n&&null!==k&&k.setBounds(n)},[k,n]),(0,r.useEffect)(()=>{k&&a&&(null!==_&&google.maps.event.removeListener(_),E(google.maps.event.addListener(k,"dblclick",a)))},[a]),(0,r.useEffect)(()=>{k&&l&&(null!==C&&google.maps.event.removeListener(C),j(google.maps.event.addListener(k,"dragend",l)))},[l]),(0,r.useEffect)(()=>{k&&u&&(null!==L&&google.maps.event.removeListener(L),P(google.maps.event.addListener(k,"dragstart",u)))},[u]),(0,r.useEffect)(()=>{k&&c&&(null!==O&&google.maps.event.removeListener(O),N(google.maps.event.addListener(k,"mousedown",c)))},[c]),(0,r.useEffect)(()=>{k&&d&&(null!==M&&google.maps.event.removeListener(M),T(google.maps.event.addListener(k,"mousemove",d)))},[d]),(0,r.useEffect)(()=>{k&&h&&(null!==R&&google.maps.event.removeListener(R),I(google.maps.event.addListener(k,"mouseout",h)))},[h]),(0,r.useEffect)(()=>{k&&p&&(null!==D&&google.maps.event.removeListener(D),A(google.maps.event.addListener(k,"mouseover",p)))},[p]),(0,r.useEffect)(()=>{k&&f&&(null!==U&&google.maps.event.removeListener(U),z(google.maps.event.addListener(k,"mouseup",f)))},[f]),(0,r.useEffect)(()=>{k&&g&&(null!==B&&google.maps.event.removeListener(B),F(google.maps.event.addListener(k,"rightclick",g)))},[g]),(0,r.useEffect)(()=>{k&&m&&(null!==W&&google.maps.event.removeListener(W),V(google.maps.event.addListener(k,"click",m)))},[m]),(0,r.useEffect)(()=>{k&&v&&(null!==H&&google.maps.event.removeListener(H),q(google.maps.event.addListener(k,"drag",v)))},[v]),(0,r.useEffect)(()=>{k&&y&&(null!==K&&google.maps.event.removeListener(K),G(google.maps.event.addListener(k,"bounds_changed",y)))},[y]),(0,r.useEffect)(()=>{var e=new google.maps.Rectangle(Fr(Fr({},t),{},{map:x}));return"undefined"!==typeof i&&e.setVisible(i),"undefined"!==typeof o&&e.setEditable(o),"undefined"!==typeof s&&e.setDraggable(s),"undefined"!==typeof n&&e.setBounds(n),a&&E(google.maps.event.addListener(e,"dblclick",a)),l&&j(google.maps.event.addListener(e,"dragend",l)),u&&P(google.maps.event.addListener(e,"dragstart",u)),c&&N(google.maps.event.addListener(e,"mousedown",c)),d&&T(google.maps.event.addListener(e,"mousemove",d)),h&&I(google.maps.event.addListener(e,"mouseout",h)),p&&A(google.maps.event.addListener(e,"mouseover",p)),f&&z(google.maps.event.addListener(e,"mouseup",f)),g&&F(google.maps.event.addListener(e,"rightclick",g)),m&&V(google.maps.event.addListener(e,"click",m)),v&&q(google.maps.event.addListener(e,"drag",v)),y&&G(google.maps.event.addListener(e,"bounds_changed",y)),S(e),b&&b(e),()=>{null!==_&&google.maps.event.removeListener(_),null!==C&&google.maps.event.removeListener(C),null!==L&&google.maps.event.removeListener(L),null!==O&&google.maps.event.removeListener(O),null!==M&&google.maps.event.removeListener(M),null!==R&&google.maps.event.removeListener(R),null!==D&&google.maps.event.removeListener(D),null!==U&&google.maps.event.removeListener(U),null!==B&&google.maps.event.removeListener(B),null!==W&&google.maps.event.removeListener(W),null!==H&&google.maps.event.removeListener(H),null!==K&&google.maps.event.removeListener(K),w&&w(e),e.setMap(null)}},[]),null});class Hr extends r.PureComponent{constructor(){super(...arguments),Pt(this,"registeredEvents",[]),Pt(this,"state",{rectangle:null}),Pt(this,"setRectangleCallback",()=>{null!==this.state.rectangle&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var e=new google.maps.Rectangle(Fr(Fr({},this.props.options),{},{map:this.context}));this.registeredEvents=At({updaterMap:Vr,eventMap:Wr,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{rectangle:e}},this.setRectangleCallback)}componentDidUpdate(e){null!==this.state.rectangle&&(Dt(this.registeredEvents),this.registeredEvents=At({updaterMap:Vr,eventMap:Wr,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){null!==this.state.rectangle&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),Dt(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}function qr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Kr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qr(Object(n),!0).forEach(function(t){Pt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}Pt(Hr,"contextType",Mt);var Gr={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},$r={center(e,t){e.setCenter(t)},draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},radius(e,t){e.setRadius(t)},visible(e,t){e.setVisible(t)}},Zr={};(0,r.memo)(function(e){var{options:t,center:n,radius:s,draggable:o,editable:i,visible:a,onDblClick:l,onDragEnd:u,onDragStart:c,onMouseDown:d,onMouseMove:h,onMouseOut:p,onMouseOver:f,onMouseUp:g,onRightClick:m,onClick:v,onDrag:y,onCenterChanged:b,onRadiusChanged:w,onLoad:x,onUnmount:k}=e,S=(0,r.useContext)(Mt),[_,E]=(0,r.useState)(null),[C,j]=(0,r.useState)(null),[L,P]=(0,r.useState)(null),[O,N]=(0,r.useState)(null),[M,T]=(0,r.useState)(null),[R,I]=(0,r.useState)(null),[D,A]=(0,r.useState)(null),[U,z]=(0,r.useState)(null),[B,F]=(0,r.useState)(null),[W,V]=(0,r.useState)(null),[H,q]=(0,r.useState)(null),[K,G]=(0,r.useState)(null),[$,Z]=(0,r.useState)(null),[J,Y]=(0,r.useState)(null);return(0,r.useEffect)(()=>{null!==_&&_.setMap(S)},[S]),(0,r.useEffect)(()=>{"undefined"!==typeof t&&null!==_&&_.setOptions(t)},[_,t]),(0,r.useEffect)(()=>{"undefined"!==typeof o&&null!==_&&_.setDraggable(o)},[_,o]),(0,r.useEffect)(()=>{"undefined"!==typeof i&&null!==_&&_.setEditable(i)},[_,i]),(0,r.useEffect)(()=>{"undefined"!==typeof a&&null!==_&&_.setVisible(a)},[_,a]),(0,r.useEffect)(()=>{"number"===typeof s&&null!==_&&_.setRadius(s)},[_,s]),(0,r.useEffect)(()=>{"undefined"!==typeof n&&null!==_&&_.setCenter(n)},[_,n]),(0,r.useEffect)(()=>{_&&l&&(null!==C&&google.maps.event.removeListener(C),j(google.maps.event.addListener(_,"dblclick",l)))},[l]),(0,r.useEffect)(()=>{_&&u&&(null!==L&&google.maps.event.removeListener(L),P(google.maps.event.addListener(_,"dragend",u)))},[u]),(0,r.useEffect)(()=>{_&&c&&(null!==O&&google.maps.event.removeListener(O),N(google.maps.event.addListener(_,"dragstart",c)))},[c]),(0,r.useEffect)(()=>{_&&d&&(null!==M&&google.maps.event.removeListener(M),T(google.maps.event.addListener(_,"mousedown",d)))},[d]),(0,r.useEffect)(()=>{_&&h&&(null!==R&&google.maps.event.removeListener(R),I(google.maps.event.addListener(_,"mousemove",h)))},[h]),(0,r.useEffect)(()=>{_&&p&&(null!==D&&google.maps.event.removeListener(D),A(google.maps.event.addListener(_,"mouseout",p)))},[p]),(0,r.useEffect)(()=>{_&&f&&(null!==U&&google.maps.event.removeListener(U),z(google.maps.event.addListener(_,"mouseover",f)))},[f]),(0,r.useEffect)(()=>{_&&g&&(null!==B&&google.maps.event.removeListener(B),F(google.maps.event.addListener(_,"mouseup",g)))},[g]),(0,r.useEffect)(()=>{_&&m&&(null!==W&&google.maps.event.removeListener(W),V(google.maps.event.addListener(_,"rightclick",m)))},[m]),(0,r.useEffect)(()=>{_&&v&&(null!==H&&google.maps.event.removeListener(H),q(google.maps.event.addListener(_,"click",v)))},[v]),(0,r.useEffect)(()=>{_&&y&&(null!==K&&google.maps.event.removeListener(K),G(google.maps.event.addListener(_,"drag",y)))},[y]),(0,r.useEffect)(()=>{_&&b&&(null!==$&&google.maps.event.removeListener($),Z(google.maps.event.addListener(_,"center_changed",b)))},[v]),(0,r.useEffect)(()=>{_&&w&&(null!==J&&google.maps.event.removeListener(J),Y(google.maps.event.addListener(_,"radius_changed",w)))},[w]),(0,r.useEffect)(()=>{var e=new google.maps.Circle(Kr(Kr({},t||Zr),{},{map:S}));return"number"===typeof s&&e.setRadius(s),"undefined"!==typeof n&&e.setCenter(n),"number"===typeof s&&e.setRadius(s),"undefined"!==typeof a&&e.setVisible(a),"undefined"!==typeof i&&e.setEditable(i),"undefined"!==typeof o&&e.setDraggable(o),l&&j(google.maps.event.addListener(e,"dblclick",l)),u&&P(google.maps.event.addListener(e,"dragend",u)),c&&N(google.maps.event.addListener(e,"dragstart",c)),d&&T(google.maps.event.addListener(e,"mousedown",d)),h&&I(google.maps.event.addListener(e,"mousemove",h)),p&&A(google.maps.event.addListener(e,"mouseout",p)),f&&z(google.maps.event.addListener(e,"mouseover",f)),g&&F(google.maps.event.addListener(e,"mouseup",g)),m&&V(google.maps.event.addListener(e,"rightclick",m)),v&&q(google.maps.event.addListener(e,"click",v)),y&&G(google.maps.event.addListener(e,"drag",y)),b&&Z(google.maps.event.addListener(e,"center_changed",b)),w&&Y(google.maps.event.addListener(e,"radius_changed",w)),E(e),x&&x(e),()=>{null!==C&&google.maps.event.removeListener(C),null!==L&&google.maps.event.removeListener(L),null!==O&&google.maps.event.removeListener(O),null!==M&&google.maps.event.removeListener(M),null!==R&&google.maps.event.removeListener(R),null!==D&&google.maps.event.removeListener(D),null!==U&&google.maps.event.removeListener(U),null!==B&&google.maps.event.removeListener(B),null!==W&&google.maps.event.removeListener(W),null!==H&&google.maps.event.removeListener(H),null!==$&&google.maps.event.removeListener($),null!==J&&google.maps.event.removeListener(J),k&&k(e),e.setMap(null)}},[]),null});class Jr extends r.PureComponent{constructor(){super(...arguments),Pt(this,"registeredEvents",[]),Pt(this,"state",{circle:null}),Pt(this,"setCircleCallback",()=>{null!==this.state.circle&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var e=new google.maps.Circle(Kr(Kr({},this.props.options),{},{map:this.context}));this.registeredEvents=At({updaterMap:$r,eventMap:Gr,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{circle:e}},this.setCircleCallback)}componentDidUpdate(e){null!==this.state.circle&&(Dt(this.registeredEvents),this.registeredEvents=At({updaterMap:$r,eventMap:Gr,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){var e;null!==this.state.circle&&(this.props.onUnmount&&this.props.onUnmount(this.state.circle),Dt(this.registeredEvents),null===(e=this.state.circle)||void 0===e||e.setMap(null))}render(){return null}}function Yr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Qr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yr(Object(n),!0).forEach(function(t){Pt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}Pt(Jr,"contextType",Mt);var Xr={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},es={add(e,t){e.add(t)},addgeojson(e,t,n){e.addGeoJson(t,n)},contains(e,t){e.contains(t)},foreach(e,t){e.forEach(t)},loadgeojson(e,t,n,r){e.loadGeoJson(t,n,r)},overridestyle(e,t,n){e.overrideStyle(t,n)},remove(e,t){e.remove(t)},revertstyle(e,t){e.revertStyle(t)},controlposition(e,t){e.setControlPosition(t)},controls(e,t){e.setControls(t)},drawingmode(e,t){e.setDrawingMode(t)},map(e,t){e.setMap(t)},style(e,t){e.setStyle(t)},togeojson(e,t){e.toGeoJson(t)}};(0,r.memo)(function(e){var{options:t,onClick:n,onDblClick:s,onMouseDown:o,onMouseMove:i,onMouseOut:a,onMouseOver:l,onMouseUp:u,onRightClick:c,onAddFeature:d,onRemoveFeature:h,onRemoveProperty:p,onSetGeometry:f,onSetProperty:g,onLoad:m,onUnmount:v}=e,y=(0,r.useContext)(Mt),[b,w]=(0,r.useState)(null),[x,k]=(0,r.useState)(null),[S,_]=(0,r.useState)(null),[E,C]=(0,r.useState)(null),[j,L]=(0,r.useState)(null),[P,O]=(0,r.useState)(null),[N,M]=(0,r.useState)(null),[T,R]=(0,r.useState)(null),[I,D]=(0,r.useState)(null),[A,U]=(0,r.useState)(null),[z,B]=(0,r.useState)(null),[F,W]=(0,r.useState)(null),[V,H]=(0,r.useState)(null),[q,K]=(0,r.useState)(null);return(0,r.useEffect)(()=>{null!==b&&b.setMap(y)},[y]),(0,r.useEffect)(()=>{b&&s&&(null!==x&&google.maps.event.removeListener(x),k(google.maps.event.addListener(b,"dblclick",s)))},[s]),(0,r.useEffect)(()=>{b&&o&&(null!==S&&google.maps.event.removeListener(S),_(google.maps.event.addListener(b,"mousedown",o)))},[o]),(0,r.useEffect)(()=>{b&&i&&(null!==E&&google.maps.event.removeListener(E),C(google.maps.event.addListener(b,"mousemove",i)))},[i]),(0,r.useEffect)(()=>{b&&a&&(null!==j&&google.maps.event.removeListener(j),L(google.maps.event.addListener(b,"mouseout",a)))},[a]),(0,r.useEffect)(()=>{b&&l&&(null!==P&&google.maps.event.removeListener(P),O(google.maps.event.addListener(b,"mouseover",l)))},[l]),(0,r.useEffect)(()=>{b&&u&&(null!==N&&google.maps.event.removeListener(N),M(google.maps.event.addListener(b,"mouseup",u)))},[u]),(0,r.useEffect)(()=>{b&&c&&(null!==T&&google.maps.event.removeListener(T),R(google.maps.event.addListener(b,"rightclick",c)))},[c]),(0,r.useEffect)(()=>{b&&n&&(null!==I&&google.maps.event.removeListener(I),D(google.maps.event.addListener(b,"click",n)))},[n]),(0,r.useEffect)(()=>{b&&d&&(null!==A&&google.maps.event.removeListener(A),U(google.maps.event.addListener(b,"addfeature",d)))},[d]),(0,r.useEffect)(()=>{b&&h&&(null!==z&&google.maps.event.removeListener(z),B(google.maps.event.addListener(b,"removefeature",h)))},[h]),(0,r.useEffect)(()=>{b&&p&&(null!==F&&google.maps.event.removeListener(F),W(google.maps.event.addListener(b,"removeproperty",p)))},[p]),(0,r.useEffect)(()=>{b&&f&&(null!==V&&google.maps.event.removeListener(V),H(google.maps.event.addListener(b,"setgeometry",f)))},[f]),(0,r.useEffect)(()=>{b&&g&&(null!==q&&google.maps.event.removeListener(q),K(google.maps.event.addListener(b,"setproperty",g)))},[g]),(0,r.useEffect)(()=>{if(null!==y){var e=new google.maps.Data(Qr(Qr({},t),{},{map:y}));s&&k(google.maps.event.addListener(e,"dblclick",s)),o&&_(google.maps.event.addListener(e,"mousedown",o)),i&&C(google.maps.event.addListener(e,"mousemove",i)),a&&L(google.maps.event.addListener(e,"mouseout",a)),l&&O(google.maps.event.addListener(e,"mouseover",l)),u&&M(google.maps.event.addListener(e,"mouseup",u)),c&&R(google.maps.event.addListener(e,"rightclick",c)),n&&D(google.maps.event.addListener(e,"click",n)),d&&U(google.maps.event.addListener(e,"addfeature",d)),h&&B(google.maps.event.addListener(e,"removefeature",h)),p&&W(google.maps.event.addListener(e,"removeproperty",p)),f&&H(google.maps.event.addListener(e,"setgeometry",f)),g&&K(google.maps.event.addListener(e,"setproperty",g)),w(e),m&&m(e)}return()=>{b&&(null!==x&&google.maps.event.removeListener(x),null!==S&&google.maps.event.removeListener(S),null!==E&&google.maps.event.removeListener(E),null!==j&&google.maps.event.removeListener(j),null!==P&&google.maps.event.removeListener(P),null!==N&&google.maps.event.removeListener(N),null!==T&&google.maps.event.removeListener(T),null!==I&&google.maps.event.removeListener(I),null!==A&&google.maps.event.removeListener(A),null!==z&&google.maps.event.removeListener(z),null!==F&&google.maps.event.removeListener(F),null!==V&&google.maps.event.removeListener(V),null!==q&&google.maps.event.removeListener(q),v&&v(b),b.setMap(null))}},[]),null});class ts extends r.PureComponent{constructor(){super(...arguments),Pt(this,"registeredEvents",[]),Pt(this,"state",{data:null}),Pt(this,"setDataCallback",()=>{null!==this.state.data&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(null!==this.context){var e=new google.maps.Data(Qr(Qr({},this.props.options),{},{map:this.context}));this.registeredEvents=At({updaterMap:es,eventMap:Xr,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({data:e}),this.setDataCallback)}}componentDidUpdate(e){null!==this.state.data&&(Dt(this.registeredEvents),this.registeredEvents=At({updaterMap:es,eventMap:Xr,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){null!==this.state.data&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),Dt(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}function ns(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function rs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ns(Object(n),!0).forEach(function(t){Pt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ns(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}Pt(ts,"contextType",Mt);var ss={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},os={options(e,t){e.setOptions(t)},url(e,t){e.setUrl(t)},zIndex(e,t){e.setZIndex(t)}};class is extends r.PureComponent{constructor(){super(...arguments),Pt(this,"registeredEvents",[]),Pt(this,"state",{kmlLayer:null}),Pt(this,"setKmlLayerCallback",()=>{null!==this.state.kmlLayer&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var e=new google.maps.KmlLayer(rs(rs({},this.props.options),{},{map:this.context}));this.registeredEvents=At({updaterMap:os,eventMap:ss,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{kmlLayer:e}},this.setKmlLayerCallback)}componentDidUpdate(e){null!==this.state.kmlLayer&&(Dt(this.registeredEvents),this.registeredEvents=At({updaterMap:os,eventMap:ss,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){null!==this.state.kmlLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),Dt(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}function as(e,t){return"function"===typeof t?t(e.offsetWidth,e.offsetHeight):{x:0,y:0}}function ls(e,t){return new t(e.lat,e.lng)}function us(e,t){return new t(new google.maps.LatLng(e.ne.lat,e.ne.lng),new google.maps.LatLng(e.sw.lat,e.sw.lng))}function cs(e,t,n,r){return void 0!==n?function(e,t,n){var r=e&&e.fromLatLngToDivPixel(n.getNorthEast()),s=e&&e.fromLatLngToDivPixel(n.getSouthWest());return r&&s?{left:"".concat(s.x+t.x,"px"),top:"".concat(r.y+t.y,"px"),width:"".concat(r.x-s.x-t.x,"px"),height:"".concat(s.y-r.y-t.y,"px")}:{left:"-9999px",top:"-9999px"}}(e,t,(s=n,o=google.maps.LatLngBounds,i=us,s instanceof o?s:i(s,o))):function(e,t,n){var r=e&&e.fromLatLngToDivPixel(n);if(r){var{x:s,y:o}=r;return{left:"".concat(s+t.x,"px"),top:"".concat(o+t.y,"px")}}return{left:"-9999px",top:"-9999px"}}(e,t,function(e,t,n){return e instanceof t?e:n(e,t)}(r,google.maps.LatLng,ls));var s,o,i}function ds(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function hs(e,t,n,r,s){class o extends google.maps.OverlayView{constructor(e,t,n,r){super(),this.container=e,this.pane=t,this.position=n,this.bounds=r}onAdd(){var e,t=null===(e=this.getPanes())||void 0===e?void 0:e[this.pane];null===t||void 0===t||t.appendChild(this.container)}draw(){var e=this.getProjection(),t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ds(Object(n),!0).forEach(function(t){Pt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ds(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},this.container?as(this.container,s):{x:0,y:0}),n=cs(e,t,this.bounds,this.position);for(var[r,o]of Object.entries(n))this.container.style[r]=o}onRemove(){null!==this.container.parentNode&&this.container.parentNode.removeChild(this.container)}}return new o(e,t,n,r)}function ps(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function fs(e){return e?(e instanceof google.maps.LatLng?e:new google.maps.LatLng(e.lat,e.lng))+"":""}function gs(e){return e?(e instanceof google.maps.LatLngBounds?e:new google.maps.LatLngBounds(new google.maps.LatLng(e.south,e.east),new google.maps.LatLng(e.north,e.west)))+"":""}Pt(is,"contextType",Mt);(0,r.memo)(function(e){var{position:t,bounds:n,mapPaneName:s,zIndex:o,onLoad:i,onUnmount:a,getPixelPositionOffset:l,children:u}=e,c=(0,r.useContext)(Mt),d=(0,r.useMemo)(()=>{var e=document.createElement("div");return e.style.position="absolute",e},[]),h=(0,r.useMemo)(()=>hs(d,s,t,n,l),[d,s,t,n]);return(0,r.useEffect)(()=>(null===i||void 0===i||i(h),null===h||void 0===h||h.setMap(c),()=>{null===a||void 0===a||a(h),null===h||void 0===h||h.setMap(null)}),[c,h]),(0,r.useEffect)(()=>{d.style.zIndex="".concat(o)},[o,d]),Ct.createPortal(u,d)});class ms extends r.PureComponent{constructor(e){super(e),Pt(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),Pt(this,"updatePane",()=>{var e=this.props.mapPaneName,t=this.overlayView.getPanes();Nt(!!e,"OverlayView requires props.mapPaneName but got %s",e),t?this.setState({paneEl:t[e]}):this.setState({paneEl:null})}),Pt(this,"onAdd",()=>{var e,t;this.updatePane(),null===(e=(t=this.props).onLoad)||void 0===e||e.call(t,this.overlayView)}),Pt(this,"onPositionElement",()=>{var e,t,n,r,s,o,i=this.overlayView.getProjection(),a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ps(Object(n),!0).forEach(function(t){Pt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ps(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({x:0,y:0},this.containerRef.current?as(this.containerRef.current,this.props.getPixelPositionOffset):{}),l=cs(i,a,this.props.bounds,this.props.position);(s=l,o={left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height},s.left!==o.left||s.top!==o.top||s.width!==o.height||s.height!==o.height)&&this.setState({containerStyle:{top:null!==(e=l.top)&&void 0!==e?e:0,left:null!==(t=l.left)&&void 0!==t?t:0,width:null!==(n=l.width)&&void 0!==n?n:0,height:null!==(r=l.height)&&void 0!==r?r:0,position:"absolute"}})}),Pt(this,"draw",()=>{this.onPositionElement()}),Pt(this,"onRemove",()=>{var e,t;this.setState(()=>({paneEl:null})),null===(e=(t=this.props).onUnmount)||void 0===e||e.call(t,this.overlayView)}),this.containerRef=(0,r.createRef)();var t=new google.maps.OverlayView;t.onAdd=this.onAdd,t.draw=this.draw,t.onRemove=this.onRemove,this.overlayView=t}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){var t=fs(e.position),n=fs(this.props.position),r=gs(e.bounds),s=gs(this.props.bounds);t===n&&r===s||this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var e=this.state.paneEl;return e?Ct.createPortal((0,Et.jsx)("div",{ref:this.containerRef,style:this.state.containerStyle,children:r.Children.only(this.props.children)}),e):null}}function vs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ys(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vs(Object(n),!0).forEach(function(t){Pt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vs(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}Pt(ms,"FLOAT_PANE","floatPane"),Pt(ms,"MAP_PANE","mapPane"),Pt(ms,"MARKER_LAYER","markerLayer"),Pt(ms,"OVERLAY_LAYER","overlayLayer"),Pt(ms,"OVERLAY_MOUSE_TARGET","overlayMouseTarget"),Pt(ms,"contextType",Mt);var bs={onDblClick:"dblclick",onClick:"click"},ws={opacity(e,t){e.setOpacity(t)}};(0,r.memo)(function(e){var{url:t,bounds:n,options:s,visible:o}=e,i=(0,r.useContext)(Mt),a=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east)),l=(0,r.useMemo)(()=>new google.maps.GroundOverlay(t,a,s),[]);return(0,r.useEffect)(()=>{null!==l&&l.setMap(i)},[i]),(0,r.useEffect)(()=>{"undefined"!==typeof t&&null!==l&&(l.set("url",t),l.setMap(i))},[l,t]),(0,r.useEffect)(()=>{"undefined"!==typeof o&&null!==l&&l.setOpacity(o?1:0)},[l,o]),(0,r.useEffect)(()=>{var e=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east));"undefined"!==typeof n&&null!==l&&(l.set("bounds",e),l.setMap(i))},[l,n]),null});class xs extends r.PureComponent{constructor(){super(...arguments),Pt(this,"registeredEvents",[]),Pt(this,"state",{groundOverlay:null}),Pt(this,"setGroundOverlayCallback",()=>{null!==this.state.groundOverlay&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){Nt(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,ys(ys({},this.props.options),{},{map:this.context}));this.registeredEvents=At({updaterMap:ws,eventMap:bs,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{groundOverlay:e}},this.setGroundOverlayCallback)}componentDidUpdate(e){null!==this.state.groundOverlay&&(Dt(this.registeredEvents),this.registeredEvents=At({updaterMap:ws,eventMap:bs,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}function ks(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ss(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ks(Object(n),!0).forEach(function(t){Pt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ks(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}Pt(xs,"defaultProps",{onLoad:function(){}}),Pt(xs,"contextType",Mt);var _s={},Es={data(e,t){e.setData(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)}};(0,r.memo)(function(e){var{data:t,onLoad:n,onUnmount:s,options:o}=e,i=(0,r.useContext)(Mt),[a,l]=(0,r.useState)(null);return(0,r.useEffect)(()=>{google.maps.visualization||Nt(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),(0,r.useEffect)(()=>{Nt(!!t,"data property is required in HeatmapLayer %s",t)},[t]),(0,r.useEffect)(()=>{null!==a&&a.setMap(i)},[i]),(0,r.useEffect)(()=>{o&&null!==a&&a.setOptions(o)},[a,o]),(0,r.useEffect)(()=>{var e=new google.maps.visualization.HeatmapLayer(Ss(Ss({},o),{},{data:t,map:i}));return l(e),n&&n(e),()=>{null!==a&&(s&&s(a),a.setMap(null))}},[]),null});class Cs extends r.PureComponent{constructor(){super(...arguments),Pt(this,"registeredEvents",[]),Pt(this,"state",{heatmapLayer:null}),Pt(this,"setHeatmapLayerCallback",()=>{null!==this.state.heatmapLayer&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){Nt(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),Nt(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(Ss(Ss({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=At({updaterMap:Es,eventMap:_s,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{heatmapLayer:e}},this.setHeatmapLayerCallback)}componentDidUpdate(e){Dt(this.registeredEvents),this.registeredEvents=At({updaterMap:Es,eventMap:_s,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){null!==this.state.heatmapLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),Dt(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}Pt(Cs,"contextType",Mt);var js={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},Ls={register(e,t,n){e.registerPanoProvider(t,n)},links(e,t){e.setLinks(t)},motionTracking(e,t){e.setMotionTracking(t)},options(e,t){e.setOptions(t)},pano(e,t){e.setPano(t)},position(e,t){e.setPosition(t)},pov(e,t){e.setPov(t)},visible(e,t){e.setVisible(t)},zoom(e,t){e.setZoom(t)}};class Ps extends r.PureComponent{constructor(){super(...arguments),Pt(this,"registeredEvents",[]),Pt(this,"state",{streetViewPanorama:null}),Pt(this,"setStreetViewPanoramaCallback",()=>{null!==this.state.streetViewPanorama&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var e,t,n=null!==(e=null===(t=this.context)||void 0===t?void 0:t.getStreetView())&&void 0!==e?e:null;this.registeredEvents=At({updaterMap:Ls,eventMap:js,prevProps:{},nextProps:this.props,instance:n}),this.setState(()=>({streetViewPanorama:n}),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){null!==this.state.streetViewPanorama&&(Dt(this.registeredEvents),this.registeredEvents=At({updaterMap:Ls,eventMap:js,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){null!==this.state.streetViewPanorama&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),Dt(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}Pt(Ps,"contextType",Mt);class Os extends r.PureComponent{constructor(){super(...arguments),Pt(this,"state",{streetViewService:null}),Pt(this,"setStreetViewServiceCallback",()=>{null!==this.state.streetViewService&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var e=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:e}},this.setStreetViewServiceCallback)}componentWillUnmount(){null!==this.state.streetViewService&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}Pt(Os,"contextType",Mt);r.PureComponent;var Ns={onDirectionsChanged:"directions_changed"},Ms={directions(e,t){e.setDirections(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},panel(e,t){e.setPanel(t)},routeIndex(e,t){e.setRouteIndex(t)}};class Ts extends r.PureComponent{constructor(){super(...arguments),Pt(this,"registeredEvents",[]),Pt(this,"state",{directionsRenderer:null}),Pt(this,"setDirectionsRendererCallback",()=>{null!==this.state.directionsRenderer&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=At({updaterMap:Ms,eventMap:Ns,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{directionsRenderer:e}},this.setDirectionsRendererCallback)}componentDidUpdate(e){null!==this.state.directionsRenderer&&(Dt(this.registeredEvents),this.registeredEvents=At({updaterMap:Ms,eventMap:Ns,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){null!==this.state.directionsRenderer&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),Dt(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}Pt(Ts,"contextType",Mt);r.PureComponent;var Rs={onPlacesChanged:"places_changed"},Is={bounds(e,t){e.setBounds(t)}};class Ds extends r.PureComponent{constructor(){super(...arguments),Pt(this,"registeredEvents",[]),Pt(this,"containerElement",(0,r.createRef)()),Pt(this,"state",{searchBox:null}),Pt(this,"setSearchBoxCallback",()=>{null!==this.state.searchBox&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(Nt(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),null!==this.containerElement&&null!==this.containerElement.current){var e=this.containerElement.current.querySelector("input");if(null!==e){var t=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=At({updaterMap:Is,eventMap:Rs,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{searchBox:t}},this.setSearchBoxCallback)}}}componentDidUpdate(e){null!==this.state.searchBox&&(Dt(this.registeredEvents),this.registeredEvents=At({updaterMap:Is,eventMap:Rs,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){null!==this.state.searchBox&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),Dt(this.registeredEvents))}render(){return(0,Et.jsx)("div",{ref:this.containerElement,children:r.Children.only(this.props.children)})}}Pt(Ds,"contextType",Mt);var As={onPlaceChanged:"place_changed"},Us={bounds(e,t){e.setBounds(t)},restrictions(e,t){e.setComponentRestrictions(t)},fields(e,t){e.setFields(t)},options(e,t){e.setOptions(t)},types(e,t){e.setTypes(t)}};class zs extends r.PureComponent{constructor(){super(...arguments),Pt(this,"registeredEvents",[]),Pt(this,"containerElement",(0,r.createRef)()),Pt(this,"state",{autocomplete:null}),Pt(this,"setAutocompleteCallback",()=>{null!==this.state.autocomplete&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var e;Nt(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var t=null===(e=this.containerElement.current)||void 0===e?void 0:e.querySelector("input");if(t){var n=new google.maps.places.Autocomplete(t,this.props.options);this.registeredEvents=At({updaterMap:Us,eventMap:As,prevProps:{},nextProps:this.props,instance:n}),this.setState(()=>({autocomplete:n}),this.setAutocompleteCallback)}}componentDidUpdate(e){Dt(this.registeredEvents),this.registeredEvents=At({updaterMap:Us,eventMap:As,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){null!==this.state.autocomplete&&Dt(this.registeredEvents)}render(){return(0,Et.jsx)("div",{ref:this.containerElement,className:this.props.className,children:r.Children.only(this.props.children)})}}Pt(zs,"defaultProps",{className:""}),Pt(zs,"contextType",Mt);class Bs extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FunctionsError",n=arguments.length>2?arguments[2]:void 0;super(e),this.name=t,this.context=n}}class Fs extends Bs{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Ws extends Bs{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Vs extends Bs{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Hs;!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(Hs||(Hs={}));var qs=function(e,t,n,r){return new(n||(n=Promise))(function(s,o){function i(e){try{l(r.next(e))}catch(Wa){o(Wa)}}function a(e){try{l(r.throw(e))}catch(Wa){o(Wa)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,a)}l((r=r.apply(e,t||[])).next())})};class Ks{constructor(e){let{headers:t={},customFetch:r,region:s=Hs.Any}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=t,this.region=s,this.fetch=(e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}})(r)}setAuth(e){this.headers.Authorization="Bearer ".concat(e)}invoke(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;return qs(this,void 0,void 0,function*(){try{const{headers:r,method:s,body:o}=t;let i={},{region:a}=t;a||(a=this.region);const l=new URL("".concat(this.url,"/").concat(e));let u;a&&"any"!==a&&(i["x-region"]=a,l.searchParams.set("forceFunctionRegion",a)),o&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&("undefined"!==typeof Blob&&o instanceof Blob||o instanceof ArrayBuffer?(i["Content-Type"]="application/octet-stream",u=o):"string"===typeof o?(i["Content-Type"]="text/plain",u=o):"undefined"!==typeof FormData&&o instanceof FormData?u=o:(i["Content-Type"]="application/json",u=JSON.stringify(o)));const c=yield this.fetch(l.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},i),this.headers),r),body:u}).catch(e=>{throw new Fs(e)}),d=c.headers.get("x-relay-error");if(d&&"true"===d)throw new Ws(c);if(!c.ok)throw new Vs(c);let h,p=(null!==(n=c.headers.get("Content-Type"))&&void 0!==n?n:"text/plain").split(";")[0].trim();return h="application/json"===p?yield c.json():"application/octet-stream"===p?yield c.blob():"text/event-stream"===p?c:"multipart/form-data"===p?yield c.formData():yield c.text(),{data:h,error:null,response:c}}catch(r){return{data:null,error:r,response:r instanceof Vs||r instanceof Ws?r.context:void 0}}})}}var Gs=n(980);const{PostgrestClient:$s,PostgrestQueryBuilder:Zs,PostgrestFilterBuilder:Js,PostgrestTransformBuilder:Ys,PostgrestBuilder:Qs,PostgrestError:Xs}=Gs;const eo=class{static detectEnvironment(){var e;if("undefined"!==typeof WebSocket)return{type:"native",constructor:WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};if("undefined"!==typeof n.g&&"undefined"!==typeof n.g.WebSocket)return{type:"native",constructor:n.g.WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocketPair&&"undefined"===typeof globalThis.WebSocket)return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if("undefined"!==typeof globalThis&&globalThis.EdgeRuntime||"undefined"!==typeof navigator&&(null===(e=navigator.userAgent)||void 0===e?void 0:e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if("undefined"!==typeof process&&process.versions&&process.versions.node){const e=parseInt(process.versions.node.split(".")[0]);return e>=22?"undefined"!==typeof globalThis.WebSocket?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:"Node.js ".concat(e," detected but native WebSocket not found."),workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:"Node.js ".concat(e," detected without native WebSocket support."),workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+="\n\nSuggested solution: ".concat(e.workaround)),new Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return"native"===e.type||"ws"===e.type}catch(e){return!1}}},to="realtime-js/".concat("2.15.1"),no=1e4;var ro,so,oo,io,ao,lo;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(ro||(ro={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(so||(so={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(oo||(oo={})),function(e){e.websocket="websocket"}(io||(io={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(ao||(ao={}));class uo{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"===typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const r=t.getUint8(1),s=t.getUint8(2);let o=this.HEADER_LENGTH+2;const i=n.decode(e.slice(o,o+r));o+=r;const a=n.decode(e.slice(o,o+s));o+=s;return{ref:null,topic:i,event:a,payload:JSON.parse(n.decode(e.slice(o,e.byteLength)))}}}class co{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(lo||(lo={}));const ho=function(e,t){var n;const r=null!==(n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipTypes)&&void 0!==n?n:[];return Object.keys(t).reduce((n,s)=>(n[s]=po(s,e,t,r),n),{})},po=(e,t,n,r)=>{const s=t.find(t=>t.name===e),o=null===s||void 0===s?void 0:s.type,i=n[e];return o&&!r.includes(o)?fo(o,i):go(i)},fo=(e,t)=>{if("_"===e.charAt(0)){const n=e.slice(1,e.length);return bo(t,n)}switch(e){case lo.bool:return mo(t);case lo.float4:case lo.float8:case lo.int2:case lo.int4:case lo.int8:case lo.numeric:case lo.oid:return vo(t);case lo.json:case lo.jsonb:return yo(t);case lo.timestamp:return wo(t);case lo.abstime:case lo.date:case lo.daterange:case lo.int4range:case lo.int8range:case lo.money:case lo.reltime:case lo.text:case lo.time:case lo.timestamptz:case lo.timetz:case lo.tsrange:case lo.tstzrange:default:return go(t)}},go=e=>e,mo=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},vo=e=>{if("string"===typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},yo=e=>{if("string"===typeof e)try{return JSON.parse(e)}catch(t){return console.log("JSON parse error: ".concat(t)),e}return e},bo=(e,t)=>{if("string"!==typeof e)return e;const n=e.length-1,r=e[n];if("{"===e[0]&&"}"===r){let r;const o=e.slice(1,n);try{r=JSON.parse("["+o+"]")}catch(s){r=o?o.split(","):[]}return r.map(e=>fo(t,e))}return e},wo=e=>"string"===typeof e?e.replace(" ","T"):e,xo=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class ko{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:no;this.channel=e,this.event=t,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t(null===(n=this.receivedResp)||void 0===n?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive(e){let{status:t,response:n}=e;this.recHooks.filter(e=>e.status===t).forEach(e=>e.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var So,_o,Eo,Co;!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(So||(So={}));class jo{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(null===t||void 0===t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=jo.syncState(this.state,e,t,n),this.pendingDiffs.forEach(e=>{this.state=jo.syncDiff(this.state,e,t,n)}),this.pendingDiffs=[],r()}),this.channel._on(n.diff,{},e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=jo.syncDiff(this.state,e,t,n),r())}),this.onJoin((e,t,n)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:n})}),this.onLeave((e,t,n)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:n})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,r){const s=this.cloneDeep(e),o=this.transformState(t),i={},a={};return this.map(s,(e,t)=>{o[e]||(a[e]=t)}),this.map(o,(e,t)=>{const n=s[e];if(n){const r=t.map(e=>e.presence_ref),s=n.map(e=>e.presence_ref),o=t.filter(e=>s.indexOf(e.presence_ref)<0),l=n.filter(e=>r.indexOf(e.presence_ref)<0);o.length>0&&(i[e]=o),l.length>0&&(a[e]=l)}else i[e]=t}),this.syncDiff(s,{joins:i,leaves:a},n,r)}static syncDiff(e,t,n,r){const{joins:s,leaves:o}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(s,(t,r)=>{var s;const o=null!==(s=e[t])&&void 0!==s?s:[];if(e[t]=this.cloneDeep(r),o.length>0){const n=e[t].map(e=>e.presence_ref),r=o.filter(e=>n.indexOf(e.presence_ref)<0);e[t].unshift(...r)}n(t,o,r)}),this.map(o,(t,n)=>{let s=e[t];if(!s)return;const o=n.map(e=>e.presence_ref);s=s.filter(e=>o.indexOf(e.presence_ref)<0),e[t]=s,r(t,s,n),0===s.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const r=e[n];return t[n]="metas"in r?r.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(_o||(_o={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"}(Eo||(Eo={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(Co||(Co={}));class Lo{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},n=arguments.length>2?arguments[2]:void 0;this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=so.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new ko(this,oo.join,this.params,this.timeout),this.rejoinTimer=new co(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=so.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel","close ".concat(this.topic," ").concat(this._joinRef())),this.state=so.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=so.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel","timeout ".concat(this.topic),this.joinPush.timeout),this.state=so.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=so.errored,this.rejoinTimer.scheduleTimeout())}),this._on(oo.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new jo(this),this.broadcastEndpointURL=xo(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeout;var n,r;if(this.socket.isConnected()||this.socket.connect(),this.state==so.closed){const{config:{broadcast:s,presence:o,private:i}}=this.params,a=null!==(r=null===(n=this.bindings.postgres_changes)||void 0===n?void 0:n.map(e=>e.filter))&&void 0!==r?r:[],l=!!this.bindings[Eo.PRESENCE]&&this.bindings[Eo.PRESENCE].length>0,u={},c={broadcast:s,presence:Object.assign(Object.assign({},o),{enabled:l}),postgres_changes:a,private:i};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this._onError(t=>null===e||void 0===e?void 0:e(Co.CHANNEL_ERROR,t)),this._onClose(()=>null===e||void 0===e?void 0:e(Co.CLOSED)),this.updateJoinPayload(Object.assign({config:c},u)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async t=>{let{postgres_changes:n}=t;var r;if(this.socket.setAuth(),void 0!==n){const t=this.bindings.postgres_changes,s=null!==(r=null===t||void 0===t?void 0:t.length)&&void 0!==r?r:0,o=[];for(let r=0;r<s;r++){const s=t[r],{filter:{event:i,schema:a,table:l,filter:u}}=s,c=n&&n[r];if(!c||c.event!==i||c.schema!==a||c.table!==l||c.filter!==u)return this.unsubscribe(),this.state=so.errored,void(null===e||void 0===e||e(Co.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));o.push(Object.assign(Object.assign({},s),{id:c.id}))}return this.bindings.postgres_changes=o,void(e&&e(Co.SUBSCRIBED))}null===e||void 0===e||e(Co.SUBSCRIBED)}).receive("error",t=>{this.state=so.errored,null===e||void 0===e||e(Co.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null===e||void 0===e||e(Co.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this.state===so.joined&&e===Eo.PRESENCE&&(this.socket.log("channel","resubscribe to ".concat(this.topic," due to change in presence callbacks on joined channel")),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,n)}async send(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,r;if(this._canPush()||"broadcast"!==e.type)return new Promise(n=>{var r,s,o;const i=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(o=null===(s=null===(r=this.params)||void 0===r?void 0:r.config)||void 0===s?void 0:s.broadcast)||void 0===o?void 0:o.ack)||n("ok"),i.receive("ok",()=>n("ok")),i.receive("error",()=>n("error")),i.receive("timeout",()=>n("timed out"))});{const{event:o,payload:i}=e,a={method:"POST",headers:{Authorization:this.socket.accessTokenValue?"Bearer ".concat(this.socket.accessTokenValue):"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,a,null!==(n=t.timeout)&&void 0!==n?n:this.timeout);return await(null===(r=e.body)||void 0===r?void 0:r.cancel()),e.ok?"ok":"error"}catch(s){return"AbortError"===s.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=so.leaving;const t=()=>{this.socket.log("channel","leave ".concat(this.topic)),this._trigger(oo.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(r=>{n=new ko(this,oo.leave,{},e),n.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{null===n||void 0===n||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=so.closed,this.bindings={}}async _fetchWithTimeout(e,t,n){const r=new AbortController,s=setTimeout(()=>r.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(s),o}_push(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw"tried to push '".concat(e,"' to '").concat(this.topic,"' before joining. Use channel.subscribe() before pushing events");let r=new ko(this,e,t,n);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){const e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel","discarded push due to buffer overflow: ".concat(e.event),e.payload))}}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var r,s;const o=e.toLocaleLowerCase(),{close:i,error:a,leave:l,join:u}=oo;if(n&&[i,a,l,u].indexOf(o)>=0&&n!==this._joinRef())return;let c=this._onMessage(o,t,n);if(t&&!c)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?null===(r=this.bindings.postgres_changes)||void 0===r||r.filter(e=>{var t,n,r;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(r=null===(n=e.filter)||void 0===n?void 0:n.event)||void 0===r?void 0:r.toLocaleLowerCase())===o}).map(e=>e.callback(c,n)):null===(s=this.bindings[o])||void 0===s||s.filter(e=>{var n,r,s,i,a,l;if(["broadcast","presence","postgres_changes"].includes(o)){if("id"in e){const o=e.id,i=null===(n=e.filter)||void 0===n?void 0:n.event;return o&&(null===(r=t.ids)||void 0===r?void 0:r.includes(o))&&("*"===i||(null===i||void 0===i?void 0:i.toLocaleLowerCase())===(null===(s=t.data)||void 0===s?void 0:s.type.toLocaleLowerCase()))}{const n=null===(a=null===(i=null===e||void 0===e?void 0:e.filter)||void 0===i?void 0:i.event)||void 0===a?void 0:a.toLocaleLowerCase();return"*"===n||n===(null===(l=null===t||void 0===t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===o}).map(e=>{if("object"===typeof c&&"ids"in c){const e=c.data,{schema:t,table:n,commit_timestamp:r,type:s,errors:o}=e,i={schema:t,table:n,commit_timestamp:r,eventType:s,new:{},old:{},errors:o};c=Object.assign(Object.assign({},i),this._getPayloadRecords(e))}e.callback(c,n)})}_isClosed(){return this.state===so.closed}_isJoined(){return this.state===so.joined}_isJoining(){return this.state===so.joining}_isLeaving(){return this.state===so.leaving}_replyEventName(e){return"chan_reply_".concat(e)}_on(e,t,n){const r=e.toLocaleLowerCase(),s={type:r,filter:t,callback:n};return this.bindings[r]?this.bindings[r].push(s):this.bindings[r]=[s],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(e=>{var r;return!((null===(r=e.type)||void 0===r?void 0:r.toLocaleLowerCase())===n&&Lo.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(oo.close,{},e)}_onError(e){this._on(oo.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=so.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=ho(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=ho(e.columns,e.old_record)),t}}const Po=()=>{},Oo=25e3,No=10,Mo=100,To=[1e3,2e3,5e3,1e4];class Ro{constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=no,this.transport=null,this.heartbeatIntervalMs=Oo,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Po,this.ref=0,this.reconnectTimer=null,this.logger=Po,this.conn=null,this.sendBuffer=[],this.serializer=new uo,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then(e=>{let{default:n}=e;return n(...t)}).catch(e=>{throw new Error("Failed to load @supabase/node-fetch: ".concat(e.message,". ")+"This is required for HTTP requests in Node.js environments without native fetch.")})}:fetch),function(){return t(...arguments)}},!(null===(r=null===t||void 0===t?void 0:t.params)||void 0===r?void 0:r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint="".concat(e,"/").concat(io.websocket),this.httpEndpoint=xo(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(null===t||void 0===t?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=eo.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;if(t.includes("Node.js"))throw new Error("".concat(t,"\n\n")+'To use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })');throw new Error("WebSocket not available: ".concat(t))}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,null!==t&&void 0!==t?t:""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ro.connecting:return ao.Connecting;case ro.open:return ao.Open;case ro.closing:return ao.Closing;default:return ao.Closed}}isConnected(){return this.connectionState()===ao.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};const n="realtime:".concat(e),r=this.getChannels().find(e=>e.topic===n);if(r)return r;{const n=new Lo("realtime:".concat(e),t,this);return this.channels.push(n),n}}push(e){const{topic:t,event:n,payload:r,ref:s}=e,o=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push","".concat(t," ").concat(n," (").concat(s,")"),r),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,null===(e=this.conn)||void 0===e||e.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var e;this.isConnected()||null===(e=this.reconnectTimer)||void 0===e||e.scheduleTimeout()},Mo);this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}else this.heartbeatCallback("disconnected")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",'leaving duplicate topic "'.concat(e,'"')),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,e=>{"phoenix"===e.topic&&"phx_reply"===e.event&&this.heartbeatCallback("ok"===e.payload.status?"ok":"error"),e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:t,event:n,payload:r,ref:s}=e,o=s?"(".concat(s,")"):"",i=r.status||"";this.log("receive","".concat(i," ").concat(t," ").concat(n," ").concat(o).trim(),r),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(n,r,s)),this._triggerStateCallbacks("message",e)})}_clearTimer(e){var t;"heartbeat"===e&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===e&&(null===(t=this.reconnectTimer)||void 0===t||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport","connected to ".concat(this.endpointURL())),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker","starting worker for from ".concat(this.workerUrl)):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(t=this.reconnectTimer)||void 0===t||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport","".concat(e)),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(oo.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const n=e.match(/\?/)?"&":"?",r=new URLSearchParams(t);return"".concat(e).concat(n).concat(r)}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}_setConnectionState(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._connectionState=e,"connecting"===e?this._wasManualDisconnect=!1:"disconnecting"===e&&(this._wasManualDisconnect=t)}async _performAuth(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e=t||(this.accessToken?await this.accessToken():this.accessTokenValue),this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(t=>{const n={access_token:e,version:to};e&&t.updateJoinPayload(n),t.joinedOnce&&t._isJoined()&&t._push(oo.access_token,{access_token:e})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"general";this.setAuth().catch(t=>{this.log("error","error setting auth in ".concat(e),t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(t)}catch(Wa){this.log("error","error in ".concat(e," callback"),Wa)}})}catch(Wa){this.log("error","error triggering ".concat(e," callbacks"),Wa)}}_setupReconnectionTimer(){this.reconnectTimer=new co(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},No)},this.reconnectAfterMs)}_initializeOptions(e){var t,n,r,s,o,i,a,l;if(this.transport=null!==(t=null===e||void 0===e?void 0:e.transport)&&void 0!==t?t:null,this.timeout=null!==(n=null===e||void 0===e?void 0:e.timeout)&&void 0!==n?n:no,this.heartbeatIntervalMs=null!==(r=null===e||void 0===e?void 0:e.heartbeatIntervalMs)&&void 0!==r?r:Oo,this.worker=null!==(s=null===e||void 0===e?void 0:e.worker)&&void 0!==s&&s,this.accessToken=null!==(o=null===e||void 0===e?void 0:e.accessToken)&&void 0!==o?o:null,(null===e||void 0===e?void 0:e.params)&&(this.params=e.params),(null===e||void 0===e?void 0:e.logger)&&(this.logger=e.logger),((null===e||void 0===e?void 0:e.logLevel)||(null===e||void 0===e?void 0:e.log_level))&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(i=null===e||void 0===e?void 0:e.reconnectAfterMs)&&void 0!==i?i:e=>To[e-1]||1e4,this.encode=null!==(a=null===e||void 0===e?void 0:e.encode)&&void 0!==a?a:(e,t)=>t(JSON.stringify(e)),this.decode=null!==(l=null===e||void 0===e?void 0:e.decode)&&void 0!==l?l:this.serializer.decode.bind(this.serializer),this.worker){if("undefined"!==typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=null===e||void 0===e?void 0:e.workerUrl}}}class Io extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Do(e){return"object"===typeof e&&null!==e&&"__isStorageError"in e}class Ao extends Io{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Uo extends Io{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var zo=function(e,t,n,r){return new(n||(n=Promise))(function(s,o){function i(e){try{l(r.next(e))}catch(Wa){o(Wa)}}function a(e){try{l(r.throw(e))}catch(Wa){o(Wa)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,a)}l((r=r.apply(e,t||[])).next())})};const Bo=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}},Fo=e=>{if(Array.isArray(e))return e.map(e=>Fo(e));if("function"===typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach(e=>{let[n,r]=e;const s=n.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""));t[s]=Fo(r)}),t};var Wo=function(e,t,n,r){return new(n||(n=Promise))(function(s,o){function i(e){try{l(r.next(e))}catch(Wa){o(Wa)}}function a(e){try{l(r.throw(e))}catch(Wa){o(Wa)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,a)}l((r=r.apply(e,t||[])).next())})};const Vo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Ho=(e,t,r)=>Wo(void 0,void 0,void 0,function*(){const s=yield zo(void 0,void 0,void 0,function*(){return"undefined"===typeof Response?(yield Promise.resolve().then(n.bind(n,630))).Response:Response});e instanceof s&&!(null===r||void 0===r?void 0:r.noResolveJson)?e.json().then(n=>{const r=e.status||500,s=(null===n||void 0===n?void 0:n.statusCode)||r+"";t(new Ao(Vo(n),r,s))}).catch(e=>{t(new Uo(Vo(e),e))}):t(new Uo(Vo(e),e))}),qo=(e,t,n,r)=>{const s={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"!==e&&r?((e=>{if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)})(r)?(s.headers=Object.assign({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,(null===t||void 0===t?void 0:t.duplex)&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),n)):s};function Ko(e,t,n,r,s,o){return Wo(this,void 0,void 0,function*(){return new Promise((i,a)=>{e(n,qo(t,r,s,o)).then(e=>{if(!e.ok)throw e;return(null===r||void 0===r?void 0:r.noResolveJson)?e:e.json()}).then(e=>i(e)).catch(e=>Ho(e,a,r))})})}function Go(e,t,n,r){return Wo(this,void 0,void 0,function*(){return Ko(e,"GET",t,n,r)})}function $o(e,t,n,r,s){return Wo(this,void 0,void 0,function*(){return Ko(e,"POST",t,r,s,n)})}function Zo(e,t,n,r,s){return Wo(this,void 0,void 0,function*(){return Ko(e,"PUT",t,r,s,n)})}function Jo(e,t,n,r,s){return Wo(this,void 0,void 0,function*(){return Ko(e,"DELETE",t,r,s,n)})}var Yo=function(e,t,n,r){return new(n||(n=Promise))(function(s,o){function i(e){try{l(r.next(e))}catch(Wa){o(Wa)}}function a(e){try{l(r.throw(e))}catch(Wa){o(Wa)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,a)}l((r=r.apply(e,t||[])).next())})};const Qo={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Xo={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ei{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;this.url=e,this.headers=t,this.bucketId=n,this.fetch=Bo(r)}uploadOrUpdate(e,t,n,r){return Yo(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},Xo),r);let i=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(o.upsert)});const a=o.metadata;"undefined"!==typeof Blob&&n instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),a&&s.append("metadata",this.encodeMetadata(a)),s.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(s=n,s.append("cacheControl",o.cacheControl),a&&s.append("metadata",this.encodeMetadata(a))):(s=n,i["cache-control"]="max-age=".concat(o.cacheControl),i["content-type"]=o.contentType,a&&(i["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),(null===r||void 0===r?void 0:r.headers)&&(i=Object.assign(Object.assign({},i),r.headers));const l=this._removeEmptyFolders(t),u=this._getFinalPath(l),c=yield("PUT"==e?Zo:$o)(this.fetch,"".concat(this.url,"/object/").concat(u),s,Object.assign({headers:i},(null===o||void 0===o?void 0:o.duplex)?{duplex:o.duplex}:{}));return{data:{path:l,id:c.Id,fullPath:c.Key},error:null}}catch(s){if(Do(s))return{data:null,error:s};throw s}})}upload(e,t,n){return Yo(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,r){return Yo(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),o=this._getFinalPath(s),i=new URL(this.url+"/object/upload/sign/".concat(o));i.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:Xo.upsert},r),o=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!==typeof Blob&&n instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(e=n,e.append("cacheControl",t.cacheControl)):(e=n,o["cache-control"]="max-age=".concat(t.cacheControl),o["content-type"]=t.contentType);return{data:{path:s,fullPath:(yield Zo(this.fetch,i.toString(),e,{headers:o})).Key},error:null}}catch(a){if(Do(a))return{data:null,error:a};throw a}})}createSignedUploadUrl(e,t){return Yo(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const r=Object.assign({},this.headers);(null===t||void 0===t?void 0:t.upsert)&&(r["x-upsert"]="true");const s=yield $o(this.fetch,"".concat(this.url,"/object/upload/sign/").concat(n),{},{headers:r}),o=new URL(this.url+s.url),i=o.searchParams.get("token");if(!i)throw new Io("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:i},error:null}}catch(n){if(Do(n))return{data:null,error:n};throw n}})}update(e,t,n){return Yo(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return Yo(this,void 0,void 0,function*(){try{return{data:yield $o(this.fetch,"".concat(this.url,"/object/move"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(Do(r))return{data:null,error:r};throw r}})}copy(e,t,n){return Yo(this,void 0,void 0,function*(){try{return{data:{path:(yield $o(this.fetch,"".concat(this.url,"/object/copy"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(Do(r))return{data:null,error:r};throw r}})}createSignedUrl(e,t,n){return Yo(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),s=yield $o(this.fetch,"".concat(this.url,"/object/sign/").concat(r),Object.assign({expiresIn:t},(null===n||void 0===n?void 0:n.transform)?{transform:n.transform}:{}),{headers:this.headers});const o=(null===n||void 0===n?void 0:n.download)?"&download=".concat(!0===n.download?"":n.download):"";return s={signedUrl:encodeURI("".concat(this.url).concat(s.signedURL).concat(o))},{data:s,error:null}}catch(r){if(Do(r))return{data:null,error:r};throw r}})}createSignedUrls(e,t,n){return Yo(this,void 0,void 0,function*(){try{const r=yield $o(this.fetch,"".concat(this.url,"/object/sign/").concat(this.bucketId),{expiresIn:t,paths:e},{headers:this.headers}),s=(null===n||void 0===n?void 0:n.download)?"&download=".concat(!0===n.download?"":n.download):"";return{data:r.map(e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI("".concat(this.url).concat(e.signedURL).concat(s)):null})),error:null}}catch(r){if(Do(r))return{data:null,error:r};throw r}})}download(e,t){return Yo(this,void 0,void 0,function*(){const n="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image/authenticated":"object",r=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{}),s=r?"?".concat(r):"";try{const t=this._getFinalPath(e),r=yield Go(this.fetch,"".concat(this.url,"/").concat(n,"/").concat(t).concat(s),{headers:this.headers,noResolveJson:!0});return{data:yield r.blob(),error:null}}catch(o){if(Do(o))return{data:null,error:o};throw o}})}info(e){return Yo(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const e=yield Go(this.fetch,"".concat(this.url,"/object/info/").concat(t),{headers:this.headers});return{data:Fo(e),error:null}}catch(n){if(Do(n))return{data:null,error:n};throw n}})}exists(e){return Yo(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield function(e,t,n,r){return Wo(this,void 0,void 0,function*(){return Ko(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}(this.fetch,"".concat(this.url,"/object/").concat(t),{headers:this.headers}),{data:!0,error:null}}catch(n){if(Do(n)&&n instanceof Uo){const e=n.originalError;if([400,404].includes(null===e||void 0===e?void 0:e.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],s=(null===t||void 0===t?void 0:t.download)?"download=".concat(!0===t.download?"":t.download):"";""!==s&&r.push(s);const o="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image":"object",i=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{});""!==i&&r.push(i);let a=r.join("&");return""!==a&&(a="?".concat(a)),{data:{publicUrl:encodeURI("".concat(this.url,"/").concat(o,"/public/").concat(n).concat(a))}}}remove(e){return Yo(this,void 0,void 0,function*(){try{return{data:yield Jo(this.fetch,"".concat(this.url,"/object/").concat(this.bucketId),{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(Do(t))return{data:null,error:t};throw t}})}list(e,t,n){return Yo(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},Qo),t),{prefix:e||""});return{data:yield $o(this.fetch,"".concat(this.url,"/object/list/").concat(this.bucketId),r,{headers:this.headers},n),error:null}}catch(r){if(Do(r))return{data:null,error:r};throw r}})}listV2(e,t){return Yo(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield $o(this.fetch,"".concat(this.url,"/object/list-v2/").concat(this.bucketId),n,{headers:this.headers},t),error:null}}catch(n){if(Do(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!==typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return"".concat(this.bucketId,"/").concat(e.replace(/^\/+/,""))}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push("width=".concat(e.width)),e.height&&t.push("height=".concat(e.height)),e.resize&&t.push("resize=".concat(e.resize)),e.format&&t.push("format=".concat(e.format)),e.quality&&t.push("quality=".concat(e.quality)),t.join("&")}}const ti={"X-Client-Info":"storage-js/".concat("2.11.0")};var ni=function(e,t,n,r){return new(n||(n=Promise))(function(s,o){function i(e){try{l(r.next(e))}catch(Wa){o(Wa)}}function a(e){try{l(r.throw(e))}catch(Wa){o(Wa)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,a)}l((r=r.apply(e,t||[])).next())})};class ri{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;const s=new URL(e);if(null===r||void 0===r?void 0:r.useNewHostname){/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."))}this.url=s.href,this.headers=Object.assign(Object.assign({},ti),t),this.fetch=Bo(n)}listBuckets(){return ni(this,void 0,void 0,function*(){try{return{data:yield Go(this.fetch,"".concat(this.url,"/bucket"),{headers:this.headers}),error:null}}catch(e){if(Do(e))return{data:null,error:e};throw e}})}getBucket(e){return ni(this,void 0,void 0,function*(){try{return{data:yield Go(this.fetch,"".concat(this.url,"/bucket/").concat(e),{headers:this.headers}),error:null}}catch(t){if(Do(t))return{data:null,error:t};throw t}})}createBucket(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{public:!1};return ni(this,void 0,void 0,function*(){try{return{data:yield $o(this.fetch,"".concat(this.url,"/bucket"),{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Do(n))return{data:null,error:n};throw n}})}updateBucket(e,t){return ni(this,void 0,void 0,function*(){try{return{data:yield Zo(this.fetch,"".concat(this.url,"/bucket/").concat(e),{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Do(n))return{data:null,error:n};throw n}})}emptyBucket(e){return ni(this,void 0,void 0,function*(){try{return{data:yield $o(this.fetch,"".concat(this.url,"/bucket/").concat(e,"/empty"),{},{headers:this.headers}),error:null}}catch(t){if(Do(t))return{data:null,error:t};throw t}})}deleteBucket(e){return ni(this,void 0,void 0,function*(){try{return{data:yield Jo(this.fetch,"".concat(this.url,"/bucket/").concat(e),{},{headers:this.headers}),error:null}}catch(t){if(Do(t))return{data:null,error:t};throw t}})}}class si extends ri{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2?arguments[2]:void 0,arguments.length>3?arguments[3]:void 0)}from(e){return new ei(this.url,this.headers,e,this.fetch)}}let oi="";oi="undefined"!==typeof Deno?"deno":"undefined"!==typeof document?"web":"undefined"!==typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const ii={headers:{"X-Client-Info":"supabase-js-".concat(oi,"/").concat("2.56.0")}},ai={schema:"public"},li={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ui={};var ci=n(630),di=function(e,t,n,r){return new(n||(n=Promise))(function(s,o){function i(e){try{l(r.next(e))}catch(Wa){o(Wa)}}function a(e){try{l(r.throw(e))}catch(Wa){o(Wa)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,a)}l((r=r.apply(e,t||[])).next())})};const hi=e=>{let t;return t=e||("undefined"===typeof fetch?ci.default:fetch),function(){return t(...arguments)}},pi=(e,t,n)=>{const r=hi(n),s="undefined"===typeof Headers?ci.Headers:Headers;return(n,o)=>di(void 0,void 0,void 0,function*(){var i;const a=null!==(i=yield t())&&void 0!==i?i:e;let l=new s(null===o||void 0===o?void 0:o.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization","Bearer ".concat(a)),r(n,Object.assign(Object.assign({},o),{headers:l}))})};var fi=function(e,t,n,r){return new(n||(n=Promise))(function(s,o){function i(e){try{l(r.next(e))}catch(Wa){o(Wa)}}function a(e){try{l(r.throw(e))}catch(Wa){o(Wa)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,a)}l((r=r.apply(e,t||[])).next())})};const gi="2.71.1",mi=3e4,vi=9e4,yi={"X-Client-Info":"gotrue-js/".concat(gi)},bi="X-Supabase-Api-Version",wi={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},xi=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class ki extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function Si(e){return"object"===typeof e&&null!==e&&"__isAuthError"in e}class _i extends ki{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}class Ei extends ki{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Ci extends ki{constructor(e,t,n,r){super(e,n,r),this.name=t,this.status=n}}class ji extends Ci{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class Li extends Ci{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Pi extends Ci{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Oi extends Ci{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ni extends Ci{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Mi extends Ci{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Ti(e){return Si(e)&&"AuthRetryableFetchError"===e.name}class Ri extends Ci{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class Ii extends Ci{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Di="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ai=" \t\n\r=".split(""),Ui=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Ai.length;t+=1)e[Ai[t].charCodeAt(0)]=-2;for(let t=0;t<Di.length;t+=1)e[Di[t].charCodeAt(0)]=t;return e})();function zi(e,t,n){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(Di[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(Di[e]),t.queuedBits-=6}}function Bi(e,t,n){const r=Ui[e];if(!(r>-1)){if(-2===r)return;throw new Error('Invalid Base64-URL character "'.concat(String.fromCharCode(e),'"'))}for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function Fi(e){const t=[],n=e=>{t.push(String.fromCodePoint(e))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=e=>{!function(e,t,n){if(0===t.utf8seq){if(e<=127)return void n(e);for(let n=1;n<6;n+=1)if(0===(e>>7-n&1)){t.utf8seq=n;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&n(t.codepoint)}}(e,r,n)};for(let i=0;i<e.length;i+=1)Bi(e.charCodeAt(i),s,o);return t.join("")}function Wi(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error("Unrecognized Unicode codepoint: ".concat(e.toString(16)))}t(e)}function Vi(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const t=1024*(r-55296)&65535;r=65536+(e.charCodeAt(n+1)-56320&65535|t),n+=1}Wi(r,t)}}function Hi(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};for(let s=0;s<e.length;s+=1)Bi(e.charCodeAt(s),n,r);return new Uint8Array(t)}function qi(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};return e.forEach(e=>zi(e,n,r)),zi(null,n,r),t.join("")}const Ki=()=>"undefined"!==typeof window&&"undefined"!==typeof document,Gi={tested:!1,writable:!1},$i=()=>{if(!Ki())return!1;try{if("object"!==typeof globalThis.localStorage)return!1}catch(Wa){return!1}if(Gi.tested)return Gi.writable;const e="lswt-".concat(Math.random()).concat(Math.random());try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Gi.tested=!0,Gi.writable=!0}catch(Wa){Gi.tested=!0,Gi.writable=!1}return Gi.writable};const Zi=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}},Ji=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Yi=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(r){return n}},Qi=async(e,t)=>{await e.removeItem(t)};class Xi{constructor(){this.promise=new Xi.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function ea(e){const t=e.split(".");if(3!==t.length)throw new Ii("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!xi.test(t[n]))throw new Ii("JWT not in base64url format");return{header:JSON.parse(Fi(t[0])),payload:JSON.parse(Fi(t[1])),signature:Hi(t[2]),raw:{header:t[0],payload:t[1]}}}function ta(e){return("0"+e.toString(16)).substr(-2)}async function na(e){if(!("undefined"!==typeof crypto&&"undefined"!==typeof crypto.subtle&&"undefined"!==typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(n);return Array.from(r).map(e=>String.fromCharCode(e)).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ra(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(){const e=new Uint32Array(56);if("undefined"===typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let n="";for(let r=0;r<56;r++)n+=e.charAt(Math.floor(Math.random()*t));return n}return crypto.getRandomValues(e),Array.from(e,ta).join("")}();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Ji(e,"".concat(t,"-code-verifier"),s);const o=await na(r);return[o,r===o?"plain":"s256"]}Xi.promiseConstructor=Promise;const sa=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;const oa=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ia(e){if(!oa.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function aa(){return new Proxy({},{get:(e,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"===typeof t){const e=t.toString();if("Symbol(Symbol.toPrimitive)"===e||"Symbol(Symbol.toStringTag)"===e||"Symbol(util.inspect.custom)"===e)return}throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "'.concat(t,'" property of the session object is not supported. Please use getUser() instead.'))},set:(e,t)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "'.concat(t,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))},deleteProperty:(e,t)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "'.concat(t,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))}})}function la(e){return JSON.parse(JSON.stringify(e))}var ua=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const ca=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),da=[502,503,504];async function ha(e){var t,n;if(!("object"===typeof(n=e)&&null!==n&&"status"in n&&"ok"in n&&"json"in n&&"function"===typeof n.json))throw new Mi(ca(e),0);if(da.includes(e.status))throw new Mi(ca(e),e.status);let r,s;try{r=await e.json()}catch(Wa){throw new Ei(ca(Wa),Wa)}const o=function(e){const t=e.headers.get(bi);if(!t)return null;if(!t.match(sa))return null;try{return new Date("".concat(t,"T00:00:00.0Z"))}catch(Wa){return null}}(e);if(o&&o.getTime()>=wi.timestamp&&"object"===typeof r&&r&&"string"===typeof r.code?s=r.code:"object"===typeof r&&r&&"string"===typeof r.error_code&&(s=r.error_code),s){if("weak_password"===s)throw new Ri(ca(r),e.status,(null===(t=r.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===s)throw new ji}else if("object"===typeof r&&r&&"object"===typeof r.weak_password&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0))throw new Ri(ca(r),e.status,r.weak_password.reasons);throw new _i(ca(r),e.status||500,s)}async function pa(e,t,n,r){var s;const o=Object.assign({},null===r||void 0===r?void 0:r.headers);o[bi]||(o[bi]=wi.name),(null===r||void 0===r?void 0:r.jwt)&&(o.Authorization="Bearer ".concat(r.jwt));const i=null!==(s=null===r||void 0===r?void 0:r.query)&&void 0!==s?s:{};(null===r||void 0===r?void 0:r.redirectTo)&&(i.redirect_to=r.redirectTo);const a=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await async function(e,t,n,r,s,o){const i=((e,t,n,r)=>{const s={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null===t||void 0===t?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))})(t,r,s,o);let a;try{a=await e(n,Object.assign({},i))}catch(Wa){throw console.error(Wa),new Mi(ca(Wa),0)}a.ok||await ha(a);if(null===r||void 0===r?void 0:r.noResolveJson)return a;try{return await a.json()}catch(Wa){await ha(Wa)}}(e,t,n+a,{headers:o,noResolveJson:null===r||void 0===r?void 0:r.noResolveJson},{},null===r||void 0===r?void 0:r.body);return(null===r||void 0===r?void 0:r.xform)?null===r||void 0===r?void 0:r.xform(l):{data:Object.assign({},l),error:null}}function fa(e){var t;let n=null;var r;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=(r=e.expires_in,Math.round(Date.now()/1e3)+r)));return{data:{session:n,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function ga(e){const t=fa(e);return!t.error&&e.weak_password&&"object"===typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"===typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function ma(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function va(e){return{data:e,error:null}}function ya(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o}=e,i=ua(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o},user:Object.assign({},i)},error:null}}function ba(e){return e}const wa=["global","local","others"];var xa=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};class ka{constructor(e){let{url:t="",headers:n={},fetch:r}=e;this.url=t,this.headers=n,this.fetch=Zi(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wa[0];if(wa.indexOf(t)<0)throw new Error("@supabase/auth-js: Parameter scope must be one of ".concat(wa.join(", ")));try{return await pa(this.fetch,"POST","".concat(this.url,"/logout?scope=").concat(t),{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Si(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await pa(this.fetch,"POST","".concat(this.url,"/invite"),{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:ma})}catch(n){if(Si(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=xa(e,["options"]),r=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(r.new_email=null===n||void 0===n?void 0:n.newEmail,delete r.newEmail),await pa(this.fetch,"POST","".concat(this.url,"/admin/generate_link"),{body:r,headers:this.headers,xform:ya,redirectTo:null===t||void 0===t?void 0:t.redirectTo})}catch(t){if(Si(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await pa(this.fetch,"POST","".concat(this.url,"/admin/users"),{body:e,headers:this.headers,xform:ma})}catch(t){if(Si(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,r,s,o,i,a;try{const l={nextPage:null,lastPage:0,total:0},u=await pa(this.fetch,"GET","".concat(this.url,"/admin/users"),{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(s=null===(r=null===e||void 0===e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==s?s:""},xform:ba});if(u.error)throw u.error;const c=await u.json(),d=null!==(o=u.headers.get("x-total-count"))&&void 0!==o?o:0,h=null!==(a=null===(i=u.headers.get("link"))||void 0===i?void 0:i.split(","))&&void 0!==a?a:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);l["".concat(n,"Page")]=t}),l.total=parseInt(d)),{data:Object.assign(Object.assign({},c),l),error:null}}catch(l){if(Si(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){ia(e);try{return await pa(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,xform:ma})}catch(t){if(Si(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){ia(e);try{return await pa(this.fetch,"PUT","".concat(this.url,"/admin/users/").concat(e),{body:t,headers:this.headers,xform:ma})}catch(n){if(Si(n))return{data:{user:null},error:n};throw n}}async deleteUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];ia(e);try{return await pa(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,body:{should_soft_delete:t},xform:ma})}catch(n){if(Si(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){ia(e.userId);try{const{data:t,error:n}=await pa(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e.userId,"/factors"),{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:n}}catch(t){if(Si(t))return{data:null,error:t};throw t}}async _deleteFactor(e){ia(e.userId),ia(e.id);try{return{data:await pa(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e.userId,"/factors/").concat(e.id),{headers:this.headers}),error:null}}catch(t){if(Si(t))return{data:null,error:t};throw t}}}function Sa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const _a=!!(globalThis&&$i()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class Ea extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Ca extends Ea{}async function ja(e,t,n){_a&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),_a&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async r=>{if(!r){if(0===t)throw _a&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Ca('Acquiring an exclusive Navigator LockManager lock "'.concat(e,'" immediately failed'));if(_a)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(Wa){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",Wa)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}_a&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await n()}finally{_a&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}))}!function(){if("object"!==typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(Wa){"undefined"!==typeof self&&(self.globalThis=self)}}();const La={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:yi,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Pa(e,t,n){return await n()}const Oa={};class Na{constructor(e){var t,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Na.nextInstanceID,Na.nextInstanceID+=1,this.instanceID>0&&Ki()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},La),e);if(this.logDebugMessages=!!r.debug,"function"===typeof r.debug&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new ka({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=Zi(r.fetch),this.lock=r.lock||Pa,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:Ki()&&(null===(t=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=ja:this.lock=Pa,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(r.storage?this.storage=r.storage:$i()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Sa(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=Sa(this.memoryStorage)),Ki()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(Wa){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",Wa)}null===(n=this.broadcastChannel)||void 0===n||n.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}get jwks(){var e,t;return null!==(t=null===(e=Oa[this.storageKey])||void 0===e?void 0:e.jwks)&&void 0!==t?t:{keys:[]}}set jwks(e){Oa[this.storageKey]=Object.assign(Object.assign({},Oa[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return null!==(t=null===(e=Oa[this.storageKey])||void 0===e?void 0:e.cachedAt)&&void 0!==t?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Oa[this.storageKey]=Object.assign(Object.assign({},Oa[this.storageKey]),{cachedAt:e})}_debug(){if(this.logDebugMessages){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger("GoTrueClient@".concat(this.instanceID," (").concat(gi,") ").concat((new Date).toISOString()),...t)}return this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{const t=function(e){const t={},n=new URL(e);if(n.hash&&"#"===n.hash[0])try{new URLSearchParams(n.hash.substring(1)).forEach((e,n)=>{t[n]=e})}catch(Wa){}return n.searchParams.forEach((e,n)=>{t[n]=e}),t}(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),Ki()&&this.detectSessionInUrl&&"none"!==n){const{data:r,error:s}=await this._getSessionFromURL(t,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),function(e){return Si(e)&&"AuthImplicitGrantRedirectError"===e.name}(s)){const t=null===(e=s.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:i}=r;return this._debug("#_initialize()","detected session in URL",o,"redirect type",i),await this._saveSession(o),setTimeout(async()=>{"recovery"===i?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Si(t)?{error:t}:{error:new Ei("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,r;try{const s=await pa(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{data:null!==(n=null===(t=null===e||void 0===e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==n?n:{},gotrue_meta_security:{captcha_token:null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken}},xform:fa}),{data:o,error:i}=s;if(i||!o)return{data:{user:null,session:null},error:i};const a=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:l,session:a},error:null}}catch(s){if(Si(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var t,n,r;try{let s;if("email"in e){const{email:n,password:r,options:o}=e;let i=null,a=null;"pkce"===this.flowType&&([i,a]=await ra(this.storage,this.storageKey)),s=await pa(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,redirectTo:null===o||void 0===o?void 0:o.emailRedirectTo,body:{email:n,password:r,data:null!==(t=null===o||void 0===o?void 0:o.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null===o||void 0===o?void 0:o.captchaToken},code_challenge:i,code_challenge_method:a},xform:fa})}else{if(!("phone"in e))throw new Pi("You must provide either an email or phone number and a password");{const{phone:t,password:o,options:i}=e;s=await pa(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{phone:t,password:o,data:null!==(n=null===i||void 0===i?void 0:i.data)&&void 0!==n?n:{},channel:null!==(r=null===i||void 0===i?void 0:i.channel)&&void 0!==r?r:"sms",gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken}},xform:fa})}}const{data:o,error:i}=s;if(i||!o)return{data:{user:null,session:null},error:i};const a=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:l,session:a},error:null}}catch(s){if(Si(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let t;if("email"in e){const{email:n,password:r,options:s}=e;t=await pa(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{email:n,password:r,gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken}},xform:ga})}else{if(!("phone"in e))throw new Pi("You must provide either an email or phone number and a password");{const{phone:n,password:r,options:s}=e;t=await pa(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{phone:n,password:r,gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken}},xform:ga})}}const{data:n,error:r}=t;return r?{data:{user:null,session:null},error:r}:n&&n.session&&n.user?(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r}):{data:{user:null,session:null},error:new Li}}catch(t){if(Si(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,r,s;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(r=e.options)||void 0===r?void 0:r.queryParams,skipBrowserRedirect:null===(s=e.options)||void 0===s?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if("solana"===t)return await this.signInWithSolana(e);throw new Error('@supabase/auth-js: Unsupported chain "'.concat(t,'"'))}async signInWithSolana(e){var t,n,r,s,o,i,a,l,u,c,d,h;let p,f;if("message"in e)p=e.message,f=e.signature;else{const{chain:d,wallet:h,statement:g,options:m}=e;let v;if(Ki())if("object"===typeof h)v=h;else{const e=window;if(!("solana"in e)||"object"!==typeof e.solana||!("signIn"in e.solana&&"function"===typeof e.solana.signIn||"signMessage"in e.solana&&"function"===typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");v=e.solana}else{if("object"!==typeof h||!(null===m||void 0===m?void 0:m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=h}const y=new URL(null!==(t=null===m||void 0===m?void 0:m.url)&&void 0!==t?t:window.location.href);if("signIn"in v&&v.signIn){const e=await v.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null===m||void 0===m?void 0:m.signInWithSolana),{version:"1",domain:y.host,uri:y.href}),g?{statement:g}:null));let t;if(Array.isArray(e)&&e[0]&&"object"===typeof e[0])t=e[0];else{if(!(e&&"object"===typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");t=e}if(!("signedMessage"in t&&"signature"in t&&("string"===typeof t.signedMessage||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");p="string"===typeof t.signedMessage?t.signedMessage:(new TextDecoder).decode(t.signedMessage),f=t.signature}else{if(!("signMessage"in v)||"function"!==typeof v.signMessage||!("publicKey"in v)||"object"!==typeof v||!v.publicKey||!("toBase58"in v.publicKey)||"function"!==typeof v.publicKey.toBase58)throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=["".concat(y.host," wants you to sign in with your Solana account:"),v.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1","URI: ".concat(y.href),"Issued At: ".concat(null!==(r=null===(n=null===m||void 0===m?void 0:m.signInWithSolana)||void 0===n?void 0:n.issuedAt)&&void 0!==r?r:(new Date).toISOString()),...(null===(s=null===m||void 0===m?void 0:m.signInWithSolana)||void 0===s?void 0:s.notBefore)?["Not Before: ".concat(m.signInWithSolana.notBefore)]:[],...(null===(o=null===m||void 0===m?void 0:m.signInWithSolana)||void 0===o?void 0:o.expirationTime)?["Expiration Time: ".concat(m.signInWithSolana.expirationTime)]:[],...(null===(i=null===m||void 0===m?void 0:m.signInWithSolana)||void 0===i?void 0:i.chainId)?["Chain ID: ".concat(m.signInWithSolana.chainId)]:[],...(null===(a=null===m||void 0===m?void 0:m.signInWithSolana)||void 0===a?void 0:a.nonce)?["Nonce: ".concat(m.signInWithSolana.nonce)]:[],...(null===(l=null===m||void 0===m?void 0:m.signInWithSolana)||void 0===l?void 0:l.requestId)?["Request ID: ".concat(m.signInWithSolana.requestId)]:[],...(null===(c=null===(u=null===m||void 0===m?void 0:m.signInWithSolana)||void 0===u?void 0:u.resources)||void 0===c?void 0:c.length)?["Resources",...m.signInWithSolana.resources.map(e=>"- ".concat(e))]:[]].join("\n");const e=await v.signMessage((new TextEncoder).encode(p),"utf8");if(!e||!(e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");f=e}}try{const{data:t,error:n}=await pa(this.fetch,"POST","".concat(this.url,"/token?grant_type=web3"),{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:qi(f)},(null===(d=e.options)||void 0===d?void 0:d.captchaToken)?{gotrue_meta_security:{captcha_token:null===(h=e.options)||void 0===h?void 0:h.captchaToken}}:null),xform:fa});if(n)throw n;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign({},t),error:n}):{data:{user:null,session:null},error:new Li}}catch(g){if(Si(g))return{data:{user:null,session:null},error:g};throw g}}async _exchangeCodeForSession(e){const t=await Yi(this.storage,"".concat(this.storageKey,"-code-verifier")),[n,r]=(null!==t&&void 0!==t?t:"").split("/");try{const{data:t,error:s}=await pa(this.fetch,"POST","".concat(this.url,"/token?grant_type=pkce"),{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:fa});if(await Qi(this.storage,"".concat(this.storageKey,"-code-verifier")),s)throw s;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!==r&&void 0!==r?r:null}),error:s}):{data:{user:null,session:null,redirectType:null},error:new Li}}catch(s){if(Si(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:t,provider:n,token:r,access_token:s,nonce:o}=e,i=await pa(this.fetch,"POST","".concat(this.url,"/token?grant_type=id_token"),{headers:this.headers,body:{provider:n,id_token:r,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:null===t||void 0===t?void 0:t.captchaToken}},xform:fa}),{data:a,error:l}=i;return l?{data:{user:null,session:null},error:l}:a&&a.session&&a.user?(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:l}):{data:{user:null,session:null},error:new Li}}catch(t){if(Si(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,r,s,o;try{if("email"in e){const{email:r,options:s}=e;let o=null,i=null;"pkce"===this.flowType&&([o,i]=await ra(this.storage,this.storageKey));const{error:a}=await pa(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{email:r,data:null!==(t=null===s||void 0===s?void 0:s.data)&&void 0!==t?t:{},create_user:null===(n=null===s||void 0===s?void 0:s.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken},code_challenge:o,code_challenge_method:i},redirectTo:null===s||void 0===s?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:a}}if("phone"in e){const{phone:t,options:n}=e,{data:i,error:a}=await pa(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{phone:t,data:null!==(r=null===n||void 0===n?void 0:n.data)&&void 0!==r?r:{},create_user:null===(s=null===n||void 0===n?void 0:n.shouldCreateUser)||void 0===s||s,gotrue_meta_security:{captcha_token:null===n||void 0===n?void 0:n.captchaToken},channel:null!==(o=null===n||void 0===n?void 0:n.channel)&&void 0!==o?o:"sms"}});return{data:{user:null,session:null,messageId:null===i||void 0===i?void 0:i.message_id},error:a}}throw new Pi("You must provide either an email or phone number.")}catch(i){if(Si(i))return{data:{user:null,session:null},error:i};throw i}}async verifyOtp(e){var t,n;try{let r,s;"options"in e&&(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo,s=null===(n=e.options)||void 0===n?void 0:n.captchaToken);const{data:o,error:i}=await pa(this.fetch,"POST","".concat(this.url,"/verify"),{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:r,xform:fa});if(i)throw i;if(!o)throw new Error("An error occurred on token verification.");const a=o.session,l=o.user;return(null===a||void 0===a?void 0:a.access_token)&&(await this._saveSession(a),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:l,session:a},error:null}}catch(r){if(Si(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var t,n,r;try{let s=null,o=null;return"pkce"===this.flowType&&([s,o]=await ra(this.storage,this.storageKey)),await pa(this.fetch,"POST","".concat(this.url,"/sso"),{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==n?n:void 0}),(null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:va})}catch(s){if(Si(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new ji;const{error:r}=await pa(this.fetch,"GET","".concat(this.url,"/reauthenticate"),{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(Si(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t="".concat(this.url,"/resend");if("email"in e){const{email:n,type:r,options:s}=e,{error:o}=await pa(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken}},redirectTo:null===s||void 0===s?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}if("phone"in e){const{phone:n,type:r,options:s}=e,{data:o,error:i}=await pa(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:null===o||void 0===o?void 0:o.message_id},error:i}}throw new Pi("You must provide either an email or phone number and a type")}catch(t){if(Si(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch(Wa){}})()),n}return await this.lock("lock:".concat(this.storageKey),e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(Wa){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await Yi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=!!e.expires_at&&1e3*e.expires_at-Date.now()<vi;if(this._debug("#__loadSession()","session has".concat(n?"":" not"," expired"),"expires_at",e.expires_at),!n){if(this.userStorage){const t=await Yi(this.userStorage,this.storageKey+"-user");(null===t||void 0===t?void 0:t.user)?e.user=t.user:e.user=aa()}if(this.storage.isServer&&e.user){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,n,r)=>(t||"user"!==n||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,n,r))})}return{data:{session:e},error:null}}const{session:r,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;return await this._acquireLock(-1,async()=>await this._getUser())}async _getUser(e){try{return e?await pa(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:e,xform:ma}):await this._useSession(async e=>{var t,n,r;const{data:s,error:o}=e;if(o)throw o;return(null===(t=s.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await pa(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:null!==(r=null===(n=s.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0,xform:ma}):{data:{user:null},error:new ji}})}catch(t){if(Si(t))return function(e){return Si(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await Qi(this.storage,"".concat(this.storageKey,"-code-verifier"))),{data:{user:null},error:t};throw t}}async updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await this._useSession(async n=>{const{data:r,error:s}=n;if(s)throw s;if(!r.session)throw new ji;const o=r.session;let i=null,a=null;"pkce"===this.flowType&&null!=e.email&&([i,a]=await ra(this.storage,this.storageKey));const{data:l,error:u}=await pa(this.fetch,"PUT","".concat(this.url,"/user"),{headers:this.headers,redirectTo:null===t||void 0===t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:i,code_challenge_method:a}),jwt:o.access_token,xform:ma});if(u)throw u;return o.user=l.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(Si(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ji;const t=Date.now()/1e3;let n=t,r=!0,s=null;const{payload:o}=ea(e.access_token);if(o.exp&&(n=o.exp,r=n<=t),r){const{session:t,error:n}=await this._callRefreshToken(e.refresh_token);if(n)return{data:{user:null,session:null},error:n};if(!t)return{data:{user:null,session:null},error:null};s=t}else{const{data:r,error:o}=await this._getUser(e.access_token);if(o)throw o;s={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(t){if(Si(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:r,error:s}=t;if(s)throw s;e=null!==(n=r.session)&&void 0!==n?n:void 0}if(!(null===e||void 0===e?void 0:e.refresh_token))throw new ji;const{session:r,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(Si(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!Ki())throw new Oi("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Oi(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new Ni("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new Oi("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Ni("No code detected.");const{data:t,error:n}=await this._exchangeCodeForSession(e.code);if(n)throw n;const r=new URL(window.location.href);return r.searchParams.delete("code"),window.history.replaceState(window.history.state,"",r.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:s,refresh_token:o,expires_in:i,expires_at:a,token_type:l}=e;if(!s||!i||!o||!l)throw new Oi("No session defined in URL");const u=Math.round(Date.now()/1e3),c=parseInt(i);let d=u+c;a&&(d=parseInt(a));const h=d-u;1e3*h<=mi&&console.warn("@supabase/gotrue-js: Session as retrieved from URL expires in ".concat(h,"s, should have been closer to ").concat(c,"s"));const p=d-c;u-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,d,u):u-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,d,u);const{data:f,error:g}=await this._getUser(s);if(g)throw g;const m={provider_token:n,provider_refresh_token:r,access_token:s,expires_in:c,expires_at:d,refresh_token:o,token_type:l,user:f.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:e.type},error:null}}catch(n){if(Si(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Yi(this.storage,"".concat(this.storageKey,"-code-verifier"));return!(!e.code||!t)}async signOut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut(){let{scope:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this._useSession(async t=>{var n;const{data:r,error:s}=t;if(s)return{error:s};const o=null===(n=r.session)||void 0===n?void 0:n.access_token;if(o){const{error:t}=await this.admin.signOut(o,e);if(t&&(!function(e){return Si(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return{error:t}}return"others"!==e&&(await this._removeSession(),await Qi(this.storage,"".concat(this.storageKey,"-code-verifier"))),{error:null}})}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>{await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,r;try{const{data:{session:r},error:s}=t;if(s)throw s;await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(s){await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,r=null;"pkce"===this.flowType&&([n,r]=await ra(this.storage,this.storageKey,!0));try{return await pa(this.fetch,"POST","".concat(this.url,"/recover"),{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(s){if(Si(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(t){if(Si(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:n,error:r}=await this._useSession(async t=>{var n,r,s,o,i;const{data:a,error:l}=t;if(l)throw l;const u=await this._getUrlForProvider("".concat(this.url,"/user/identities/authorize"),e.provider,{redirectTo:null===(n=e.options)||void 0===n?void 0:n.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(s=e.options)||void 0===s?void 0:s.queryParams,skipBrowserRedirect:!0});return await pa(this.fetch,"GET",u,{headers:this.headers,jwt:null!==(i=null===(o=a.session)||void 0===o?void 0:o.access_token)&&void 0!==i?i:void 0})});if(r)throw r;return Ki()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null===n||void 0===n?void 0:n.url),{data:{provider:e.provider,url:null===n||void 0===n?void 0:n.url},error:null}}catch(n){if(Si(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,r;const{data:s,error:o}=t;if(o)throw o;return await pa(this.fetch,"DELETE","".concat(this.url,"/user/identities/").concat(e.identity_id),{headers:this.headers,jwt:null!==(r=null===(n=s.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0})})}catch(t){if(Si(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t="#_refreshAccessToken(".concat(e.substring(0,5),"...)");this._debug(t,"begin");try{const s=Date.now();return await(n=async n=>(n>0&&await async function(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}(200*Math.pow(2,n-1)),this._debug(t,"refreshing attempt",n),await pa(this.fetch,"POST","".concat(this.url,"/token?grant_type=refresh_token"),{body:{refresh_token:e},headers:this.headers,xform:fa})),r=(e,t)=>{const n=200*Math.pow(2,e);return t&&Ti(t)&&Date.now()+n-s<mi},new Promise((e,t)=>{(async()=>{for(let s=0;s<1/0;s++)try{const t=await n(s);if(!r(s,null,t))return void e(t)}catch(Wa){if(!r(s,Wa))return void t(Wa)}})()}))}catch(s){if(this._debug(t,"error",s),Si(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(t,"end")}var n,r}_isValidSession(e){return"object"===typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider("".concat(this.url,"/authorize"),e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),Ki()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Yi(this.storage,this.storageKey);if(s&&this.userStorage){let t=await Yi(this.userStorage,this.storageKey+"-user");this.storage.isServer||!Object.is(this.storage,this.userStorage)||t||(t={user:s.user},await Ji(this.userStorage,this.storageKey+"-user",t)),s.user=null!==(e=null===t||void 0===t?void 0:t.user)&&void 0!==e?e:aa()}else if(s&&!s.user&&!s.user){const e=await Yi(this.storage,this.storageKey+"-user");e&&(null===e||void 0===e?void 0:e.user)?(s.user=e.user,await Qi(this.storage,this.storageKey+"-user"),await Ji(this.storage,this.storageKey,s)):s.user=aa()}if(this._debug(n,"session from storage",s),!this._isValidSession(s))return this._debug(n,"session is not valid"),void(null!==s&&await this._removeSession());const o=1e3*(null!==(t=s.expires_at)&&void 0!==t?t:1/0)-Date.now()<vi;if(this._debug(n,"session has".concat(o?"":" not"," expired with margin of ").concat(vi,"s")),o){if(this.autoRefreshToken&&s.refresh_token){const{error:e}=await this._callRefreshToken(s.refresh_token);e&&(console.error(e),Ti(e)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else if(s.user&&!0===s.user.__isUserNotAvailableProxy)try{const{data:e,error:t}=await this._getUser(s.access_token);!t&&(null===e||void 0===e?void 0:e.user)?(s.user=e.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(r){console.error("Error getting user data:",r),this._debug(n,"error getting user data, skipping SIGNED_IN notification",r)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){return this._debug(n,"error",s),void console.error(s)}finally{this._debug(n,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new ji;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r="#_callRefreshToken(".concat(e.substring(0,5),"...)");this._debug(r,"begin");try{this.refreshingDeferred=new Xi;const{data:t,error:n}=await this._refreshAccessToken(e);if(n)throw n;if(!t.session)throw new ji;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const r={session:t.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(s){if(this._debug(r,"error",s),Si(s)){const e={session:null,error:s};return Ti(s)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(n=this.refreshingDeferred)||void 0===n||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r="#_notifyAllSubscribers(".concat(e,")");this._debug(r,"begin",t,"broadcast = ".concat(n));try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const r=[],s=Array.from(this.stateChangeEmitters.values()).map(async n=>{try{await n.callback(e,t)}catch(Wa){r.push(Wa)}});if(await Promise.all(s),r.length>0){for(let e=0;e<r.length;e+=1)console.error(r[e]);throw r[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),n=t.user&&!0===t.user.__isUserNotAvailableProxy;if(this.userStorage){!n&&t.user&&await Ji(this.userStorage,this.storageKey+"-user",{user:t.user});const e=Object.assign({},t);delete e.user;const r=la(e);await Ji(this.storage,this.storageKey,r)}else{const e=la(t);await Ji(this.storage,this.storageKey,e)}}async _removeSession(){this._debug("#_removeSession()"),await Qi(this.storage,this.storageKey),await Qi(this.storage,this.storageKey+"-code-verifier"),await Qi(this.storage,this.storageKey+"-user"),this.userStorage&&await Qi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ki()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(Wa){console.error("removing visibilitychange callback failed",Wa)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),mi);this.autoRefreshTicker=e,e&&"object"===typeof e&&"function"===typeof e.unref?e.unref():"undefined"!==typeof Deno&&"function"===typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const r=Math.floor((1e3*n.expires_at-e)/mi);this._debug("#_autoRefreshTokenTick()","access token expires in ".concat(r," ticks, a tick lasts ").concat(mi,"ms, refresh threshold is ").concat(3," ticks")),r<=3&&await this._callRefreshToken(n.refresh_token)})}catch(Wa){console.error("Auto refresh tick failed with error. This is likely a transient error.",Wa)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(Wa){if(!(Wa.isAcquireTimeout||Wa instanceof Ea))throw Wa;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ki()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t="#_onVisibilityChanged(".concat(e,")");this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const r=["provider=".concat(encodeURIComponent(t))];if((null===n||void 0===n?void 0:n.redirectTo)&&r.push("redirect_to=".concat(encodeURIComponent(n.redirectTo))),(null===n||void 0===n?void 0:n.scopes)&&r.push("scopes=".concat(encodeURIComponent(n.scopes))),"pkce"===this.flowType){const[e,t]=await ra(this.storage,this.storageKey),n=new URLSearchParams({code_challenge:"".concat(encodeURIComponent(e)),code_challenge_method:"".concat(encodeURIComponent(t))});r.push(n.toString())}if(null===n||void 0===n?void 0:n.queryParams){const e=new URLSearchParams(n.queryParams);r.push(e.toString())}return(null===n||void 0===n?void 0:n.skipBrowserRedirect)&&r.push("skip_http_redirect=".concat(n.skipBrowserRedirect)),"".concat(e,"?").concat(r.join("&"))}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:r,error:s}=t;return s?{data:null,error:s}:await pa(this.fetch,"DELETE","".concat(this.url,"/factors/").concat(e.factorId),{headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token})})}catch(t){if(Si(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,r;const{data:s,error:o}=t;if(o)return{data:null,error:o};const i=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:{issuer:e.issuer}),{data:a,error:l}=await pa(this.fetch,"POST","".concat(this.url,"/factors"),{body:i,headers:this.headers,jwt:null===(n=null===s||void 0===s?void 0:s.session)||void 0===n?void 0:n.access_token});return l?{data:null,error:l}:("totp"===e.factorType&&(null===(r=null===a||void 0===a?void 0:a.totp)||void 0===r?void 0:r.qr_code)&&(a.totp.qr_code="data:image/svg+xml;utf-8,".concat(a.totp.qr_code)),{data:a,error:null})})}catch(t){if(Si(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:s}=t;if(s)return{data:null,error:s};const{data:o,error:i}=await pa(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/verify"),{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token});return i?{data:null,error:i}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:i})})}catch(t){if(Si(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:s}=t;return s?{data:null,error:s}:await pa(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/challenge"),{body:{channel:e.channel},headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token})})}catch(t){if(Si(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=(null===e||void 0===e?void 0:e.factors)||[],r=n.filter(e=>"totp"===e.factor_type&&"verified"===e.status),s=n.filter(e=>"phone"===e.factor_type&&"verified"===e.status);return{data:{all:n,totp:r,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,n;const{data:{session:r},error:s}=e;if(s)return{data:null,error:s};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=ea(r.access_token);let i=null;o.aal&&(i=o.aal);let a=i;(null!==(n=null===(t=r.user.factors)||void 0===t?void 0:t.filter(e=>"verified"===e.status))&&void 0!==n?n:[]).length>0&&(a="aal2");return{data:{currentLevel:i,nextLevel:a,currentAuthenticationMethods:o.amr||[]},error:null}}))}async fetchJwk(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]}).keys.find(t=>t.kid===e);if(t)return t;const n=Date.now();if(t=this.jwks.keys.find(t=>t.kid===e),t&&this.jwks_cached_at+6e5>n)return t;const{data:r,error:s}=await pa(this.fetch,"GET","".concat(this.url,"/.well-known/jwks.json"),{headers:this.headers});if(s)throw s;return r.keys&&0!==r.keys.length?(this.jwks=r,this.jwks_cached_at=n,t=r.keys.find(t=>t.kid===e),t||null):null}async getClaims(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let n=e;if(!n){const{data:e,error:t}=await this.getSession();if(t||!e.session)return{data:null,error:t};n=e.session.access_token}const{header:r,payload:s,signature:o,raw:{header:i,payload:a}}=ea(n);(null===t||void 0===t?void 0:t.allowExpired)||function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(s.exp);const l=r.alg&&!r.alg.startsWith("HS")&&r.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?await this.fetchJwk(r.kid,(null===t||void 0===t?void 0:t.keys)?{keys:t.keys}:null===t||void 0===t?void 0:t.jwks):null;if(!l){const{error:e}=await this.getUser(n);if(e)throw e;return{data:{claims:s,header:r,signature:o},error:null}}const u=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(r.alg),c=await crypto.subtle.importKey("jwk",l,u,!0,["verify"]);if(!await crypto.subtle.verify(u,c,o,function(e){const t=[];return Vi(e,e=>t.push(e)),new Uint8Array(t)}("".concat(i,".").concat(a))))throw new Ii("Invalid JWT signature");return{data:{claims:s,header:r,signature:o},error:null}}catch(n){if(Si(n))return{data:null,error:n};throw n}}}Na.nextInstanceID=0;const Ma=Na;class Ta extends Ma{constructor(e){super(e)}}var Ra=function(e,t,n,r){return new(n||(n=Promise))(function(s,o){function i(e){try{l(r.next(e))}catch(Wa){o(Wa)}}function a(e){try{l(r.throw(e))}catch(Wa){o(Wa)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,a)}l((r=r.apply(e,t||[])).next())})};class Ia{constructor(e,t,n){var r,s,o;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const i=(a=e).endsWith("/")?a:a+"/";var a;const l=new URL(i);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u="sb-".concat(l.hostname.split(".")[0],"-auth-token"),c=function(e,t){var n,r;const{db:s,auth:o,realtime:i,global:a}=e,{db:l,auth:u,realtime:c,global:d}=t,h={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},u),o),realtime:Object.assign(Object.assign({},c),i),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},null!==(n=null===d||void 0===d?void 0:d.headers)&&void 0!==n?n:{}),null!==(r=null===a||void 0===a?void 0:a.headers)&&void 0!==r?r:{})}),accessToken:()=>fi(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}(null!==n&&void 0!==n?n:{},{db:ai,realtime:ui,auth:Object.assign(Object.assign({},li),{storageKey:u}),global:ii});this.storageKey=null!==(r=c.auth.storageKey)&&void 0!==r?r:"",this.headers=null!==(s=c.global.headers)&&void 0!==s?s:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error("@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.".concat(String(t)," is not possible"))}})):this.auth=this._initSupabaseAuthClient(null!==(o=c.auth)&&void 0!==o?o:{},this.headers,c.global.fetch),this.fetch=pi(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new $s(new URL("rest/v1",l).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new si(this.storageUrl.href,this.headers,this.fetch,null===n||void 0===n?void 0:n.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new Ks(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.rest.rpc(e,t,n)}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return Ra(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return null!==(t=null===(e=n.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:this.supabaseKey})}_initSupabaseAuthClient(e,t,n){let{autoRefreshToken:r,persistSession:s,detectSessionInUrl:o,storage:i,storageKey:a,flowType:l,lock:u,debug:c}=e;const d={Authorization:"Bearer ".concat(this.supabaseKey),apikey:"".concat(this.supabaseKey)};return new Ta({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),t),storageKey:a,autoRefreshToken:r,persistSession:s,detectSessionInUrl:o,storage:i,flowType:l,lock:u,debug:c,fetch:n,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Ro(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null===e||void 0===e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null===t||void 0===t?void 0:t.access_token)})}_handleTokenChanged(e,t,n){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===n?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=n}}(function(){if("undefined"!==typeof window)return!1;if("undefined"===typeof process)return!1;const e=process.version;if(void 0===e||null===e)return!1;const t=e.match(/^v(\d+)\./);return!!t&&parseInt(t[1],10)<=18})()&&console.warn("\u26a0\ufe0f  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Da=((e,t,n)=>new Ia(e,t,n))("https://ouscjkmgdsnzakairivo.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im91c2Nqa21nZHNuemFrYWlyaXZvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU5MzY0MzYsImV4cCI6MjA3MTUxMjQzNn0.ii49ymR7Bi7WZTYOkYnE1-kJIlZ7DV5xR_tM3kbX-MU"),Aa=e=>{let{currentView:t,setCurrentView:n,isLoggedIn:s,session:o,showProfileModal:i,setShowProfileModal:a,profileForm:l,setProfileForm:u,handleProfileChange:c,handleLogout:d,setShowLoginModal:h,setShowRegistrationModal:p}=e;const[f,g]=(0,r.useState)(!1),m=ge(),v=e=>{n(e),m("/".concat(e)),g(!1)};return(0,Et.jsx)("header",{className:"bg-white shadow-sm sticky top-0 z-40 border-b border-gray-200",children:(0,Et.jsx)("div",{className:"max-w-7xl mx-auto px-6 py-4",children:(0,Et.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Et.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Et.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center shadow-sm",children:(0,Et.jsx)("span",{className:"text-white font-bold text-xl",children:"B"})}),(0,Et.jsxs)("h1",{className:"text-2xl font-bold text-gray-900",children:[(0,Et.jsx)("span",{className:"text-blue-600",children:"Broker"}),(0,Et.jsx)("span",{className:"text-gray-800",children:"Connect"})]})]}),(0,Et.jsxs)("nav",{className:"hidden md:flex items-center space-x-1",children:[(0,Et.jsx)("button",{type:"button",onClick:()=>{n("public"),m("/")},className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat("public"===t?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-100"),children:"Home"}),(0,Et.jsxs)("div",{className:"relative",children:[(0,Et.jsxs)("button",{type:"button",onClick:()=>g(!f),className:"px-4 py-2 rounded-lg font-medium text-gray-600 hover:bg-gray-100 transition-colors flex items-center",children:["Categories",(0,Et.jsx)("i",{className:"fas fa-chevron-down ml-2 text-xs"})]}),f&&(0,Et.jsxs)("div",{className:"absolute left-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50",children:[(0,Et.jsx)("button",{type:"button",onClick:()=>v("apartments"),className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:"Apartments"}),(0,Et.jsx)("button",{type:"button",onClick:()=>v("cars"),className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:"Cars"}),(0,Et.jsx)("button",{type:"button",onClick:()=>v("land"),className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:"Land"})]})]}),s&&(0,Et.jsxs)(Et.Fragment,{children:[(0,Et.jsx)("button",{type:"button",onClick:()=>n("private"),className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat("private"===t?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-100"),children:"My Listings"}),(0,Et.jsx)("button",{type:"button",onClick:()=>n("favorites"),className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat("favorites"===t?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-100"),children:"Favorites"})]}),s?(0,Et.jsxs)("div",{className:"relative group",children:[(0,Et.jsxs)("button",{className:"flex items-center space-x-2",children:[(0,Et.jsx)("div",{className:"w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center text-white font-medium",children:o.user.email.charAt(0).toUpperCase()}),(0,Et.jsx)("span",{className:"text-gray-700",children:o.user.email.split("@")[0]})]}),(0,Et.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 hidden group-hover:block z-50",children:[(0,Et.jsx)("button",{type:"button",onClick:()=>{u({name:o.user.user_metadata.name||""}),a(!0)},className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:"Update Profile"}),(0,Et.jsx)("button",{type:"button",onClick:d,className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:"Logout"})]})]}):(0,Et.jsxs)(Et.Fragment,{children:[(0,Et.jsx)("button",{type:"button",onClick:()=>h(!0),className:"px-4 py-2 rounded-lg font-medium bg-blue-600 text-white hover:bg-blue-700 transition-colors",children:"Login"}),(0,Et.jsx)("button",{type:"button",onClick:()=>p(!0),className:"ml-2 px-4 py-2 rounded-lg font-medium bg-green-600 text-white hover:bg-green-700 transition-colors",children:"Register"})]})]}),(0,Et.jsx)("div",{className:"md:hidden",children:(0,Et.jsx)("button",{className:"text-gray-500 hover:text-gray-700",children:(0,Et.jsx)("i",{className:"fas fa-bars text-xl"})})})]})})})},Ua=e=>{let{setCurrentView:t,isLoggedIn:n,setShowAddForm:r}=e;const s=ge();return(0,Et.jsx)("div",{className:"bg-gray-50 min-h-screen",children:(0,Et.jsxs)("main",{className:"max-w-7xl mx-auto px-6 py-16",children:[(0,Et.jsxs)("div",{className:"text-center mb-16",children:[(0,Et.jsx)("h1",{className:"text-5xl font-bold text-gray-900 mb-6",children:"Welcome to BrokerConnect"}),(0,Et.jsx)("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Your ultimate marketplace for premium apartments, reliable cars, and valuable land. Discover your next great investment with ease, precision, and trust."}),(0,Et.jsxs)("div",{className:"mt-10 flex justify-center space-x-4",children:[(0,Et.jsx)("button",{type:"button",onClick:()=>{t("apartments"),s("/apartments")},className:"px-8 py-3 bg-blue-600 text-white font-semibold rounded-lg shadow hover:bg-blue-700 transition-colors",children:"Browse Apartments"}),(0,Et.jsx)("button",{type:"button",onClick:()=>{t("cars"),s("/cars")},className:"px-8 py-3 bg-green-600 text-white font-semibold rounded-lg shadow hover:bg-green-700 transition-colors",children:"Browse Cars"}),(0,Et.jsx)("button",{type:"button",onClick:()=>{t("land"),s("/land")},className:"px-8 py-3 bg-yellow-600 text-white font-semibold rounded-lg shadow hover:bg-yellow-700 transition-colors",children:"Browse Land"})]})]}),(0,Et.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-16",children:[(0,Et.jsxs)("div",{className:"bg-white p-8 rounded-2xl shadow-lg border border-blue-200",children:[(0,Et.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mb-6",children:(0,Et.jsx)("i",{className:"fas fa-building text-blue-600 text-2xl"})}),(0,Et.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Premium Apartments"}),(0,Et.jsx)("p",{className:"text-gray-600 mb-6",children:"Discover luxury apartments in prime locations with top-notch amenities."}),(0,Et.jsx)("button",{type:"button",onClick:()=>{t("apartments"),s("/apartments")},className:"px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors",children:"View Apartments"})]}),(0,Et.jsxs)("div",{className:"bg-white p-8 rounded-2xl shadow-lg border border-green-200",children:[(0,Et.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-6",children:(0,Et.jsx)("i",{className:"fas fa-car text-green-600 text-2xl"})}),(0,Et.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Reliable Cars"}),(0,Et.jsx)("p",{className:"text-gray-600 mb-6",children:"Find quality vehicles from trusted sellers with verified history reports."}),(0,Et.jsx)("button",{type:"button",onClick:()=>{t("cars"),s("/cars")},className:"px-6 py-3 bg-green-600 text-white font-medium rounded-lg hover:bg-green-700 transition-colors",children:"View Cars"})]}),(0,Et.jsxs)("div",{className:"bg-white p-8 rounded-2xl shadow-lg border border-yellow-200",children:[(0,Et.jsx)("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mb-6",children:(0,Et.jsx)("i",{className:"fas fa-tree text-yellow-600 text-2xl"})}),(0,Et.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Valuable Land"}),(0,Et.jsx)("p",{className:"text-gray-600 mb-6",children:"Invest in prime land parcels with great potential for development."}),(0,Et.jsx)("button",{type:"button",onClick:()=>{t("land"),s("/land")},className:"px-6 py-3 bg-yellow-600 text-white font-medium rounded-lg hover:bg-yellow-700 transition-colors",children:"View Land"})]})]}),(0,Et.jsxs)("div",{className:"text-center",children:[(0,Et.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"How It Works"}),(0,Et.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,Et.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm",children:[(0,Et.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Et.jsx)("span",{className:"text-blue-600 font-bold",children:"1"})}),(0,Et.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Browse Listings"}),(0,Et.jsx)("p",{className:"text-gray-600",children:"Explore our extensive collection of properties, vehicles, and land."})]}),(0,Et.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm",children:[(0,Et.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Et.jsx)("span",{className:"text-blue-600 font-bold",children:"2"})}),(0,Et.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Connect with Brokers"}),(0,Et.jsx)("p",{className:"text-gray-600",children:"Get in touch with professional brokers for expert guidance."})]}),(0,Et.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm",children:[(0,Et.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Et.jsx)("span",{className:"text-blue-600 font-bold",children:"3"})}),(0,Et.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Make Your Investment"}),(0,Et.jsx)("p",{className:"text-gray-600",children:"Secure your next great investment with confidence and ease."})]})]})]})]})})},za=e=>{let{category:t,title:n,colorClass:r,listings:s,loading:o,currentImageIndex:i,handleSelectListing:a,handleToggleFavorite:l,favorites:u,isLoggedIn:c,handleOpenChat:d,setListingForReview:h,setShowReviewModal:p,handleShareListing:f,handleOpenNotesModal:g,currentView:m}=e;const v=ge();return(0,Et.jsx)("div",{className:"bg-gray-50 min-h-screen",children:(0,Et.jsxs)("main",{className:"max-w-7xl mx-auto px-6 py-8",children:[(0,Et.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,Et.jsxs)("div",{children:[(0,Et.jsxs)("button",{type:"button",onClick:()=>v("/"),className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors mb-4",children:[(0,Et.jsx)("i",{className:"fas fa-arrow-left mr-2"}),(0,Et.jsx)("span",{children:"Back to Home"})]}),(0,Et.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:n})]}),(0,Et.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Et.jsxs)("div",{className:"relative flex-grow max-w-md",children:[(0,Et.jsx)("input",{type:"text",placeholder:"Search by title, description, or location...",className:"w-full p-3 pl-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,Et.jsx)("i",{className:"fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]}),(0,Et.jsxs)("button",{type:"button",className:"px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[(0,Et.jsx)("i",{className:"fas fa-search mr-2"}),"Search"]})]})]}),(0,Et.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:o?(0,Et.jsxs)("div",{className:"text-center text-gray-500 text-xl font-semibold col-span-full py-12",children:[(0,Et.jsx)("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mb-4"}),(0,Et.jsx)("p",{children:"Loading listings..."})]}):s.length>0?s.filter(e=>e.type===t.slice(0,-1)).map(e=>(0,Et.jsxs)("div",{onClick:()=>a(e.id),className:"bg-white rounded-2xl shadow-md overflow-hidden border border-gray-200 transition-all duration-300 hover:shadow-lg hover:border-blue-300 cursor-pointer",children:[e.image_urls&&e.image_urls.length>0?(0,Et.jsxs)("div",{className:"relative h-48 overflow-hidden",children:[(0,Et.jsx)("img",{src:e.image_urls[i[e.id]||0],alt:"Listing at ".concat(e.address),className:"w-full h-full object-cover"}),(0,Et.jsx)("div",{className:"absolute top-3 right-3 flex space-x-2",children:c&&(0,Et.jsx)("button",{type:"button",onClick:t=>{t.stopPropagation(),l(e.id)},className:"w-10 h-10 rounded-full flex items-center justify-center backdrop-blur-sm ".concat(u.includes(e.id)?"bg-red-500 text-white":"bg-white/80 text-gray-700"),children:(0,Et.jsx)("i",{className:"fas ".concat((u.includes(e.id),"fa-heart")," text-lg")})})})]}):(0,Et.jsx)("div",{className:"h-48 bg-gradient-to-br from-gray-200 to-gray-300 flex items-center justify-center text-gray-500",children:(0,Et.jsxs)("div",{className:"text-center",children:[(0,Et.jsx)("i",{className:"fas fa-home text-4xl mb-2"}),(0,Et.jsx)("p",{children:"No Image Available"})]})}),(0,Et.jsxs)("div",{className:"p-5",children:[(0,Et.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,Et.jsxs)("div",{children:[(0,Et.jsx)("h2",{className:"text-lg font-bold text-gray-900 mb-1",children:e.address}),(0,Et.jsx)("p",{className:"text-gray-600 text-sm",children:e.city})]}),(0,Et.jsxs)("div",{className:"text-xl font-bold text-blue-600 mb-3",children:["$",(new Intl.NumberFormat).format(e.price)]})]}),(0,Et.jsx)("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:e.description}),(0,Et.jsxs)("div",{className:"flex flex-wrap gap-2 mt-4",children:[c&&(0,Et.jsxs)(Et.Fragment,{children:[e.owner_id===e.owner_id?(0,Et.jsxs)(Et.Fragment,{children:[(0,Et.jsxs)("button",{className:"flex-1 text-center px-3 py-2 bg-gray-100 text-gray-700 font-medium rounded-lg hover:bg-gray-200 transition-colors text-sm",children:[(0,Et.jsx)("i",{className:"fas fa-edit mr-1"})," Edit"]}),(0,Et.jsxs)("button",{className:"flex-1 text-center px-3 py-2 bg-gray-100 text-gray-700 font-medium rounded-lg hover:bg-gray-200 transition-colors text-sm",children:[(0,Et.jsx)("i",{className:"fas fa-trash mr-1"})," Delete"]})]}):(0,Et.jsxs)("button",{type:"button",onClick:t=>{t.stopPropagation(),l(e.id)},className:"flex-1 text-center px-3 py-2 font-medium rounded-lg transition-colors text-sm ".concat(u.includes(e.id)?"bg-red-100 text-red-600 hover:bg-red-200":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[(0,Et.jsx)("i",{className:"fas ".concat((u.includes(e.id),"fa-heart")," mr-1")}),u.includes(e.id)?"Saved":"Save"]}),(0,Et.jsxs)("button",{type:"button",onClick:t=>{t.stopPropagation(),d(e)},className:"flex-1 text-center px-3 py-2 bg-blue-100 text-blue-600 font-medium rounded-lg hover:bg-blue-200 transition-colors text-sm",children:[(0,Et.jsx)("i",{className:"fas fa-comment mr-1"})," Chat"]})]}),(0,Et.jsxs)("button",{type:"button",onClick:t=>{t.stopPropagation(),h(e),p(!0)},className:"flex-1 text-center px-3 py-2 bg-gray-100 text-gray-700 font-medium rounded-lg hover:bg-gray-200 transition-colors text-sm",children:[(0,Et.jsx)("i",{className:"fas fa-star mr-1"})," Reviews"]}),(0,Et.jsxs)("button",{type:"button",onClick:t=>{t.stopPropagation(),f(e)},className:"flex-1 text-center px-3 py-2 bg-gray-100 text-gray-700 font-medium rounded-lg hover:bg-gray-200 transition-colors text-sm",children:[(0,Et.jsx)("i",{className:"fas fa-share-alt mr-1"})," Share"]}),"favorites"===m&&(0,Et.jsxs)("button",{type:"button",onClick:t=>{t.stopPropagation(),g(e)},className:"flex-1 text-center px-3 py-2 bg-purple-100 text-purple-700 font-medium rounded-lg hover:bg-purple-200 transition-colors text-sm",children:[(0,Et.jsx)("i",{className:"fas fa-sticky-note mr-1"})," Note"]})]})]})]},e.id)):(0,Et.jsxs)("div",{className:"text-center text-gray-500 text-xl font-semibold col-span-full py-12",children:[(0,Et.jsx)("i",{className:"fas ".concat((()=>{switch(t){case"apartments":return"fas fa-building";case"cars":return"fas fa-car";case"land":return"fas fa-tree";default:return"fas fa-home"}})()," text-4xl mb-4 text-gray-300")}),(0,Et.jsx)("p",{children:"No listings found."})]})})]})})},Ba=e=>{let{selectedListing:t,currentImageIndex:n,handlePrevImage:r,handleNextImage:s,renderStars:o,getAverageRating:i,isLoggedIn:a,favorites:l,handleToggleFavorite:u,setListingForReview:c,setShowReviewModal:d,setCurrentListing:h,setUploadedImage:p,setShowEditModal:f,handleOpenChat:g}=e;const m=ge();if(!t)return(0,Et.jsx)("div",{children:"Loading..."});return(0,Et.jsxs)("div",{className:"bg-gray-50 min-h-screen",children:[(0,Et.jsx)("div",{className:"bg-gradient-to-r ".concat((()=>{switch(t.type){case"house":return"from-blue-600 to-indigo-700";case"car":return"from-green-600 to-emerald-700";case"land":return"from-red-600 to-orange-700";default:return"from-gray-600 to-gray-700"}})()," py-6"),children:(0,Et.jsxs)("div",{className:"max-w-7xl mx-auto px-6",children:[(0,Et.jsxs)("button",{type:"button",onClick:()=>m(-1),className:"flex items-center text-white hover:text-gray-200 transition-colors mb-4",children:[(0,Et.jsx)("i",{className:"fas fa-arrow-left mr-2"}),(0,Et.jsx)("span",{children:"Back to List"})]}),(0,Et.jsx)("h1",{className:"text-3xl font-bold text-white",children:t.address})]})}),(0,Et.jsx)("main",{className:"max-w-7xl mx-auto px-6 py-8",children:(0,Et.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[(0,Et.jsxs)("div",{className:"relative w-full h-80 md:h-[500px]",children:[(0,Et.jsx)("img",{src:t.image_urls[n[t.id]||0],alt:"Property at ".concat(t.address),className:"w-full h-full object-cover"}),t.image_urls.length>1&&(0,Et.jsxs)(Et.Fragment,{children:[(0,Et.jsx)("button",{type:"button",onClick:e=>{e.stopPropagation(),r(t.id,t.image_urls)},className:"absolute left-4 top-1/2 -translate-y-1/2 bg-black bg-opacity-50 text-white p-3 rounded-full hover:bg-opacity-75 transition-colors",children:(0,Et.jsx)("i",{className:"fas fa-chevron-left"})}),(0,Et.jsx)("button",{type:"button",onClick:e=>{e.stopPropagation(),s(t.id,t.image_urls)},className:"absolute right-4 top-1/2 -translate-y-1/2 bg-black bg-opacity-50 text-white p-3 rounded-full hover:bg-opacity-75 transition-colors",children:(0,Et.jsx)("i",{className:"fas fa-chevron-right"})})]})]}),(0,Et.jsxs)("div",{className:"p-6 md:p-8",children:[(0,Et.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6",children:[(0,Et.jsxs)("div",{children:[(0,Et.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:t.address}),(0,Et.jsx)("p",{className:"text-lg text-gray-600",children:t.city})]}),(0,Et.jsx)("div",{className:"mt-4 md:mt-0",children:(0,Et.jsxs)("div",{className:"text-3xl font-bold text-blue-600",children:["$",(new Intl.NumberFormat).format(t.price)]})})]}),(0,Et.jsxs)("div",{className:"flex flex-wrap items-center gap-x-6 gap-y-3 text-gray-700 mb-8",children:["house"===t.type&&t.details&&(0,Et.jsxs)(Et.Fragment,{children:[(0,Et.jsxs)("div",{className:"flex items-center bg-blue-50 px-4 py-2 rounded-lg",children:[(0,Et.jsx)("i",{className:"fas fa-bed text-blue-500 mr-2"}),(0,Et.jsxs)("span",{className:"font-medium",children:[t.details.bedrooms," Beds"]})]}),(0,Et.jsxs)("div",{className:"flex items-center bg-blue-50 px-4 py-2 rounded-lg",children:[(0,Et.jsx)("i",{className:"fas fa-bath text-blue-500 mr-2"}),(0,Et.jsxs)("span",{className:"font-medium",children:[t.details.bathrooms," Baths"]})]}),(0,Et.jsxs)("div",{className:"flex items-center bg-blue-50 px-4 py-2 rounded-lg",children:[(0,Et.jsx)("i",{className:"fas fa-ruler-combined text-blue-500 mr-2"}),(0,Et.jsxs)("span",{className:"font-medium",children:[t.details.sqft," sqft"]})]})]}),"car"===t.type&&t.details&&(0,Et.jsxs)(Et.Fragment,{children:[(0,Et.jsxs)("div",{className:"flex items-center bg-blue-50 px-4 py-2 rounded-lg",children:[(0,Et.jsx)("i",{className:"fas fa-car text-blue-500 mr-2"}),(0,Et.jsxs)("span",{className:"font-medium",children:[t.details.make," ",t.details.model]})]}),(0,Et.jsxs)("div",{className:"flex items-center bg-blue-50 px-4 py-2 rounded-lg",children:[(0,Et.jsx)("i",{className:"fas fa-tachometer-alt text-blue-500 mr-2"}),(0,Et.jsxs)("span",{className:"font-medium",children:[t.details.mileage," miles"]})]}),(0,Et.jsxs)("div",{className:"flex items-center bg-blue-50 px-4 py-2 rounded-lg",children:[(0,Et.jsx)("i",{className:"fas fa-calendar-alt text-blue-500 mr-2"}),(0,Et.jsx)("span",{className:"font-medium",children:t.details.year})]})]}),"land"===t.type&&t.details&&(0,Et.jsxs)(Et.Fragment,{children:[(0,Et.jsxs)("div",{className:"flex items-center bg-blue-50 px-4 py-2 rounded-lg",children:[(0,Et.jsx)("i",{className:"fas fa-tree text-blue-500 mr-2"}),(0,Et.jsxs)("span",{className:"font-medium",children:[t.details.acres," Acres"]})]}),(0,Et.jsxs)("div",{className:"flex items-center bg-blue-50 px-4 py-2 rounded-lg",children:[(0,Et.jsx)("i",{className:"fas fa-ruler text-blue-500 mr-2"}),(0,Et.jsx)("span",{className:"font-medium",children:t.details.zoning})]})]})]}),(0,Et.jsxs)("div",{className:"mb-8",children:[(0,Et.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-3",children:"Description"}),(0,Et.jsx)("p",{className:"text-gray-600 leading-relaxed",children:t.description})]}),(0,Et.jsxs)("div",{className:"mb-8",children:[(0,Et.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-3",children:"Reviews"}),(0,Et.jsxs)("div",{className:"flex items-center space-x-2",children:[o(i(t.reviews)),(0,Et.jsxs)("span",{className:"text-gray-600",children:["(",t.reviews.length," reviews)"]})]})]}),(0,Et.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,Et.jsxs)("div",{className:"md:col-span-2",children:[(0,Et.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Contact Broker"}),(0,Et.jsxs)("p",{className:"text-gray-600 mb-6",children:["Interested in this ",(()=>{switch(t.type){case"house":return"Apartment";case"car":return"Car";case"land":return"Land";default:return"Property"}})().toLowerCase(),"? Reach out to the broker for more details or to schedule a viewing."]}),(0,Et.jsxs)("div",{className:"bg-blue-50 p-6 rounded-xl border border-blue-200 mb-6",children:[(0,Et.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Et.jsx)("i",{className:"fas fa-envelope text-blue-600 mr-3"}),(0,Et.jsx)("span",{className:"font-medium",children:"broker@example.com"})]}),(0,Et.jsx)("p",{className:"text-gray-600 text-sm",children:"Response time: Usually within 24 hours"})]}),(0,Et.jsxs)("form",{className:"space-y-4",children:[(0,Et.jsx)("div",{children:(0,Et.jsx)("input",{type:"text",placeholder:"Your Name",required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})}),(0,Et.jsx)("div",{children:(0,Et.jsx)("input",{type:"email",placeholder:"Your Email",required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})}),(0,Et.jsx)("div",{children:(0,Et.jsx)("textarea",{placeholder:"Your Message",rows:"4",required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})}),(0,Et.jsx)("button",{type:"submit",className:"w-full px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition-colors",children:"Send Message"})]})]}),(0,Et.jsx)("div",{children:(0,Et.jsxs)("div",{className:"bg-gray-50 p-6 rounded-xl border border-gray-200",children:[(0,Et.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Actions"}),(0,Et.jsxs)("div",{className:"space-y-3",children:[(0,Et.jsxs)("button",{type:"button",onClick:()=>{c(t),d(!0)},className:"w-full px-4 py-3 bg-white border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-colors flex items-center justify-center",children:[(0,Et.jsx)("i",{className:"fas fa-star mr-2 text-yellow-500"}),"View Reviews"]}),a&&(0,Et.jsxs)("button",{type:"button",onClick:e=>{e.stopPropagation(),u(t.id)},className:"w-full px-4 py-3 font-medium rounded-lg transition-colors flex items-center justify-center ".concat(l.includes(t.id)?"bg-red-50 border border-red-200 text-red-600 hover:bg-red-100":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"),children:[(0,Et.jsx)("i",{className:"fas ".concat((l.includes(t.id),"fa-heart")," mr-2")}),l.includes(t.id)?"Remove from Favorites":"Add to Favorites"]}),a&&t.owner_id===t.owner_id&&(0,Et.jsxs)("button",{type:"button",onClick:e=>{e.stopPropagation(),h(t),p(null),f(!0)},className:"w-full px-4 py-3 bg-white border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-colors flex items-center justify-center",children:[(0,Et.jsx)("i",{className:"fas fa-edit mr-2 text-blue-500"}),"Edit Listing"]}),a&&t.owner_id!==t.owner_id&&(0,Et.jsxs)("button",{type:"button",onClick:e=>{e.stopPropagation(),g(t)},className:"w-full px-4 py-3 bg-white border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-colors flex items-center justify-center",children:[(0,Et.jsx)("i",{className:"fas fa-comment mr-2 text-green-500"}),"Chat with Broker"]})]})]})})]})]})]})})]})},Fa=()=>{var e;const[t,n]=(0,r.useState)(null),[s,o]=(0,r.useState)([]),[i,a]=(0,r.useState)("public"),[l,c]=(0,r.useState)(!1),[d,h]=(0,r.useState)(!1),[p,f]=(0,r.useState)(null),[g,m]=(0,r.useState)(!1),[v,y]=(0,r.useState)(null),[b,w]=(0,r.useState)([]),[x,k]=(0,r.useState)(!1),[S,_]=(0,r.useState)(!1),[E,C]=(0,r.useState)(null),[j,L]=(0,r.useState)(!1),[P,O]=(0,r.useState)(""),[N,M]=(0,r.useState)(!1),[T,R]=(0,r.useState)(null),[I,D]=(0,r.useState)([]),[A,U]=(0,r.useState)(""),[z,B]=(0,r.useState)({}),[F,W]=(0,r.useState)(!1),[V,H]=(0,r.useState)(null),[q,K]=(0,r.useState)(!1),G=(0,r.useRef)(null),[$,Z]=(0,r.useState)(!1),[J,Y]=(0,r.useState)("price_asc"),[Q,X]=(0,r.useState)({make:"",mileageMax:""}),[ee,te]=(0,r.useState)({acresMax:"",zoning:""}),[ne,re]=(0,r.useState)(!1),[se,oe]=(0,r.useState)(null),[ie,ae]=(0,r.useState)({name:""}),[le,ue]=(0,r.useState)(!1),[ce,de]=(0,r.useState)(""),[he,pe]=(0,r.useState)({priceMin:"",priceMax:"",bedroomsMin:"",bathroomsMin:"",sqftMin:""}),[fe,ge]=(0,r.useState)("house"),[me,ve]=(0,r.useState)({}),[ye,be]=(0,r.useState)(null),{isLoaded:we,loadError:xe}=en({googleMapsApiKey:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_GOOGLE_MAPS_API_KEY}),ke=(0,r.useMemo)(()=>({lat:34.0522,lng:-118.2437}),[]),Se=(0,r.useCallback)(async()=>{W(!0);try{let e=Da.from("listings").select("*");ye&&(e=e.eq("type",ye)),ce&&(e=e.textSearch("search_vector",ce,{config:"english",type:"websearch"})),he.priceMin&&(e=e.gte("price",parseFloat(he.priceMin))),he.priceMax&&(e=e.lte("price",parseFloat(he.priceMax))),he.bedroomsMin&&(e=e.gte("details->>bedrooms",parseInt(he.bedroomsMin,10))),he.bathroomsMin&&(e=e.gte("details->>bathrooms",parseInt(he.bathroomsMin,10))),he.sqftMin&&(e=e.gte("details->>sqft",parseInt(he.sqftMin,10))),"car"===ye&&Q.make&&(e=e.ilike("details->>make","%".concat(Q.make,"%"))),"car"===ye&&Q.mileageMax&&(e=e.lte("details->>mileage",parseFloat(Q.mileageMax))),"land"===ye&&ee.acresMax&&(e=e.lte("details->>acres",parseFloat(ee.acresMax))),"land"===ye&&ee.zoning&&(e=e.ilike("details->>zoning","%".concat(ee.zoning,"%")));const{data:n,error:r}=await e;if(r)throw r;if(o(n),t){const{data:e,error:t}=await Da.from("favorites").select("listing_id");if(t)throw t;w(e.map(e=>e.listing_id))}}catch(e){console.error("Error fetching data:",e.message)}finally{W(!1)}},[ye,ce,he,Q,ee,t]);(0,r.useEffect)(()=>{const{data:e}=Da.auth.onAuthStateChange(async(e,t)=>{n(t),Se()});return()=>{e.subscription.unsubscribe()}},[]),(0,r.useEffect)(()=>{Se()},[ye,ce,he,Q,ee,t]);const _e=e=>{ae(u(u({},ie),{},{[e.target.name]:e.target.value}))},Ee=e=>{var n;oe(e),null!==t&&void 0!==t&&null!==(n=t.user)&&void 0!==n&&n.id&&(async e=>{var n;if(null!==t&&void 0!==t&&null!==(n=t.user)&&void 0!==n&&n.id)try{await Da.from("listing_views").insert({listing_id:e,viewer_id:t.user.id})}catch(r){console.error("Error tracking listing view:",r.message)}})(e)};(0,r.useEffect)(()=>{if(T&&t){const e=async()=>{const{data:e,error:t}=await Da.from("messages").select("*").eq("listing_id",T.id).order("created_at",{ascending:!0});t?console.error("Error fetching messages:",t):D(e)};e();const t=Da.channel("chat-room-".concat(T.id)).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:"listing_id=eq.".concat(T.id)},e=>{D(t=>[...t,e.new])}).subscribe();return()=>{Da.removeChannel(t)}}},[T,t]);const Ce=null===t||void 0===t||null===(e=t.user)||void 0===e?void 0:e.id,je=!!t;(0,r.useEffect)(()=>{De()},[I]);const Le=async e=>{if(!e)return null;const t=e.name.split(".").pop(),n="".concat(Math.random(),".").concat(t),r="listings/".concat(n);try{const{data:t,error:n}=await Da.storage.from("listing_photos").upload(r,e);if(n)throw n;const{data:s}=Da.storage.from("listing_photos").getPublicUrl(r);return s.publicUrl}catch(s){return console.error("Error uploading image:",s.message),null}},Pe=e=>{const t=e.target.files[0];H(t||null)},Oe=e=>{if(!e||0===e.length)return 0;return e.reduce((e,t)=>e+t.rating,0)/e.length},Ne=e=>{const t=[],n=Math.floor(e),r=e%1!==0;for(let s=0;s<n;s++)t.push((0,Et.jsx)("i",{className:"fas fa-star text-yellow-400"},"star-solid-".concat(s)));r&&t.push((0,Et.jsx)("i",{className:"fas fa-star-half-alt text-yellow-400"},"star-half"));for(let s=t.length;s<5;s++)t.push((0,Et.jsx)("i",{className:"far fa-star text-gray-400"},"star-empty-".concat(s)));return(0,Et.jsx)("div",{className:"flex space-x-0.5",children:t})},Te=async e=>{if(!Ce)return void alert("Please log in to add favorites.");const t=b.includes(e);W(!0);try{if(t){const{error:t}=await Da.from("favorites").delete().eq("user_id",Ce).eq("listing_id",e);if(t)throw t;const{error:n}=await Da.from("private_notes").delete().eq("user_id",Ce).eq("listing_id",e);n&&console.error("Error deleting private note:",n),w(b.filter(t=>t!==e))}else{const{error:t}=await Da.from("favorites").insert([{user_id:Ce,listing_id:e}]);if(t)throw t;w([...b,e])}}catch(n){console.error("Error toggling favorite:",n.message)}finally{W(!1)}},Ie=e=>{je?(R(e),M(!0)):alert("Please log in to chat with a broker.")},De=()=>{G.current&&G.current.scrollIntoView({behavior:"smooth"})},Ae=async e=>{const t="".concat(window.location.origin,"?listingId=").concat(e.id);if(navigator.clipboard&&navigator.clipboard.writeText)try{await navigator.clipboard.writeText(t),alert("Listing link copied to clipboard!")}catch(n){console.error("Failed to copy text:",n),alert("Failed to copy link. Please try again.")}else{const e=document.createElement("textarea");e.value=t,document.body.appendChild(e),e.select();try{document.execCommand("copy"),alert("Listing link copied to clipboard!")}catch(n){console.error("Fallback: Failed to copy text:",n),alert("Failed to copy link. Please copy it manually from the URL bar.")}document.body.removeChild(e)}},Ue=(e,t)=>{B(n=>{const r=((n[e]||0)+1)%t.length;return u(u({},n),{},{[e]:r})})},ze=(e,t)=>{B(n=>{const r=((n[e]||0)-1+t.length)%t.length;return u(u({},n),{},{[e]:r})})},Be=async e=>{f(e),W(!0);try{const{data:t,error:n}=await Da.from("private_notes").select("note_content").eq("user_id",Ce).eq("listing_id",e.id).single();if(n&&"PGRST116"!==n.code)throw n;O((null===t||void 0===t?void 0:t.note_content)||""),L(!0)}catch(t){console.error("Error fetching private note:",t.message),O("")}finally{W(!1)}},Fe=se?s.find(e=>e.id===se):null,We=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=e&&p?p.details:me.details;let n=null;switch(e&&p?p.type:fe){case"house":n=(0,Et.jsxs)(Et.Fragment,{children:[(0,Et.jsxs)("div",{children:[(0,Et.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Bedrooms"}),(0,Et.jsx)("input",{type:"number",name:"bedrooms",placeholder:"Number of bedrooms",required:!0,min:"0",defaultValue:null===t||void 0===t?void 0:t.bedrooms,onChange:e=>ve(u(u({},me),{},{details:u(u({},me.details),{},{bedrooms:e.target.value})})),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Et.jsxs)("div",{children:[(0,Et.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Bathrooms"}),(0,Et.jsx)("input",{type:"number",name:"bathrooms",placeholder:"Number of bathrooms",required:!0,min:"0",defaultValue:null===t||void 0===t?void 0:t.bathrooms,onChange:e=>ve(u(u({},me),{},{details:u(u({},me.details),{},{bathrooms:e.target.value})})),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Et.jsxs)("div",{children:[(0,Et.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Square Feet"}),(0,Et.jsx)("input",{type:"number",name:"sqft",placeholder:"Square footage",required:!0,min:"0",defaultValue:null===t||void 0===t?void 0:t.sqft,onChange:e=>ve(u(u({},me),{},{details:u(u({},me.details),{},{sqft:e.target.value})})),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]});break;case"car":n=(0,Et.jsxs)(Et.Fragment,{children:[(0,Et.jsxs)("div",{children:[(0,Et.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Make"}),(0,Et.jsx)("input",{type:"text",name:"make",placeholder:"Car make",required:!0,defaultValue:null===t||void 0===t?void 0:t.make,onChange:e=>ve(u(u({},me),{},{details:u(u({},me.details),{},{make:e.target.value})})),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Et.jsxs)("div",{children:[(0,Et.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Model"}),(0,Et.jsx)("input",{type:"text",name:"model",placeholder:"Car model",required:!0,defaultValue:null===t||void 0===t?void 0:t.model,onChange:e=>ve(u(u({},me),{},{details:u(u({},me.details),{},{model:e.target.value})})),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Et.jsxs)("div",{children:[(0,Et.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Year"}),(0,Et.jsx)("input",{type:"number",name:"year",placeholder:"Year",required:!0,defaultValue:null===t||void 0===t?void 0:t.year,onChange:e=>ve(u(u({},me),{},{details:u(u({},me.details),{},{year:e.target.value})})),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Et.jsxs)("div",{children:[(0,Et.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Mileage"}),(0,Et.jsx)("input",{type:"number",name:"mileage",placeholder:"Mileage",required:!0,defaultValue:null===t||void 0===t?void 0:t.mileage,onChange:e=>ve(u(u({},me),{},{details:u(u({},me.details),{},{mileage:e.target.value})})),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]});break;case"land":n=(0,Et.jsxs)(Et.Fragment,{children:[(0,Et.jsxs)("div",{children:[(0,Et.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Acres"}),(0,Et.jsx)("input",{type:"number",step:"any",name:"acres",placeholder:"Number of acres",required:!0,defaultValue:null===t||void 0===t?void 0:t.acres,onChange:e=>ve(u(u({},me),{},{details:u(u({},me.details),{},{acres:e.target.value})})),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Et.jsxs)("div",{children:[(0,Et.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Zoning"}),(0,Et.jsx)("input",{type:"text",name:"zoning",placeholder:"Zoning type",required:!0,defaultValue:null===t||void 0===t?void 0:t.zoning,onChange:e=>ve(u(u({},me),{},{details:u(u({},me.details),{},{zoning:e.target.value})})),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]});break;default:n=null}return n};return(0,Et.jsx)(ft,{children:(0,Et.jsxs)("div",{className:"bg-gray-50 min-h-screen",children:[(0,Et.jsx)(Aa,{currentView:i,setCurrentView:a,isLoggedIn:je,session:t,showProfileModal:$,setShowProfileModal:Z,profileForm:ie,setProfileForm:ae,handleProfileChange:_e,handleLogout:async()=>{try{const{error:e}=await Da.auth.signOut();if(e)throw e;n(null),w([])}catch(e){console.error("Error signing out:",e.message),alert("Error signing out. Please try again.")}},setShowLoginModal:re,setShowRegistrationModal:ue}),(0,Et.jsxs)(Re,{children:[(0,Et.jsx)(Me,{path:"/",element:(0,Et.jsx)(Ua,{setCurrentView:a,isLoggedIn:je,setShowAddForm:c})}),(0,Et.jsx)(Me,{path:"/apartments",element:(0,Et.jsx)(za,{category:"apartments",title:"Apartment Listings",colorClass:"from-blue-600 to-indigo-700",listings:s,loading:F,currentImageIndex:z,handleSelectListing:Ee,handleToggleFavorite:Te,favorites:b,isLoggedIn:je,handleOpenChat:Ie,setListingForReview:C,setShowReviewModal:k,handleShareListing:Ae,handleOpenNotesModal:Be,currentView:i})}),(0,Et.jsx)(Me,{path:"/cars",element:(0,Et.jsx)(za,{category:"cars",title:"Car Listings",colorClass:"from-green-600 to-emerald-700",listings:s,loading:F,currentImageIndex:z,handleSelectListing:Ee,handleToggleFavorite:Te,favorites:b,isLoggedIn:je,handleOpenChat:Ie,setListingForReview:C,setShowReviewModal:k,handleShareListing:Ae,handleOpenNotesModal:Be,currentView:i})}),(0,Et.jsx)(Me,{path:"/land",element:(0,Et.jsx)(za,{category:"land",title:"Land Listings",colorClass:"from-yellow-600 to-orange-700",listings:s,loading:F,currentImageIndex:z,handleSelectListing:Ee,handleToggleFavorite:Te,favorites:b,isLoggedIn:je,handleOpenChat:Ie,setListingForReview:C,setShowReviewModal:k,handleShareListing:Ae,handleOpenNotesModal:Be,currentView:i})}),(0,Et.jsx)(Me,{path:"/listing/:id",element:(0,Et.jsx)(Ba,{selectedListing:Fe,currentImageIndex:z,handlePrevImage:ze,handleNextImage:Ue,renderStars:Ne,getAverageRating:Oe,isLoggedIn:je,favorites:b,handleToggleFavorite:Te,setListingForReview:C,setShowReviewModal:k,setCurrentListing:f,setUploadedImage:H,setShowEditModal:h,handleOpenChat:Ie})}),(0,Et.jsx)(Me,{path:"*",element:"public"===i?(0,Et.jsx)("div",{className:"max-w-7xl mx-auto px-6 py-8",children:xe?(0,Et.jsx)("div",{className:"text-red-500 text-center font-semibold p-8",children:"Error loading maps"}):we?(0,Et.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-[1fr_2fr] gap-8",children:[(0,Et.jsx)("div",{className:"h-[60vh] lg:h-[80vh] sticky top-28 rounded-2xl overflow-hidden shadow-lg border border-gray-200",children:(0,Et.jsx)(Bt,{mapContainerStyle:{width:"100%",height:"100%"},center:ke,zoom:10,options:{disableDefaultUI:!0,zoomControl:!0},children:s.map(e=>(0,Et.jsx)(kn,{position:{lat:e.latitude,lng:e.longitude},onClick:()=>Ee(e.id)},e.id))})}),(0,Et.jsx)("div",{children:(0,Et.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 gap-6",children:F?(0,Et.jsxs)("div",{className:"text-center text-gray-500 text-xl font-semibold col-span-full py-12",children:[(0,Et.jsx)("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mb-4"}),(0,Et.jsx)("p",{children:"Loading listings..."})]}):s.length>0?s.map(e=>(0,Et.jsxs)("div",{onClick:()=>Ee(e.id),className:"bg-white rounded-2xl shadow-md overflow-hidden border border-gray-200 transition-all duration-300 hover:shadow-lg hover:border-blue-300 cursor-pointer",children:[e.image_urls&&e.image_urls.length>0?(0,Et.jsxs)("div",{className:"relative h-48 overflow-hidden",children:[(0,Et.jsx)("img",{src:e.image_urls[z[e.id]||0],alt:"Listing at ".concat(e.address),className:"w-full h-full object-cover"}),(0,Et.jsx)("div",{className:"absolute top-3 right-3 flex space-x-2",children:je&&(0,Et.jsx)("button",{type:"button",onClick:t=>{t.stopPropagation(),Te(e.id)},className:"w-10 h-10 rounded-full flex items-center justify-center backdrop-blur-sm ".concat(b.includes(e.id)?"bg-red-500 text-white":"bg-white/80 text-gray-700"),children:(0,Et.jsx)("i",{className:"fas ".concat((b.includes(e.id),"fa-heart")," text-lg")})})}),e.image_urls.length>1&&(0,Et.jsx)("div",{className:"absolute bottom-3 left-1/2 transform -translate-x-1/2 flex space-x-1",children:e.image_urls.map((t,n)=>(0,Et.jsx)("span",{className:"block w-2 h-2 rounded-full transition-colors ".concat(n===z[e.id]?"bg-white":"bg-white/50")},n))})]}):(0,Et.jsx)("div",{className:"h-48 bg-gradient-to-br from-gray-200 to-gray-300 flex items-center justify-center text-gray-500",children:(0,Et.jsxs)("div",{className:"text-center",children:[(0,Et.jsx)("i",{className:"fas fa-home text-4xl mb-2"}),(0,Et.jsx)("p",{children:"No Image Available"})]})}),(0,Et.jsxs)("div",{className:"p-5",children:[(0,Et.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,Et.jsxs)("div",{children:[(0,Et.jsx)("h2",{className:"text-lg font-bold text-gray-900 mb-1",children:e.address}),(0,Et.jsx)("p",{className:"text-gray-600 text-sm",children:e.city})]}),(0,Et.jsxs)("div",{className:"text-xl font-bold text-blue-600 mb-3",children:["$",(new Intl.NumberFormat).format(e.price)]})]}),(0,Et.jsx)("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:e.description}),(0,Et.jsxs)("div",{className:"flex flex-wrap gap-2 mt-4",children:[je&&"public"===i&&(0,Et.jsxs)(Et.Fragment,{children:[e.owner_id===Ce?(0,Et.jsxs)(Et.Fragment,{children:[(0,Et.jsxs)("button",{className:"flex-1 text-center px-3 py-2 bg-gray-100 text-gray-700 font-medium rounded-lg hover:bg-gray-200 transition-colors text-sm",children:[(0,Et.jsx)("i",{className:"fas fa-edit mr-1"})," Edit"]}),(0,Et.jsxs)("button",{className:"flex-1 text-center px-3 py-2 bg-gray-100 text-gray-700 font-medium rounded-lg hover:bg-gray-200 transition-colors text-sm",children:[(0,Et.jsx)("i",{className:"fas fa-trash mr-1"})," Delete"]})]}):(0,Et.jsxs)("button",{type:"button",onClick:t=>{t.stopPropagation(),Te(e.id)},className:"flex-1 text-center px-3 py-2 font-medium rounded-lg transition-colors text-sm ".concat(b.includes(e.id)?"bg-red-100 text-red-600 hover:bg-red-200":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[(0,Et.jsx)("i",{className:"fas ".concat((b.includes(e.id),"fa-heart")," mr-1")}),b.includes(e.id)?"Saved":"Save"]}),(0,Et.jsxs)("button",{type:"button",onClick:t=>{t.stopPropagation(),Ie(e)},className:"flex-1 text-center px-3 py-2 bg-blue-100 text-blue-600 font-medium rounded-lg hover:bg-blue-200 transition-colors text-sm",children:[(0,Et.jsx)("i",{className:"fas fa-comment mr-1"})," Chat"]})]}),(0,Et.jsxs)("button",{type:"button",onClick:t=>{t.stopPropagation(),C(e),k(!0)},className:"flex-1 text-center px-3 py-2 bg-gray-100 text-gray-700 font-medium rounded-lg hover:bg-gray-200 transition-colors text-sm",children:[(0,Et.jsx)("i",{className:"fas fa-star mr-1"})," Reviews"]}),(0,Et.jsxs)("button",{type:"button",onClick:t=>{t.stopPropagation(),Ae(e)},className:"flex-1 text-center px-3 py-2 bg-gray-100 text-gray-700 font-medium rounded-lg hover:bg-gray-200 transition-colors text-sm",children:[(0,Et.jsx)("i",{className:"fas fa-share-alt mr-1"})," Share"]}),"favorites"===i&&(0,Et.jsxs)("button",{type:"button",onClick:t=>{t.stopPropagation(),Be(e)},className:"flex-1 text-center px-3 py-2 bg-purple-100 text-purple-700 font-medium rounded-lg hover:bg-purple-200 transition-colors text-sm",children:[(0,Et.jsx)("i",{className:"fas fa-sticky-note mr-1"})," Note"]})]})]})]},e.id)):(0,Et.jsxs)("div",{className:"text-center text-gray-500 text-xl font-semibold col-span-full py-12",children:[(0,Et.jsx)("i",{className:"fas fa-home text-4xl mb-4 text-gray-300"}),(0,Et.jsx)("p",{children:"No listings found."})]})})})]}):(0,Et.jsx)("div",{className:"text-gray-500 text-center font-semibold p-8",children:"Loading Map..."})}):Fe?(0,Et.jsx)(Ba,{selectedListing:Fe,currentImageIndex:z,handlePrevImage:ze,handleNextImage:Ue,renderStars:Ne,getAverageRating:Oe,isLoggedIn:je,favorites:b,handleToggleFavorite:Te,setListingForReview:C,setShowReviewModal:k,setCurrentListing:f,setUploadedImage:H,setShowEditModal:h,handleOpenChat:Ie}):(0,Et.jsxs)("div",{className:"text-center py-12",children:[(0,Et.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Page Not Found"}),(0,Et.jsx)("button",{type:"button",onClick:()=>a("public"),className:"px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors",children:"Go to Home"})]})})]}),l&&(0,Et.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Et.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,Et.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 p-6 rounded-t-2xl",children:(0,Et.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Et.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Add New Listing"}),(0,Et.jsx)("button",{type:"button",onClick:()=>c(!1),className:"text-white hover:text-gray-200 transition-colors",children:(0,Et.jsx)("i",{className:"fas fa-times text-xl"})})]})}),(0,Et.jsxs)("div",{className:"p-6",children:[(0,Et.jsxs)("div",{className:"mb-6",children:[(0,Et.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Listing Type"}),(0,Et.jsxs)("select",{value:fe,onChange:e=>{ge(e.target.value),ve({})},className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Et.jsx)("option",{value:"house",children:"House"}),(0,Et.jsx)("option",{value:"car",children:"Car"}),(0,Et.jsx)("option",{value:"land",children:"Land"})]})]}),(0,Et.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),W(!0);let t=[];if(V){const e=await Le(V);e&&t.push(e)}else{const e=await(async e=>(K(!0),new Promise(t=>{setTimeout(()=>{const n="https://loremflickr.com/640/480/".concat(e.bedrooms," bed ").concat(e.bathrooms," bath, ").concat(e.city,", real estate?lock=").concat(Math.floor(1e3*Math.random()));K(!1),t(n)},2e3)})))({city:me.city,bedrooms:me.bedrooms,bathrooms:me.bathrooms});t.push(e)}const n={type:fe,address:me.address,city:me.city,price:parseInt(me.price,10),latitude:parseFloat(me.latitude),longitude:parseFloat(me.longitude),description:me.description,image_urls:t,reviews:[],owner_id:Ce,details:me.details};try{const{error:e}=await Da.from("listings").insert([n]);if(e)throw e;await Se(),c(!1),H(null),ge("house"),ve({})}catch(r){console.error("Error adding listing:",r.message)}finally{W(!1)}},className:"space-y-4",children:[(0,Et.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Et.jsxs)("div",{children:[(0,Et.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Address"}),(0,Et.jsx)("input",{type:"text",name:"address",placeholder:"Street address",required:!0,value:me.address||"",onChange:e=>ve(u(u({},me),{},{address:e.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Et.jsxs)("div",{children:[(0,Et.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"City"}),(0,Et.jsx)("input",{type:"text",name:"city",placeholder:"City",required:!0,value:me.city||"",onChange:e=>ve(u(u({},me),{},{city:e.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Et.jsxs)("div",{children:[(0,Et.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Price"}),(0,Et.jsx)("input",{type:"number",name:"price",placeholder:"Price",required:!0,min:"0",value:me.price||"",onChange:e=>ve(u(u({},me),{},{price:e.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Et.jsxs)("div",{children:[(0,Et.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Latitude"}),(0,Et.jsx)("input",{type:"number",step:"any",name:"latitude",placeholder:"Latitude",required:!0,value:me.latitude||"",onChange:e=>ve(u(u({},me),{},{latitude:e.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Et.jsxs)("div",{children:[(0,Et.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Longitude"}),(0,Et.jsx)("input",{type:"number",step:"any",name:"longitude",placeholder:"Longitude",required:!0,value:me.longitude||"",onChange:e=>ve(u(u({},me),{},{longitude:e.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,Et.jsxs)("div",{children:[(0,Et.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Description"}),(0,Et.jsx)("textarea",{name:"description",placeholder:"Description",required:!0,value:me.description||"",onChange:e=>ve(u(u({},me),{},{description:e.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"3"})]}),We(),(0,Et.jsxs)("div",{children:[(0,Et.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Upload Image (optional)"}),(0,Et.jsx)("input",{type:"file",accept:"image/*",onChange:Pe,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Et.jsxs)("div",{className:"flex justify-end space-x-4 pt-4",children:[(0,Et.jsx)("button",{type:"button",onClick:()=>c(!1),className:"px-6 py-3 bg-gray-200 text-gray-800 font-medium rounded-lg hover:bg-gray-300 transition-colors",children:"Cancel"}),(0,Et.jsx)("button",{type:"submit",disabled:F||q,className:"px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:F||q?"Processing...":"Add Listing"})]})]})]})]})}),d&&p&&(0,Et.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Et.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,Et.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 p-6 rounded-t-2xl",children:(0,Et.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Et.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Edit Listing"}),(0,Et.jsx)("button",{type:"button",onClick:()=>h(!1),className:"text-white hover:text-gray-200 transition-colors",children:(0,Et.jsx)("i",{className:"fas fa-times text-xl"})})]})}),(0,Et.jsx)("div",{className:"p-6",children:(0,Et.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),W(!0);let t=p.image_urls;if(V){const e=await Le(V);e&&(t=[e])}const n=u(u({},p),{},{address:me.address,city:me.city,price:parseInt(me.price,10),latitude:parseFloat(me.latitude),longitude:parseFloat(me.longitude),description:me.description,image_urls:t,details:me.details});try{const{error:e}=await Da.from("listings").update(n).eq("id",p.id);if(e)throw e;await Se(),h(!1),f(null),H(null)}catch(r){console.error("Error updating listing:",r.message)}finally{W(!1)}},className:"space-y-4",children:[(0,Et.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Et.jsxs)("div",{children:[(0,Et.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Address"}),(0,Et.jsx)("input",{type:"text",name:"address",placeholder:"Address",required:!0,defaultValue:p.address,onChange:e=>ve(u(u({},me),{},{address:e.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Et.jsxs)("div",{children:[(0,Et.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"City"}),(0,Et.jsx)("input",{type:"text",name:"city",placeholder:"City",required:!0,defaultValue:p.city,onChange:e=>ve(u(u({},me),{},{city:e.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Et.jsxs)("div",{children:[(0,Et.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Price"}),(0,Et.jsx)("input",{type:"number",name:"price",placeholder:"Price",required:!0,min:"0",defaultValue:p.price,onChange:e=>ve(u(u({},me),{},{price:e.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Et.jsxs)("div",{children:[(0,Et.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Latitude"}),(0,Et.jsx)("input",{type:"number",step:"any",name:"latitude",placeholder:"Latitude",required:!0,defaultValue:p.latitude,onChange:e=>ve(u(u({},me),{},{latitude:e.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Et.jsxs)("div",{children:[(0,Et.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Longitude"}),(0,Et.jsx)("input",{type:"number",step:"any",name:"longitude",placeholder:"Longitude",required:!0,defaultValue:p.longitude,onChange:e=>ve(u(u({},me),{},{longitude:e.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,Et.jsxs)("div",{children:[(0,Et.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Description"}),(0,Et.jsx)("textarea",{name:"description",placeholder:"Description",required:!0,defaultValue:p.description,onChange:e=>ve(u(u({},me),{},{description:e.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"3"})]}),We(!0),(0,Et.jsxs)("div",{children:[(0,Et.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Upload New Image (optional)"}),(0,Et.jsx)("input",{type:"file",accept:"image/*",onChange:Pe,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Et.jsxs)("div",{className:"flex justify-end space-x-4 pt-4",children:[(0,Et.jsx)("button",{type:"button",onClick:()=>h(!1),className:"px-6 py-3 bg-gray-200 text-gray-800 font-medium rounded-lg hover:bg-gray-300 transition-colors",children:"Cancel"}),(0,Et.jsx)("button",{type:"submit",disabled:F,className:"px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:F?"Updating...":"Update Listing"})]})]})})]})}),g&&(0,Et.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Et.jsx)("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md p-8",children:(0,Et.jsxs)("div",{className:"text-center",children:[(0,Et.jsx)("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-red-100 mb-4",children:(0,Et.jsx)("i",{className:"fas fa-exclamation-triangle text-red-600 text-2xl"})}),(0,Et.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Confirm Deletion"}),(0,Et.jsx)("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to delete this listing? This action cannot be undone."}),(0,Et.jsxs)("div",{className:"flex justify-center space-x-4",children:[(0,Et.jsx)("button",{type:"button",onClick:()=>{m(!1),y(null)},className:"px-6 py-3 bg-gray-200 text-gray-800 font-medium rounded-lg hover:bg-gray-300 transition-colors",children:"Cancel"}),(0,Et.jsx)("button",{type:"button",onClick:()=>(async e=>{W(!0);try{const{error:t}=await Da.from("listings").delete().eq("id",e);if(t)throw t;await Se()}catch(t){console.error("Error deleting listing:",t.message)}finally{m(!1),y(null),W(!1)}})(v),className:"px-6 py-3 bg-red-600 text-white font-medium rounded-lg hover:bg-red-700 transition-colors",children:"Delete"})]})]})})}),x&&E&&(0,Et.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Et.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,Et.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 p-6 rounded-t-2xl",children:(0,Et.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Et.jsxs)("h2",{className:"text-2xl font-bold text-white",children:["Reviews for ",E.address]}),(0,Et.jsx)("button",{type:"button",onClick:()=>k(!1),className:"text-white hover:text-gray-200 transition-colors",children:(0,Et.jsx)("i",{className:"fas fa-times text-xl"})})]})}),(0,Et.jsxs)("div",{className:"p-6",children:[E.reviews.length>0?(0,Et.jsx)("div",{className:"space-y-4 max-h-96 overflow-y-auto pr-2",children:E.reviews.map((e,t)=>(0,Et.jsxs)("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-200",children:[(0,Et.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Et.jsxs)("div",{className:"flex items-center space-x-2",children:[Ne(e.rating),(0,Et.jsx)("span",{className:"text-sm font-medium text-gray-700",children:5===e.rating?"Excellent":4===e.rating?"Good":3===e.rating?"Average":2===e.rating?"Poor":"Terrible"})]}),(0,Et.jsx)("span",{className:"text-xs text-gray-500",children:new Date(e.created_at).toLocaleDateString()})]}),(0,Et.jsx)("p",{className:"text-gray-700",children:e.review_text}),(0,Et.jsxs)("div",{className:"mt-2 text-xs text-gray-500",children:["by User ",e.reviewer_id.substring(0,8),"..."]})]},t))}):(0,Et.jsxs)("div",{className:"text-center py-8",children:[(0,Et.jsx)("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-gray-100 mb-4",children:(0,Et.jsx)("i",{className:"fas fa-star text-gray-400 text-2xl"})}),(0,Et.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Reviews Yet"}),(0,Et.jsx)("p",{className:"text-gray-600 mb-6",children:"Be the first to share your experience with this property."})]}),(0,Et.jsx)("div",{className:"mt-6 flex justify-center",children:(0,Et.jsxs)("button",{type:"button",onClick:()=>{k(!1),_(!0)},className:"px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[(0,Et.jsx)("i",{className:"fas fa-plus mr-2"}),"Add Your Review"]})})]})]})}),S&&E&&(0,Et.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Et.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md",children:[(0,Et.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 p-6 rounded-t-2xl",children:(0,Et.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Et.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Add Review"}),(0,Et.jsx)("button",{type:"button",onClick:()=>_(!1),className:"text-white hover:text-gray-200 transition-colors",children:(0,Et.jsx)("i",{className:"fas fa-times text-xl"})})]})}),(0,Et.jsx)("div",{className:"p-6",children:(0,Et.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const t=e.target,n={reviewer_id:Ce,rating:parseInt(t.rating.value,10),review_text:t.reviewText.value},r=[...E.reviews,n];try{const{error:e}=await Da.from("listings").update({reviews:r}).eq("id",E.id);if(e)throw e;await Se(),_(!1),k(!0)}catch(s){console.error("Error adding review:",s.message)}},className:"space-y-6",children:[(0,Et.jsxs)("div",{children:[(0,Et.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Rating"}),(0,Et.jsx)("div",{className:"flex items-center space-x-2",children:[1,2,3,4,5].map(e=>(0,Et.jsxs)("label",{className:"flex flex-col items-center",children:[(0,Et.jsx)("input",{type:"radio",name:"rating",value:e,required:!0,className:"sr-only"}),(0,Et.jsx)("div",{className:"w-10 h-10 rounded-full border-2 border-gray-300 flex items-center justify-center cursor-pointer hover:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500",children:(0,Et.jsx)("span",{className:"text-lg font-medium",children:e})}),(0,Et.jsx)("span",{className:"text-xs text-gray-500 mt-1",children:1===e?"Poor":2===e?"Fair":3===e?"Good":4===e?"Very Good":"Excellent"})]},e))})]}),(0,Et.jsxs)("div",{children:[(0,Et.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Your Review"}),(0,Et.jsx)("textarea",{name:"reviewText",placeholder:"Share your experience with this property...",rows:"4",required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Et.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,Et.jsx)("button",{type:"button",onClick:()=>_(!1),className:"px-6 py-3 bg-gray-200 text-gray-800 font-medium rounded-lg hover:bg-gray-300 transition-colors",children:"Cancel"}),(0,Et.jsx)("button",{type:"submit",className:"px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors",children:"Submit Review"})]})]})})]})}),j&&p&&(0,Et.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Et.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md",children:[(0,Et.jsx)("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-700 p-6 rounded-t-2xl",children:(0,Et.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Et.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Personal Note"}),(0,Et.jsx)("button",{type:"button",onClick:()=>L(!1),className:"text-white hover:text-gray-200 transition-colors",children:(0,Et.jsx)("i",{className:"fas fa-times text-xl"})})]})}),(0,Et.jsxs)("div",{className:"p-6",children:[(0,Et.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:p.address}),(0,Et.jsx)("p",{className:"text-gray-600 mb-6",children:p.city}),(0,Et.jsxs)("div",{className:"mb-6",children:[(0,Et.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Your Note"}),(0,Et.jsx)("textarea",{value:P,onChange:e=>O(e.target.value),placeholder:"Write your private notes here...",rows:"6",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),(0,Et.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,Et.jsx)("button",{type:"button",onClick:()=>{L(!1),O("")},className:"px-6 py-3 bg-gray-200 text-gray-800 font-medium rounded-lg hover:bg-gray-300 transition-colors",children:"Cancel"}),(0,Et.jsx)("button",{type:"button",onClick:async()=>{if(p&&Ce){W(!0);try{const e={user_id:Ce,listing_id:p.id,note_content:P},{data:t,error:n}=await Da.from("private_notes").select("id").eq("user_id",Ce).eq("listing_id",p.id).single();if(n&&"PGRST116"!==n.code)throw n;if(t){const{error:n}=await Da.from("private_notes").update(e).eq("id",t.id);if(n)throw n}else{const{error:t}=await Da.from("private_notes").insert(e);if(t)throw t}L(!1),alert("Note saved successfully!")}catch(e){console.error("Error saving note:",e.message),alert("Failed to save note.")}finally{W(!1)}}},className:"px-6 py-3 bg-purple-600 text-white font-medium rounded-lg hover:bg-purple-700 transition-colors",children:"Save Note"})]})]})]})}),N&&T&&(0,Et.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Et.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md flex flex-col h-full max-h-[80vh]",children:[(0,Et.jsx)("div",{className:"bg-gradient-to-r from-green-600 to-teal-700 p-6 rounded-t-2xl",children:(0,Et.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Et.jsxs)("h2",{className:"text-xl font-bold text-white",children:["Chat for ",T.address]}),(0,Et.jsx)("button",{type:"button",onClick:()=>M(!1),className:"text-white hover:text-gray-200 transition-colors",children:(0,Et.jsx)("i",{className:"fas fa-times text-xl"})})]})}),(0,Et.jsx)("div",{className:"flex-grow overflow-y-auto p-4 bg-gray-50",children:I.length>0?(0,Et.jsxs)("div",{className:"space-y-4",children:[I.map(e=>(0,Et.jsx)("div",{className:"flex ".concat(e.user_id===Ce?"justify-end":"justify-start"),children:(0,Et.jsxs)("div",{className:"max-w-[80%] p-4 rounded-2xl ".concat(e.user_id===Ce?"bg-green-500 text-white rounded-tr-none":"bg-white border border-gray-200 rounded-tl-none"),children:[(0,Et.jsx)("p",{className:"break-words",children:e.content}),(0,Et.jsx)("p",{className:"text-xs mt-1 ".concat(e.user_id===Ce?"text-green-100":"text-gray-500"),children:new Date(e.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},e.id)),(0,Et.jsx)("div",{ref:G})]}):(0,Et.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,Et.jsxs)("div",{className:"text-center",children:[(0,Et.jsx)("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-gray-200 mb-4",children:(0,Et.jsx)("i",{className:"fas fa-comments text-gray-500 text-2xl"})}),(0,Et.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Messages Yet"}),(0,Et.jsx)("p",{className:"text-gray-600",children:"Start the conversation with the broker."})]})})}),(0,Et.jsx)("div",{className:"p-4 border-t border-gray-200",children:(0,Et.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),A.trim()&&Ce&&T)try{const{error:e}=await Da.from("messages").insert({listing_id:T.id,user_id:Ce,content:A});if(e)throw e;U("")}catch(t){console.error("Error sending message:",t.message)}},className:"flex space-x-2",children:[(0,Et.jsx)("input",{type:"text",value:A,onChange:e=>U(e.target.value),placeholder:"Type a message...",className:"flex-grow p-3 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-green-500"}),(0,Et.jsx)("button",{type:"submit",className:"px-4 py-3 bg-green-600 text-white rounded-full hover:bg-green-700 transition-colors",children:(0,Et.jsx)("i",{className:"fas fa-paper-plane"})})]})})]})}),le&&(0,Et.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Et.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md",children:[(0,Et.jsx)("div",{className:"bg-gradient-to-r from-green-600 to-emerald-700 p-6 rounded-t-2xl",children:(0,Et.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Et.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Create Account"}),(0,Et.jsx)("button",{type:"button",onClick:()=>ue(!1),className:"text-white hover:text-gray-200 transition-colors",children:(0,Et.jsx)("i",{className:"fas fa-times text-xl"})})]})}),(0,Et.jsxs)("div",{className:"p-6",children:[(0,Et.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),W(!0);const t=e.target,n=t.email.value,r=t.password.value,s=t.name.value;try{const{data:e,error:t}=await Da.auth.signUp({email:n,password:r,options:{data:{name:s}}});if(t)throw t;if(e.user){const{error:t}=await Da.from("profiles").insert([{id:e.user.id,email:e.user.email,name:s,role:"user"}]);if(t)throw t}alert("Registration successful! Please check your email to confirm your account."),ue(!1),re(!0)}catch(o){alert(o.message)}finally{W(!1)}},className:"space-y-4",children:[(0,Et.jsxs)("div",{children:[(0,Et.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Full Name"}),(0,Et.jsx)("input",{type:"text",name:"name",placeholder:"Your full name",required:!0,value:ie.name,onChange:_e,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"})]}),(0,Et.jsxs)("div",{children:[(0,Et.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Email Address"}),(0,Et.jsx)("input",{type:"email",name:"email",placeholder:"Your email address",required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"})]}),(0,Et.jsxs)("div",{children:[(0,Et.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Password"}),(0,Et.jsx)("input",{type:"password",name:"password",placeholder:"Create a password",required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"})]}),(0,Et.jsx)("div",{className:"pt-2",children:(0,Et.jsx)("button",{type:"submit",className:"w-full px-6 py-3 bg-green-600 text-white font-medium rounded-lg hover:bg-green-700 transition-colors",children:"Create Account"})})]}),(0,Et.jsxs)("p",{className:"mt-6 text-center text-gray-600",children:["Already have an account?"," ",(0,Et.jsx)("button",{type:"button",onClick:()=>{ue(!1),re(!0)},className:"text-green-600 hover:text-green-700 font-medium",children:"Sign in"})]})]})]})}),ne&&(0,Et.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Et.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md",children:[(0,Et.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 p-6 rounded-t-2xl",children:(0,Et.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Et.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Welcome Back"}),(0,Et.jsx)("button",{type:"button",onClick:()=>re(!1),className:"text-white hover:text-gray-200 transition-colors",children:(0,Et.jsx)("i",{className:"fas fa-times text-xl"})})]})}),(0,Et.jsxs)("div",{className:"p-6",children:[(0,Et.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),W(!0);const t=e.target,{error:n}=await Da.auth.signInWithPassword({email:t.email.value,password:t.password.value});W(!1),n?alert(n.message):re(!1)},className:"space-y-4",children:[(0,Et.jsxs)("div",{children:[(0,Et.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Email Address"}),(0,Et.jsx)("input",{type:"email",name:"email",placeholder:"Enter your email",required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Et.jsxs)("div",{children:[(0,Et.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Password"}),(0,Et.jsx)("input",{type:"password",name:"password",placeholder:"Enter your password",required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Et.jsx)("div",{className:"flex items-center justify-between",children:(0,Et.jsx)("button",{type:"button",onClick:async()=>{const e=prompt("Please enter your email address to reset your password:");if(e)try{const{error:t}=await Da.auth.resetPasswordForEmail(e,{redirectTo:"".concat(window.location.origin,"/reset-password")});if(t)throw t;alert("Password reset email sent. Please check your inbox.")}catch(t){console.error("Error sending password reset email:",t.message),alert("Error sending password reset email. Please try again.")}},className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Forgot your password?"})}),(0,Et.jsx)("div",{className:"pt-2",children:(0,Et.jsx)("button",{type:"submit",disabled:F,className:"w-full px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:F?"Logging in...":"Sign In"})})]}),(0,Et.jsxs)("p",{className:"mt-6 text-center text-gray-600",children:["Don't have an account?"," ",(0,Et.jsx)("button",{type:"button",onClick:()=>{re(!1),ue(!0)},className:"text-blue-600 hover:text-blue-700 font-medium",children:"Sign up"})]})]})]})}),$&&(0,Et.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Et.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md",children:[(0,Et.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 p-6 rounded-t-2xl",children:(0,Et.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Et.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Update Profile"}),(0,Et.jsx)("button",{type:"button",onClick:()=>Z(!1),className:"text-white hover:text-gray-200 transition-colors",children:(0,Et.jsx)("i",{className:"fas fa-times text-xl"})})]})}),(0,Et.jsx)("div",{className:"p-6",children:(0,Et.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),W(!0);try{const{error:e}=await Da.auth.updateUser({data:{name:ie.name}});if(e)throw e;alert("Profile updated successfully!")}catch(t){console.error("Error updating profile:",t.message),alert("Error updating profile. Please try again.")}finally{W(!1)}},className:"space-y-4",children:[(0,Et.jsxs)("div",{children:[(0,Et.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Name"}),(0,Et.jsx)("input",{type:"text",name:"name",value:ie.name,onChange:_e,placeholder:"Your name",required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Et.jsxs)("div",{className:"flex justify-end space-x-4 pt-4",children:[(0,Et.jsx)("button",{type:"button",onClick:()=>Z(!1),className:"px-6 py-3 bg-gray-200 text-gray-800 font-medium rounded-lg hover:bg-gray-300 transition-colors",children:"Cancel"}),(0,Et.jsx)("button",{type:"submit",disabled:F,className:"px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:F?"Updating...":"Update Profile"})]})]})})]})})]})})};s.createRoot(document.getElementById("root")).render((0,Et.jsx)(r.StrictMode,{children:(0,Et.jsx)(Fa,{})}))})();
//# sourceMappingURL=main.8c7b7e7a.js.map